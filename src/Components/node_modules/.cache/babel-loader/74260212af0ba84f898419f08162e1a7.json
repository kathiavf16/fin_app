{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _assignDefined = _interopRequireDefault(require(\"../../../packages/assign-defined\"));\n\nvar _src = _interopRequireWildcard(require(\"../../../packages/react-virtual-list-pro/src\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"../../../packages/shallowequal\"));\n\nvar _renderRows = _interopRequireDefault(require(\"./renderRows\"));\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"../../../packages/shouldComponentUpdate\"));\n\nvar _searchClosestSmallerValue = _interopRequireDefault(require(\"../../../utils/searchClosestSmallerValue\"));\n\nvar _renderEmptyContent = _interopRequireDefault(require(\"../../../renderEmptyContent\"));\n\nvar _detectUa = require(\"../../../detect-ua\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar EMPTY_OBJECT = {};\n\nvar returnTrue = function returnTrue() {\n  return true;\n};\n\nvar CHUNKS_SIZE = 1;\nvar raf = global.requestAnimationFrame;\nvar DEFAULT_SCROLL_POS = {\n  scrollLeft: 0,\n  scrollTop: 0\n};\n\nvar InovuaDataGridList = function (_Component) {\n  (0, _inherits2.default)(InovuaDataGridList, _Component);\n\n  var _super = _createSuper(InovuaDataGridList);\n\n  function InovuaDataGridList(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDataGridList);\n    _this = _super.call(this, props);\n    _this.lastScrollTimestamp = 0;\n\n    _this.isRowFullyVisible = function (index) {\n      return _this.virtualList.isRowVisible(index);\n    };\n\n    _this.computeRows = function (props) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EMPTY_OBJECT,\n          from = _ref.from,\n          to = _ref.to,\n          rowHeight = _ref.rowHeight,\n          renderIndex = _ref.renderIndex,\n          empty = _ref.empty,\n          setRowSpan = _ref.setRowSpan,\n          sticky = _ref.sticky;\n\n      var columnRenderCount = props.columnRenderCount;\n      return (0, _renderRows.default)({\n        empty: empty,\n        renderIndex: renderIndex,\n        setRowSpan: setRowSpan,\n        sticky: sticky,\n        from: from || _this.startIndex || 0,\n        to: to || _this.endIndex || CHUNKS_SIZE,\n        rowHeight: rowHeight,\n        columnRenderStartIndex: _this.columnRenderStartIndex,\n        columnRenderCount: columnRenderCount,\n        onEditStop: _this.onEditStop,\n        onEditStart: _this.onEditStart,\n        onEditValueChange: _this.onEditValueChange,\n        getScrollLeftMax: _this.props.getScrollLeftMax,\n        tryNextRowEdit: _this.tryRowEdit,\n        editValue: _this.editValue,\n        editRowIndex: _this.editRowIndex,\n        editColumnIndex: _this.editColumnIndex,\n        editColumnId: _this.editColumnId\n      }, props);\n    };\n\n    _this.tryRowEdit = function (nextEditRowIndex, dir) {\n      var columnEditIndex = dir > 0 ? 0 : _this.props.columns.length - 1;\n\n      var row = _this.getRowAt(nextEditRowIndex);\n\n      if (!row) {\n        return;\n      }\n\n      row.tryRowCellEdit(columnEditIndex, dir);\n    };\n\n    _this.isEditing = function () {\n      return !!_this.editColumnId;\n    };\n\n    _this.onEditStop = function (args) {\n      if (_this.editColumnIndex !== args.columnIndex || _this.editRowIndex !== args.rowIndex) {\n        return;\n      }\n\n      if (_this.props.onEditStop) {\n        _this.props.onEditStop(args);\n      }\n\n      _this.updateEditing({\n        value: undefined,\n        rowIndex: undefined,\n        columnIndex: undefined\n      });\n    };\n\n    _this.onEditValueChange = function (args) {\n      if (_this.props.onEditValueChange) {\n        _this.props.onEditValueChange(args);\n      }\n\n      _this.updateEditing(args);\n    };\n\n    _this.onEditStart = function (args) {\n      if (_this.props.onEditStart) {\n        _this.props.onEditStart(args);\n      }\n\n      _this.updateEditing(args);\n    };\n\n    _this.updateEditing = function (_ref2) {\n      var value = _ref2.value,\n          rowIndex = _ref2.rowIndex,\n          columnId = _ref2.columnId,\n          columnIndex = _ref2.columnIndex;\n      var oldEditRowIndex = _this.editRowIndex;\n      var oldEditValue = _this.editValue;\n      var oldEditColumnIndex = _this.editColumnIndex;\n      _this.editValue = value;\n      _this.editRowIndex = rowIndex;\n      _this.editColumnIndex = columnIndex;\n      _this.editColumnId = columnId;\n\n      if (_this.editTimeoutId) {\n        clearTimeout(_this.editTimeoutId);\n      }\n\n      _this.lazyEditColumnId = _this.editColumnId || _this.lazyEditColumnId;\n      _this.editTimeoutId = setTimeout(function () {\n        delete _this.editTimeoutId;\n        _this.lazyEditColumnId = _this.editColumnId;\n      }, 50);\n\n      if (oldEditRowIndex === rowIndex && oldEditColumnIndex === columnIndex && oldEditValue !== value) {\n        _this.virtualList.getRows().forEach(function (r) {\n          var row = r.getInstance();\n\n          if (row.props.rowIndex === rowIndex) {\n            r.update();\n          }\n        });\n\n        return;\n      }\n\n      _this.forceUpdate();\n    };\n\n    _this.onScrollHorizontal = function (scrollLeft, _, __, scrollLeftMax) {\n      _this.onContainerScrollHorizontal(scrollLeft, undefined, scrollLeftMax);\n    };\n\n    _this.renderRowContainer = function (props) {\n      return _react.default.createElement(\"div\", Object.assign({}, props), props.children, _this.props.renderActiveRowIndicator(_this.setupActiveRowIndicatorHandle));\n    };\n\n    _this.setupActiveRowIndicatorHandle = function (activeRowHandle) {\n      _this.activeRowIndicatorHandle = activeRowHandle;\n    };\n\n    _this.renderEmptyContent = function () {\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      var _this$props = _this.props,\n          i18n = _this$props.i18n,\n          data = _this$props.data,\n          loading = _this$props.computedLoading,\n          nativeScroll = _this$props.nativeScroll;\n      var emptyText = _this.props.emptyText;\n      var length = data.length;\n      emptyText = i18n(emptyText, emptyText);\n\n      if (!length && !loading) {\n        return (0, _renderEmptyContent.default)(emptyText, 'empty', {\n          right: nativeScroll ? 0 : -SCROLLBAR_WIDTH,\n          bottom: nativeScroll ? 0 : -SCROLLBAR_WIDTH\n        });\n      }\n    };\n\n    _this.renderView = function (viewProps) {\n      var _this$props2 = _this.props,\n          data = _this$props2.data,\n          loading = _this$props2.loading;\n      var length = data.length;\n\n      if (!length && !loading) {\n        viewProps.children = _react.default.Children.toArray(viewProps.children);\n        viewProps.children.push(_this.renderEmptyContent());\n\n        if (_detectUa.IS_EDGE) {\n          viewProps.style.minHeight = '99%';\n        }\n      }\n\n      var result;\n\n      if (_this.props.renderView) {\n        result = _this.props.renderView(viewProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", Object.assign({}, viewProps));\n      }\n\n      return result;\n    };\n\n    _this.renderSizer = function (props, scrollHeight) {\n      if (!_this.props.nativeScroll) {\n        return;\n      }\n\n      if (!_this.props.virtualized) {\n        return null;\n      }\n\n      var minWidth = Math.max(_this.props.availableWidth || 0, _this.props.minRowWidth || 0) || 0;\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n\n      var sizerStyle = _objectSpread(_objectSpread({}, props.style), {}, {\n        minWidth: minWidth,\n        minHeight: props.style ? (props.style.minHeight || 0) - (!SCROLLBAR_WIDTH ? _this.getEmptyScrollOffset() : 0) : 0\n      });\n\n      if (_this.props.naturalRowHeight) {\n        sizerStyle.height = scrollHeight;\n      }\n\n      return _react.default.createElement(\"div\", Object.assign({\n        key: \"grid-sizer\",\n        \"data-name\": \"sizer\"\n      }, props, {\n        style: sizerStyle\n      }));\n    };\n\n    _this.renderScroller = function (scrollerProps) {\n      var _style;\n\n      var _this$props3 = _this.props,\n          data = _this$props3.data,\n          loading = _this$props3.loading,\n          virtualized = _this$props3.virtualized,\n          maxVisibleRows = _this$props3.maxVisibleRows,\n          nativeScroll = _this$props3.nativeScroll,\n          availableWidth = _this$props3.availableWidth,\n          minRowWidth = _this$props3.minRowWidth;\n      var length = data.length;\n      scrollerProps.children.push(_react.default.createElement(\"div\", {\n        key: \"empty-spacer\",\n        \"data-name\": \"empty-spacer\",\n        style: (_style = {\n          position: _detectUa.IS_IE && nativeScroll ? 'static' : 'absolute',\n          contain: 'strict'\n        }, (0, _defineProperty2.default)(_style, _this.props.rtl ? 'right' : 'left', 0), (0, _defineProperty2.default)(_style, \"height\", 1), (0, _defineProperty2.default)(_style, \"top\", 0), (0, _defineProperty2.default)(_style, \"pointerEvents\", 'none'), (0, _defineProperty2.default)(_style, \"minWidth\", Math.max(availableWidth, minRowWidth) || 0), _style)\n      }, _detectUa.IS_IE && nativeScroll ? _this.renderEmptyContent() : null));\n\n      if (!virtualized && length < maxVisibleRows) {\n        scrollerProps.style = scrollerProps.style || {};\n        scrollerProps.style.overflow = 'hidden';\n      }\n\n      var result;\n\n      if (_this.props.renderScroller) {\n        result = _this.props.renderScroller(scrollerProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", Object.assign({}, scrollerProps));\n      }\n\n      return result;\n    };\n\n    _this.getRowAt = function (index) {\n      return _this.getRows().filter(function (r) {\n        return r.props.rowIndex === index;\n      })[0];\n    };\n\n    _this.startEdit = function (_ref3) {\n      var rowIndex = _ref3.rowIndex,\n          columnIndex = _ref3.columnIndex,\n          value = _ref3.value;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          return cell.startEdit(value);\n        }\n      }\n\n      return Promise.reject(null);\n    };\n\n    _this.completeEdit = function (_ref4) {\n      var rowIndex = _ref4.rowIndex,\n          columnIndex = _ref4.columnIndex,\n          value = _ref4.value;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          cell.completeEdit(value);\n        }\n      }\n    };\n\n    _this.cancelEdit = function (_ref5) {\n      var rowIndex = _ref5.rowIndex,\n          columnIndex = _ref5.columnIndex;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          cell.cancelEdit();\n        }\n      }\n    };\n\n    _this.onContainerScroll = function (scrollPos) {\n      var prevScrollPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_SCROLL_POS;\n\n      if (_this.props.onContainerScroll) {\n        _this.props.onContainerScroll(scrollPos, prevScrollPos);\n      }\n\n      var oldScrollingDirection = _this.scrollingDirection;\n\n      if (scrollPos.scrollTop === prevScrollPos.scrollTop && scrollPos.scrollLeft === prevScrollPos.scrollLeft) {\n        return;\n      }\n\n      _this.scrollingDirection = scrollPos.scrollLeft === prevScrollPos.scrollLeft ? 'vertical' : 'horizontal';\n\n      if (_this.scrollingDirection === oldScrollingDirection) {\n        return;\n      }\n\n      if (_this.props.virtualized) {\n        requestAnimationFrame(function () {\n          _this.getRows().forEach(function (r) {\n            return r ? r.setScrolling(_this.scrollingDirection) : null;\n          });\n        });\n      }\n    };\n\n    _this.onScrollStop = function () {\n      _this.scrollingDirection = 'none';\n\n      if (_this.props.virtualized) {\n        _this.getRows().forEach(function (r) {\n          if (!r) {\n            return;\n          }\n\n          r.setScrolling(false);\n        });\n      }\n\n      if (_this.props.onScrollStop) {\n        _this.props.onScrollStop();\n      }\n    };\n\n    _this.setColumnRenderStartIndex = function (columnRenderStartIndex, force) {\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      if (_this.resizing && !force) {\n        return;\n      }\n\n      if (columnRenderStartIndex === _this.columnRenderStartIndex && !force) {\n        return;\n      }\n\n      if (!_this.virtualList) {\n        return;\n      }\n\n      if (_this.props.onColumnRenderStartIndexChange) {\n        _this.props.onColumnRenderStartIndexChange(columnRenderStartIndex);\n      }\n\n      _this.columnRenderStartIndex = columnRenderStartIndex;\n\n      var rows = _this.virtualList.getRows();\n\n      rows.forEach(function (row) {\n        var rowInstance = row.getInstance();\n\n        if (rowInstance) {\n          requestAnimationFrame(function () {\n            rowInstance.setColumnRenderStartIndex(columnRenderStartIndex);\n          });\n        }\n      });\n    };\n\n    _this.getRows = function () {\n      if (!_this.virtualList) {\n        return [];\n      }\n\n      return _this.virtualList.getRows().map(function (row) {\n        return row.getInstance();\n      });\n    };\n\n    _this.onScrollbarsChange = function (scrollbars) {\n      if (!scrollbars.horizontal) {\n        raf(function () {\n          _this.onContainerScrollHorizontal(0);\n        });\n      }\n\n      if (_this.props.onScrollbarsChange) {\n        _this.props.onScrollbarsChange(scrollbars);\n      }\n\n      if (_this.props.scrollProps && _this.props.scrollProps.onScrollbarsChange) {\n        _this.props.scrollProps.onScrollbarsChange(scrollbars);\n      }\n    };\n\n    _this.onResize = function () {\n      if (_this.props.onResize) {\n        var _this$props4;\n\n        (_this$props4 = _this.props).onResize.apply(_this$props4, arguments);\n      }\n\n      _this.visibleCount = _this.getVisibleCount();\n      _this.resizing = true;\n      raf(function () {\n        _this.resizing = false;\n        var force;\n\n        _this.updateOnScrollLeft(undefined, force = true);\n      });\n    };\n\n    _this.onContainerScrollHorizontal = function (scrollLeft, force) {\n      if (scrollLeft < 0) {\n        scrollLeft = 0;\n      }\n\n      scrollLeft = Math.round(scrollLeft);\n      _this._scrollLeft = scrollLeft;\n\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      if (_this.props.onContainerScrollHorizontal) {\n        _this.props.onContainerScrollHorizontal(scrollLeft);\n      }\n\n      if (_this.props.scrollProps && _this.props.scrollProps.onContainerScrollHorizontal) {\n        _this.props.scrollProps.onContainerScrollHorizontal(scrollLeft);\n      }\n\n      scrollLeft = _this._scrollLeft;\n\n      _this.updateOnScrollLeft(scrollLeft);\n    };\n\n    _this.updateOnScrollLeft = function () {\n      var scrollLeft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this._scrollLeft;\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.props;\n\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      var columnRenderStartIndex;\n\n      if (props.virtualizeColumns) {\n        var lockedStartColumns = props.lockedStartColumns,\n            columnWidthPrefixSums = props.columnWidthPrefixSums;\n\n        if (!columnRenderStartIndex) {\n          var lockedOffset = lockedStartColumns.length && columnWidthPrefixSums[lockedStartColumns.length] ? columnWidthPrefixSums[lockedStartColumns.length] : 0;\n          columnRenderStartIndex = (0, _searchClosestSmallerValue.default)(props.columnWidthPrefixSums, scrollLeft + lockedOffset);\n        }\n\n        _this.setColumnRenderStartIndex(columnRenderStartIndex, force);\n      }\n\n      if (_this.activeRowIndicatorHandle) {\n        _this.activeRowIndicatorHandle.setScrollLeft(scrollLeft);\n      }\n\n      if (_this.props.updateLockedWrapperPositions) {\n        _this.props.updateLockedWrapperPositions.call((0, _assertThisInitialized2.default)(_this), _this.props, scrollLeft);\n      }\n    };\n\n    _this.getDOMNode = function () {\n      return _this.node || (_this.node = _this.virtualList.getDOMNode());\n    };\n\n    _this.renderRow = function (args) {\n      var rowHeight = args.rowHeight,\n          index = args.index,\n          renderIndex = args.renderIndex,\n          empty = args.empty,\n          sticky = args.sticky;\n\n      var setRowSpan = function setRowSpan(rowSpan) {\n        args.rowSpan = rowSpan;\n      };\n\n      var result = _this.computeRows(_this.props, {\n        empty: empty,\n        from: index,\n        sticky: sticky,\n        to: index + 1,\n        renderIndex: renderIndex,\n        rowHeight: rowHeight,\n        setRowSpan: setRowSpan\n      })[0];\n\n      return result;\n    };\n\n    _this.getVisibleCount = function () {\n      return _this.virtualList ? _this.virtualList.getVisibleCount() : -1;\n    };\n\n    _this.refVirtualList = function (vl) {\n      _this.virtualList = vl;\n    };\n\n    _this._scrollLeft = 0;\n    _this._scrollTop = 0;\n    _this.startIndex = 0;\n    _this.endIndex = CHUNKS_SIZE;\n    _this.state = {\n      columnRenderCount: 0\n    };\n    _this.rows = [];\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaDataGridList, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextProps.shouldComponentUpdate) {\n        return (0, _shouldComponentUpdate2.default)(this, nextProps, nextState);\n      }\n\n      var equalProps = (0, _shallowequal.default)(this.props, nextProps);\n\n      if (!equalProps) {\n        return true;\n      }\n\n      return !(0, _shallowequal.default)(nextState, this.state);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.__willUnmount = true;\n    }\n  }, {\n    key: \"isLazyEditing\",\n    value: function isLazyEditing() {\n      return !!this.lazyEditColumnId;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var thisProps = this.props;\n      var maybeProps = (0, _assignDefined.default)({}, {\n        minRowHeight: thisProps.minRowHeight,\n        rowHeight: thisProps.rowHeight\n      });\n      var pureRows = !!this.fromState;\n      var shouldUpdate = returnTrue;\n      var scrollProps = thisProps.scrollProps;\n\n      if (scrollProps && scrollProps.onContainerScrollHorizontal) {\n        scrollProps = _objectSpread({}, scrollProps);\n        scrollProps.onContainerScrollHorizontal = this.onScrollHorizontal;\n      }\n\n      var minRowWidth = Math.max(this.props.availableWidth, this.props.minRowWidth) || 0;\n      var naturalRowHeight = thisProps.naturalRowHeight;\n      var renderRow = this.renderRow;\n\n      if (naturalRowHeight) {\n        if (this.__data !== thisProps.data || !this.__minRowWidth) {\n          renderRow = renderRow.bind(this);\n        }\n\n        this.__minRowWidth = minRowWidth;\n        this.__data = thisProps.data;\n      }\n\n      return _react.default.createElement(_src.default, Object.assign({\n        rowHeight: null,\n        style: thisProps.style,\n        theme: this.props.theme,\n        checkResizeDelay: thisProps.checkResizeDelay,\n        rowContain: thisProps.rowContain,\n        contain: thisProps.contain,\n        rtl: thisProps.rtl,\n        stickyOffset: thisProps.rtlOffset,\n        stickyRows: thisProps.computedStickyRows,\n        enableRowSpan: thisProps.computedEnableRowspan,\n        recycleCoveredRows: false,\n        className: \"InovuaReactDataGrid__virtual-list\",\n        renderRowContainer: this.renderRowContainer\n      }, maybeProps, {\n        overscrollBehavior: \"auto\",\n        rowHeightManager: thisProps.rowHeightManager,\n        before: thisProps.before,\n        after: thisProps.after,\n        showEmptyRows: thisProps.computedShowEmptyRows,\n        scrollProps: scrollProps,\n        emptyScrollOffset: this.getEmptyScrollOffset(),\n        nativeScroll: thisProps.nativeScroll,\n        onResize: this.onResize,\n        virtualized: thisProps.virtualized,\n        minRowWidth: minRowWidth,\n        naturalRowHeight: naturalRowHeight,\n        renderScroller: this.renderScroller,\n        renderSizer: this.renderSizer,\n        renderView: this.renderView,\n        useTransformRowPosition: this.props.useTransformRowPosition,\n        useTransformPosition: this.props.useTransformPosition,\n        shouldComponentUpdate: shouldUpdate,\n        ref: this.refVirtualList,\n        count: thisProps.data.length || 0,\n        pureRows: pureRows,\n        renderRow: renderRow,\n        onContainerScrollHorizontal: this.onScrollHorizontal,\n        onContainerScroll: this.onContainerScroll,\n        onScrollbarsChange: this.onScrollbarsChange,\n        onContainerScrollVertical: this.props.onContainerScrollVertical,\n        onScrollStop: this.onScrollStop,\n        shouldFocusNextRow: this.shouldFocusNextRow\n      }));\n    }\n  }, {\n    key: \"shouldFocusNextRow\",\n    value: function shouldFocusNextRow(_ref6) {\n      var index = _ref6.index,\n          nextIndex = _ref6.nextIndex,\n          dir = _ref6.dir;\n      var shouldFocus = !this.isLazyEditing();\n      return shouldFocus;\n    }\n  }, {\n    key: \"getEmptyScrollOffset\",\n    value: function getEmptyScrollOffset() {\n      return this.props.emptyScrollOffset || (0, _src.getScrollbarWidth)() || 17;\n    }\n  }, {\n    key: \"tryStartEdit\",\n    value: function tryStartEdit(_ref7) {\n      var rowIndex = _ref7.rowIndex,\n          columnIndex = _ref7.columnIndex,\n          dir = _ref7.dir;\n      var row = this.getRowAt(rowIndex);\n\n      if (row) {\n        return row.tryRowCellEdit(columnIndex, dir);\n      }\n\n      return Promise.reject(null);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      if (prevProps.columnRenderCount != this.props.columnRenderCount) {\n        raf(function () {\n          _this2.updateOnScrollLeft(undefined, true, _this2.props);\n        });\n      }\n\n      var _this$props5 = this.props,\n          lockedStartColumns = _this$props5.lockedStartColumns,\n          lockedEndColumns = _this$props5.lockedEndColumns;\n      var hasLocked = lockedStartColumns && lockedStartColumns.length || lockedEndColumns && lockedEndColumns.length;\n\n      if (hasLocked) {\n        this.onContainerScrollHorizontal(this._scrollLeft);\n      }\n    }\n  }, {\n    key: \"getScrollLeftMax\",\n    value: function getScrollLeftMax() {\n      return this.virtualList ? this.virtualList.scrollLeftMax : 0;\n    }\n  }]);\n  return InovuaDataGridList;\n}(_react.Component);\n\nexports.default = InovuaDataGridList;\nvar propTypes = Object.assign({}, _src.propTypes, {\n  count: _propTypes.default.number,\n  columns: _propTypes.default.arrayOf(_propTypes.default.shape({\n    name: _propTypes.default.string,\n    computedWidth: _propTypes.default.number,\n    id: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    render: _propTypes.default.func\n  })),\n  data: _propTypes.default.array,\n  from: _propTypes.default.number,\n  updateLockedWrapperPositions: _propTypes.default.any,\n  idProperty: _propTypes.default.string,\n  maxWidth: _propTypes.default.number,\n  minRowHeight: _propTypes.default.number,\n  minWidth: _propTypes.default.number,\n  onColumnRenderStartIndexChange: _propTypes.default.func,\n  rowHeight: _propTypes.default.number,\n  renderScroller: _propTypes.default.func,\n  renderActiveRowIndicator: _propTypes.default.func,\n  showWarnings: _propTypes.default.bool,\n  to: _propTypes.default.number,\n  virtualizeColumns: _propTypes.default.bool\n});\ndelete propTypes.renderRow;\nInovuaDataGridList.propTypes = propTypes;\nInovuaDataGridList.defaultProps = {\n  showWarnings: false\n};","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/Layout/ColumnLayout/Content/List.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_defineProperty2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_react","_propTypes","_assignDefined","_src","_shallowequal","_renderRows","_shouldComponentUpdate2","_searchClosestSmallerValue","_renderEmptyContent","_detectUa","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","EMPTY_OBJECT","returnTrue","CHUNKS_SIZE","raf","global","requestAnimationFrame","DEFAULT_SCROLL_POS","scrollLeft","scrollTop","InovuaDataGridList","_Component","_super","props","_this","lastScrollTimestamp","isRowFullyVisible","index","virtualList","isRowVisible","computeRows","_ref","undefined","from","to","rowHeight","renderIndex","empty","setRowSpan","sticky","columnRenderCount","startIndex","endIndex","columnRenderStartIndex","onEditStop","onEditStart","onEditValueChange","getScrollLeftMax","tryNextRowEdit","tryRowEdit","editValue","editRowIndex","editColumnIndex","editColumnId","nextEditRowIndex","dir","columnEditIndex","columns","row","getRowAt","tryRowCellEdit","isEditing","args","columnIndex","rowIndex","updateEditing","_ref2","columnId","oldEditRowIndex","oldEditValue","oldEditColumnIndex","editTimeoutId","clearTimeout","lazyEditColumnId","setTimeout","getRows","r","getInstance","update","forceUpdate","onScrollHorizontal","_","__","scrollLeftMax","onContainerScrollHorizontal","renderRowContainer","createElement","assign","children","renderActiveRowIndicator","setupActiveRowIndicatorHandle","activeRowHandle","activeRowIndicatorHandle","renderEmptyContent","SCROLLBAR_WIDTH","getScrollbarWidth","_this$props","i18n","data","loading","computedLoading","nativeScroll","emptyText","right","bottom","renderView","viewProps","_this$props2","Children","toArray","IS_EDGE","style","minHeight","renderSizer","scrollHeight","virtualized","minWidth","Math","max","availableWidth","minRowWidth","sizerStyle","getEmptyScrollOffset","naturalRowHeight","height","renderScroller","scrollerProps","_style","_this$props3","maxVisibleRows","position","IS_IE","contain","rtl","overflow","startEdit","_ref3","cell","getCellAt","Promise","reject","completeEdit","_ref4","cancelEdit","_ref5","onContainerScroll","scrollPos","prevScrollPos","oldScrollingDirection","scrollingDirection","setScrolling","onScrollStop","setColumnRenderStartIndex","force","__willUnmount","resizing","onColumnRenderStartIndexChange","rows","rowInstance","map","onScrollbarsChange","scrollbars","horizontal","scrollProps","onResize","_this$props4","visibleCount","getVisibleCount","updateOnScrollLeft","round","_scrollLeft","virtualizeColumns","lockedStartColumns","columnWidthPrefixSums","lockedOffset","setScrollLeft","updateLockedWrapperPositions","getDOMNode","node","renderRow","rowSpan","refVirtualList","vl","_scrollTop","state","shouldComponentUpdate","nextProps","nextState","equalProps","componentWillUnmount","isLazyEditing","render","thisProps","maybeProps","minRowHeight","pureRows","fromState","shouldUpdate","__data","__minRowWidth","bind","theme","checkResizeDelay","rowContain","stickyOffset","rtlOffset","stickyRows","computedStickyRows","enableRowSpan","computedEnableRowspan","recycleCoveredRows","className","overscrollBehavior","rowHeightManager","before","after","showEmptyRows","computedShowEmptyRows","emptyScrollOffset","useTransformRowPosition","useTransformPosition","ref","count","onContainerScrollVertical","shouldFocusNextRow","_ref6","nextIndex","shouldFocus","tryStartEdit","_ref7","componentDidUpdate","prevProps","_this2","_this$props5","lockedEndColumns","hasLocked","Component","propTypes","number","arrayOf","shape","name","string","computedWidth","id","oneOfType","func","array","any","idProperty","maxWidth","showWarnings","bool","defaultProps"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _assignDefined = _interopRequireDefault(require(\"../../../packages/assign-defined\"));\n\nvar _src = _interopRequireWildcard(require(\"../../../packages/react-virtual-list-pro/src\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"../../../packages/shallowequal\"));\n\nvar _renderRows = _interopRequireDefault(require(\"./renderRows\"));\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"../../../packages/shouldComponentUpdate\"));\n\nvar _searchClosestSmallerValue = _interopRequireDefault(require(\"../../../utils/searchClosestSmallerValue\"));\n\nvar _renderEmptyContent = _interopRequireDefault(require(\"../../../renderEmptyContent\"));\n\nvar _detectUa = require(\"../../../detect-ua\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar EMPTY_OBJECT = {};\n\nvar returnTrue = function returnTrue() {\n  return true;\n};\n\nvar CHUNKS_SIZE = 1;\nvar raf = global.requestAnimationFrame;\nvar DEFAULT_SCROLL_POS = {\n  scrollLeft: 0,\n  scrollTop: 0\n};\n\nvar InovuaDataGridList = function (_Component) {\n  (0, _inherits2.default)(InovuaDataGridList, _Component);\n\n  var _super = _createSuper(InovuaDataGridList);\n\n  function InovuaDataGridList(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDataGridList);\n    _this = _super.call(this, props);\n    _this.lastScrollTimestamp = 0;\n\n    _this.isRowFullyVisible = function (index) {\n      return _this.virtualList.isRowVisible(index);\n    };\n\n    _this.computeRows = function (props) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EMPTY_OBJECT,\n          from = _ref.from,\n          to = _ref.to,\n          rowHeight = _ref.rowHeight,\n          renderIndex = _ref.renderIndex,\n          empty = _ref.empty,\n          setRowSpan = _ref.setRowSpan,\n          sticky = _ref.sticky;\n\n      var columnRenderCount = props.columnRenderCount;\n      return (0, _renderRows.default)({\n        empty: empty,\n        renderIndex: renderIndex,\n        setRowSpan: setRowSpan,\n        sticky: sticky,\n        from: from || _this.startIndex || 0,\n        to: to || _this.endIndex || CHUNKS_SIZE,\n        rowHeight: rowHeight,\n        columnRenderStartIndex: _this.columnRenderStartIndex,\n        columnRenderCount: columnRenderCount,\n        onEditStop: _this.onEditStop,\n        onEditStart: _this.onEditStart,\n        onEditValueChange: _this.onEditValueChange,\n        getScrollLeftMax: _this.props.getScrollLeftMax,\n        tryNextRowEdit: _this.tryRowEdit,\n        editValue: _this.editValue,\n        editRowIndex: _this.editRowIndex,\n        editColumnIndex: _this.editColumnIndex,\n        editColumnId: _this.editColumnId\n      }, props);\n    };\n\n    _this.tryRowEdit = function (nextEditRowIndex, dir) {\n      var columnEditIndex = dir > 0 ? 0 : _this.props.columns.length - 1;\n\n      var row = _this.getRowAt(nextEditRowIndex);\n\n      if (!row) {\n        return;\n      }\n\n      row.tryRowCellEdit(columnEditIndex, dir);\n    };\n\n    _this.isEditing = function () {\n      return !!_this.editColumnId;\n    };\n\n    _this.onEditStop = function (args) {\n      if (_this.editColumnIndex !== args.columnIndex || _this.editRowIndex !== args.rowIndex) {\n        return;\n      }\n\n      if (_this.props.onEditStop) {\n        _this.props.onEditStop(args);\n      }\n\n      _this.updateEditing({\n        value: undefined,\n        rowIndex: undefined,\n        columnIndex: undefined\n      });\n    };\n\n    _this.onEditValueChange = function (args) {\n      if (_this.props.onEditValueChange) {\n        _this.props.onEditValueChange(args);\n      }\n\n      _this.updateEditing(args);\n    };\n\n    _this.onEditStart = function (args) {\n      if (_this.props.onEditStart) {\n        _this.props.onEditStart(args);\n      }\n\n      _this.updateEditing(args);\n    };\n\n    _this.updateEditing = function (_ref2) {\n      var value = _ref2.value,\n          rowIndex = _ref2.rowIndex,\n          columnId = _ref2.columnId,\n          columnIndex = _ref2.columnIndex;\n      var oldEditRowIndex = _this.editRowIndex;\n      var oldEditValue = _this.editValue;\n      var oldEditColumnIndex = _this.editColumnIndex;\n      _this.editValue = value;\n      _this.editRowIndex = rowIndex;\n      _this.editColumnIndex = columnIndex;\n      _this.editColumnId = columnId;\n\n      if (_this.editTimeoutId) {\n        clearTimeout(_this.editTimeoutId);\n      }\n\n      _this.lazyEditColumnId = _this.editColumnId || _this.lazyEditColumnId;\n      _this.editTimeoutId = setTimeout(function () {\n        delete _this.editTimeoutId;\n        _this.lazyEditColumnId = _this.editColumnId;\n      }, 50);\n\n      if (oldEditRowIndex === rowIndex && oldEditColumnIndex === columnIndex && oldEditValue !== value) {\n        _this.virtualList.getRows().forEach(function (r) {\n          var row = r.getInstance();\n\n          if (row.props.rowIndex === rowIndex) {\n            r.update();\n          }\n        });\n\n        return;\n      }\n\n      _this.forceUpdate();\n    };\n\n    _this.onScrollHorizontal = function (scrollLeft, _, __, scrollLeftMax) {\n      _this.onContainerScrollHorizontal(scrollLeft, undefined, scrollLeftMax);\n    };\n\n    _this.renderRowContainer = function (props) {\n      return _react.default.createElement(\"div\", Object.assign({}, props), props.children, _this.props.renderActiveRowIndicator(_this.setupActiveRowIndicatorHandle));\n    };\n\n    _this.setupActiveRowIndicatorHandle = function (activeRowHandle) {\n      _this.activeRowIndicatorHandle = activeRowHandle;\n    };\n\n    _this.renderEmptyContent = function () {\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n      var _this$props = _this.props,\n          i18n = _this$props.i18n,\n          data = _this$props.data,\n          loading = _this$props.computedLoading,\n          nativeScroll = _this$props.nativeScroll;\n      var emptyText = _this.props.emptyText;\n      var length = data.length;\n      emptyText = i18n(emptyText, emptyText);\n\n      if (!length && !loading) {\n        return (0, _renderEmptyContent.default)(emptyText, 'empty', {\n          right: nativeScroll ? 0 : -SCROLLBAR_WIDTH,\n          bottom: nativeScroll ? 0 : -SCROLLBAR_WIDTH\n        });\n      }\n    };\n\n    _this.renderView = function (viewProps) {\n      var _this$props2 = _this.props,\n          data = _this$props2.data,\n          loading = _this$props2.loading;\n      var length = data.length;\n\n      if (!length && !loading) {\n        viewProps.children = _react.default.Children.toArray(viewProps.children);\n        viewProps.children.push(_this.renderEmptyContent());\n\n        if (_detectUa.IS_EDGE) {\n          viewProps.style.minHeight = '99%';\n        }\n      }\n\n      var result;\n\n      if (_this.props.renderView) {\n        result = _this.props.renderView(viewProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", Object.assign({}, viewProps));\n      }\n\n      return result;\n    };\n\n    _this.renderSizer = function (props, scrollHeight) {\n      if (!_this.props.nativeScroll) {\n        return;\n      }\n\n      if (!_this.props.virtualized) {\n        return null;\n      }\n\n      var minWidth = Math.max(_this.props.availableWidth || 0, _this.props.minRowWidth || 0) || 0;\n      var SCROLLBAR_WIDTH = (0, _src.getScrollbarWidth)();\n\n      var sizerStyle = _objectSpread(_objectSpread({}, props.style), {}, {\n        minWidth: minWidth,\n        minHeight: props.style ? (props.style.minHeight || 0) - (!SCROLLBAR_WIDTH ? _this.getEmptyScrollOffset() : 0) : 0\n      });\n\n      if (_this.props.naturalRowHeight) {\n        sizerStyle.height = scrollHeight;\n      }\n\n      return _react.default.createElement(\"div\", Object.assign({\n        key: \"grid-sizer\",\n        \"data-name\": \"sizer\"\n      }, props, {\n        style: sizerStyle\n      }));\n    };\n\n    _this.renderScroller = function (scrollerProps) {\n      var _style;\n\n      var _this$props3 = _this.props,\n          data = _this$props3.data,\n          loading = _this$props3.loading,\n          virtualized = _this$props3.virtualized,\n          maxVisibleRows = _this$props3.maxVisibleRows,\n          nativeScroll = _this$props3.nativeScroll,\n          availableWidth = _this$props3.availableWidth,\n          minRowWidth = _this$props3.minRowWidth;\n      var length = data.length;\n      scrollerProps.children.push(_react.default.createElement(\"div\", {\n        key: \"empty-spacer\",\n        \"data-name\": \"empty-spacer\",\n        style: (_style = {\n          position: _detectUa.IS_IE && nativeScroll ? 'static' : 'absolute',\n          contain: 'strict'\n        }, (0, _defineProperty2.default)(_style, _this.props.rtl ? 'right' : 'left', 0), (0, _defineProperty2.default)(_style, \"height\", 1), (0, _defineProperty2.default)(_style, \"top\", 0), (0, _defineProperty2.default)(_style, \"pointerEvents\", 'none'), (0, _defineProperty2.default)(_style, \"minWidth\", Math.max(availableWidth, minRowWidth) || 0), _style)\n      }, _detectUa.IS_IE && nativeScroll ? _this.renderEmptyContent() : null));\n\n      if (!virtualized && length < maxVisibleRows) {\n        scrollerProps.style = scrollerProps.style || {};\n        scrollerProps.style.overflow = 'hidden';\n      }\n\n      var result;\n\n      if (_this.props.renderScroller) {\n        result = _this.props.renderScroller(scrollerProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", Object.assign({}, scrollerProps));\n      }\n\n      return result;\n    };\n\n    _this.getRowAt = function (index) {\n      return _this.getRows().filter(function (r) {\n        return r.props.rowIndex === index;\n      })[0];\n    };\n\n    _this.startEdit = function (_ref3) {\n      var rowIndex = _ref3.rowIndex,\n          columnIndex = _ref3.columnIndex,\n          value = _ref3.value;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          return cell.startEdit(value);\n        }\n      }\n\n      return Promise.reject(null);\n    };\n\n    _this.completeEdit = function (_ref4) {\n      var rowIndex = _ref4.rowIndex,\n          columnIndex = _ref4.columnIndex,\n          value = _ref4.value;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          cell.completeEdit(value);\n        }\n      }\n    };\n\n    _this.cancelEdit = function (_ref5) {\n      var rowIndex = _ref5.rowIndex,\n          columnIndex = _ref5.columnIndex;\n\n      var row = _this.getRowAt(rowIndex);\n\n      if (row) {\n        var cell = row.getCellAt(columnIndex);\n\n        if (cell) {\n          cell.cancelEdit();\n        }\n      }\n    };\n\n    _this.onContainerScroll = function (scrollPos) {\n      var prevScrollPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_SCROLL_POS;\n\n      if (_this.props.onContainerScroll) {\n        _this.props.onContainerScroll(scrollPos, prevScrollPos);\n      }\n\n      var oldScrollingDirection = _this.scrollingDirection;\n\n      if (scrollPos.scrollTop === prevScrollPos.scrollTop && scrollPos.scrollLeft === prevScrollPos.scrollLeft) {\n        return;\n      }\n\n      _this.scrollingDirection = scrollPos.scrollLeft === prevScrollPos.scrollLeft ? 'vertical' : 'horizontal';\n\n      if (_this.scrollingDirection === oldScrollingDirection) {\n        return;\n      }\n\n      if (_this.props.virtualized) {\n        requestAnimationFrame(function () {\n          _this.getRows().forEach(function (r) {\n            return r ? r.setScrolling(_this.scrollingDirection) : null;\n          });\n        });\n      }\n    };\n\n    _this.onScrollStop = function () {\n      _this.scrollingDirection = 'none';\n\n      if (_this.props.virtualized) {\n        _this.getRows().forEach(function (r) {\n          if (!r) {\n            return;\n          }\n\n          r.setScrolling(false);\n        });\n      }\n\n      if (_this.props.onScrollStop) {\n        _this.props.onScrollStop();\n      }\n    };\n\n    _this.setColumnRenderStartIndex = function (columnRenderStartIndex, force) {\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      if (_this.resizing && !force) {\n        return;\n      }\n\n      if (columnRenderStartIndex === _this.columnRenderStartIndex && !force) {\n        return;\n      }\n\n      if (!_this.virtualList) {\n        return;\n      }\n\n      if (_this.props.onColumnRenderStartIndexChange) {\n        _this.props.onColumnRenderStartIndexChange(columnRenderStartIndex);\n      }\n\n      _this.columnRenderStartIndex = columnRenderStartIndex;\n\n      var rows = _this.virtualList.getRows();\n\n      rows.forEach(function (row) {\n        var rowInstance = row.getInstance();\n\n        if (rowInstance) {\n          requestAnimationFrame(function () {\n            rowInstance.setColumnRenderStartIndex(columnRenderStartIndex);\n          });\n        }\n      });\n    };\n\n    _this.getRows = function () {\n      if (!_this.virtualList) {\n        return [];\n      }\n\n      return _this.virtualList.getRows().map(function (row) {\n        return row.getInstance();\n      });\n    };\n\n    _this.onScrollbarsChange = function (scrollbars) {\n      if (!scrollbars.horizontal) {\n        raf(function () {\n          _this.onContainerScrollHorizontal(0);\n        });\n      }\n\n      if (_this.props.onScrollbarsChange) {\n        _this.props.onScrollbarsChange(scrollbars);\n      }\n\n      if (_this.props.scrollProps && _this.props.scrollProps.onScrollbarsChange) {\n        _this.props.scrollProps.onScrollbarsChange(scrollbars);\n      }\n    };\n\n    _this.onResize = function () {\n      if (_this.props.onResize) {\n        var _this$props4;\n\n        (_this$props4 = _this.props).onResize.apply(_this$props4, arguments);\n      }\n\n      _this.visibleCount = _this.getVisibleCount();\n      _this.resizing = true;\n      raf(function () {\n        _this.resizing = false;\n        var force;\n\n        _this.updateOnScrollLeft(undefined, force = true);\n      });\n    };\n\n    _this.onContainerScrollHorizontal = function (scrollLeft, force) {\n      if (scrollLeft < 0) {\n        scrollLeft = 0;\n      }\n\n      scrollLeft = Math.round(scrollLeft);\n      _this._scrollLeft = scrollLeft;\n\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      if (_this.props.onContainerScrollHorizontal) {\n        _this.props.onContainerScrollHorizontal(scrollLeft);\n      }\n\n      if (_this.props.scrollProps && _this.props.scrollProps.onContainerScrollHorizontal) {\n        _this.props.scrollProps.onContainerScrollHorizontal(scrollLeft);\n      }\n\n      scrollLeft = _this._scrollLeft;\n\n      _this.updateOnScrollLeft(scrollLeft);\n    };\n\n    _this.updateOnScrollLeft = function () {\n      var scrollLeft = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this._scrollLeft;\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.props;\n\n      if (_this.__willUnmount) {\n        return;\n      }\n\n      var columnRenderStartIndex;\n\n      if (props.virtualizeColumns) {\n        var lockedStartColumns = props.lockedStartColumns,\n            columnWidthPrefixSums = props.columnWidthPrefixSums;\n\n        if (!columnRenderStartIndex) {\n          var lockedOffset = lockedStartColumns.length && columnWidthPrefixSums[lockedStartColumns.length] ? columnWidthPrefixSums[lockedStartColumns.length] : 0;\n          columnRenderStartIndex = (0, _searchClosestSmallerValue.default)(props.columnWidthPrefixSums, scrollLeft + lockedOffset);\n        }\n\n        _this.setColumnRenderStartIndex(columnRenderStartIndex, force);\n      }\n\n      if (_this.activeRowIndicatorHandle) {\n        _this.activeRowIndicatorHandle.setScrollLeft(scrollLeft);\n      }\n\n      if (_this.props.updateLockedWrapperPositions) {\n        _this.props.updateLockedWrapperPositions.call((0, _assertThisInitialized2.default)(_this), _this.props, scrollLeft);\n      }\n    };\n\n    _this.getDOMNode = function () {\n      return _this.node || (_this.node = _this.virtualList.getDOMNode());\n    };\n\n    _this.renderRow = function (args) {\n      var rowHeight = args.rowHeight,\n          index = args.index,\n          renderIndex = args.renderIndex,\n          empty = args.empty,\n          sticky = args.sticky;\n\n      var setRowSpan = function setRowSpan(rowSpan) {\n        args.rowSpan = rowSpan;\n      };\n\n      var result = _this.computeRows(_this.props, {\n        empty: empty,\n        from: index,\n        sticky: sticky,\n        to: index + 1,\n        renderIndex: renderIndex,\n        rowHeight: rowHeight,\n        setRowSpan: setRowSpan\n      })[0];\n\n      return result;\n    };\n\n    _this.getVisibleCount = function () {\n      return _this.virtualList ? _this.virtualList.getVisibleCount() : -1;\n    };\n\n    _this.refVirtualList = function (vl) {\n      _this.virtualList = vl;\n    };\n\n    _this._scrollLeft = 0;\n    _this._scrollTop = 0;\n    _this.startIndex = 0;\n    _this.endIndex = CHUNKS_SIZE;\n    _this.state = {\n      columnRenderCount: 0\n    };\n    _this.rows = [];\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaDataGridList, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextProps.shouldComponentUpdate) {\n        return (0, _shouldComponentUpdate2.default)(this, nextProps, nextState);\n      }\n\n      var equalProps = (0, _shallowequal.default)(this.props, nextProps);\n\n      if (!equalProps) {\n        return true;\n      }\n\n      return !(0, _shallowequal.default)(nextState, this.state);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.__willUnmount = true;\n    }\n  }, {\n    key: \"isLazyEditing\",\n    value: function isLazyEditing() {\n      return !!this.lazyEditColumnId;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var thisProps = this.props;\n      var maybeProps = (0, _assignDefined.default)({}, {\n        minRowHeight: thisProps.minRowHeight,\n        rowHeight: thisProps.rowHeight\n      });\n      var pureRows = !!this.fromState;\n      var shouldUpdate = returnTrue;\n      var scrollProps = thisProps.scrollProps;\n\n      if (scrollProps && scrollProps.onContainerScrollHorizontal) {\n        scrollProps = _objectSpread({}, scrollProps);\n        scrollProps.onContainerScrollHorizontal = this.onScrollHorizontal;\n      }\n\n      var minRowWidth = Math.max(this.props.availableWidth, this.props.minRowWidth) || 0;\n      var naturalRowHeight = thisProps.naturalRowHeight;\n      var renderRow = this.renderRow;\n\n      if (naturalRowHeight) {\n        if (this.__data !== thisProps.data || !this.__minRowWidth) {\n          renderRow = renderRow.bind(this);\n        }\n\n        this.__minRowWidth = minRowWidth;\n        this.__data = thisProps.data;\n      }\n\n      return _react.default.createElement(_src.default, Object.assign({\n        rowHeight: null,\n        style: thisProps.style,\n        theme: this.props.theme,\n        checkResizeDelay: thisProps.checkResizeDelay,\n        rowContain: thisProps.rowContain,\n        contain: thisProps.contain,\n        rtl: thisProps.rtl,\n        stickyOffset: thisProps.rtlOffset,\n        stickyRows: thisProps.computedStickyRows,\n        enableRowSpan: thisProps.computedEnableRowspan,\n        recycleCoveredRows: false,\n        className: \"InovuaReactDataGrid__virtual-list\",\n        renderRowContainer: this.renderRowContainer\n      }, maybeProps, {\n        overscrollBehavior: \"auto\",\n        rowHeightManager: thisProps.rowHeightManager,\n        before: thisProps.before,\n        after: thisProps.after,\n        showEmptyRows: thisProps.computedShowEmptyRows,\n        scrollProps: scrollProps,\n        emptyScrollOffset: this.getEmptyScrollOffset(),\n        nativeScroll: thisProps.nativeScroll,\n        onResize: this.onResize,\n        virtualized: thisProps.virtualized,\n        minRowWidth: minRowWidth,\n        naturalRowHeight: naturalRowHeight,\n        renderScroller: this.renderScroller,\n        renderSizer: this.renderSizer,\n        renderView: this.renderView,\n        useTransformRowPosition: this.props.useTransformRowPosition,\n        useTransformPosition: this.props.useTransformPosition,\n        shouldComponentUpdate: shouldUpdate,\n        ref: this.refVirtualList,\n        count: thisProps.data.length || 0,\n        pureRows: pureRows,\n        renderRow: renderRow,\n        onContainerScrollHorizontal: this.onScrollHorizontal,\n        onContainerScroll: this.onContainerScroll,\n        onScrollbarsChange: this.onScrollbarsChange,\n        onContainerScrollVertical: this.props.onContainerScrollVertical,\n        onScrollStop: this.onScrollStop,\n        shouldFocusNextRow: this.shouldFocusNextRow\n      }));\n    }\n  }, {\n    key: \"shouldFocusNextRow\",\n    value: function shouldFocusNextRow(_ref6) {\n      var index = _ref6.index,\n          nextIndex = _ref6.nextIndex,\n          dir = _ref6.dir;\n      var shouldFocus = !this.isLazyEditing();\n      return shouldFocus;\n    }\n  }, {\n    key: \"getEmptyScrollOffset\",\n    value: function getEmptyScrollOffset() {\n      return this.props.emptyScrollOffset || (0, _src.getScrollbarWidth)() || 17;\n    }\n  }, {\n    key: \"tryStartEdit\",\n    value: function tryStartEdit(_ref7) {\n      var rowIndex = _ref7.rowIndex,\n          columnIndex = _ref7.columnIndex,\n          dir = _ref7.dir;\n      var row = this.getRowAt(rowIndex);\n\n      if (row) {\n        return row.tryRowCellEdit(columnIndex, dir);\n      }\n\n      return Promise.reject(null);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      if (prevProps.columnRenderCount != this.props.columnRenderCount) {\n        raf(function () {\n          _this2.updateOnScrollLeft(undefined, true, _this2.props);\n        });\n      }\n\n      var _this$props5 = this.props,\n          lockedStartColumns = _this$props5.lockedStartColumns,\n          lockedEndColumns = _this$props5.lockedEndColumns;\n      var hasLocked = lockedStartColumns && lockedStartColumns.length || lockedEndColumns && lockedEndColumns.length;\n\n      if (hasLocked) {\n        this.onContainerScrollHorizontal(this._scrollLeft);\n      }\n    }\n  }, {\n    key: \"getScrollLeftMax\",\n    value: function getScrollLeftMax() {\n      return this.virtualList ? this.virtualList.scrollLeftMax : 0;\n    }\n  }]);\n  return InovuaDataGridList;\n}(_react.Component);\n\nexports.default = InovuaDataGridList;\nvar propTypes = Object.assign({}, _src.propTypes, {\n  count: _propTypes.default.number,\n  columns: _propTypes.default.arrayOf(_propTypes.default.shape({\n    name: _propTypes.default.string,\n    computedWidth: _propTypes.default.number,\n    id: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    render: _propTypes.default.func\n  })),\n  data: _propTypes.default.array,\n  from: _propTypes.default.number,\n  updateLockedWrapperPositions: _propTypes.default.any,\n  idProperty: _propTypes.default.string,\n  maxWidth: _propTypes.default.number,\n  minRowHeight: _propTypes.default.number,\n  minWidth: _propTypes.default.number,\n  onColumnRenderStartIndexChange: _propTypes.default.func,\n  rowHeight: _propTypes.default.number,\n  renderScroller: _propTypes.default.func,\n  renderActiveRowIndicator: _propTypes.default.func,\n  showWarnings: _propTypes.default.bool,\n  to: _propTypes.default.number,\n  virtualizeColumns: _propTypes.default.bool\n});\ndelete propTypes.renderRow;\nInovuaDataGridList.propTypes = propTypes;\nInovuaDataGridList.defaultProps = {\n  showWarnings: false\n};"]},"metadata":{},"sourceType":"script"}