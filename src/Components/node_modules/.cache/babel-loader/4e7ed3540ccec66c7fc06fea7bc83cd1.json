{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _positionsMap = _interopRequireDefault(require(\"./positionsMap\"));\n\nfunction createEmptyArray(length, fn) {\n  return Array.apply(null, Array(length)).map(fn);\n}\n\nfunction handleNumericOffset(offset, offsetCorrection) {\n  var normalizedOffset = {\n    x: offset * offsetCorrection.x,\n    y: offset * offsetCorrection.y\n  };\n\n  if (offsetCorrection.resetNumeric) {\n    normalizedOffset[offsetCorrection.resetNumeric] = 0;\n  }\n\n  return normalizedOffset;\n}\n\nfunction handleObjectOffset(offset, offsetCorrection) {\n  var normalizedOffset = {\n    x: offset.x === undefined ? 0 : offset.x * offsetCorrection.x,\n    y: offset.y === undefined ? 0 : offset.y * offsetCorrection.y\n  };\n  return normalizedOffset;\n}\n\nfunction normalizeOffset(offset, positionsLength) {\n  var normalizedOffsets = null;\n\n  if (typeof offset === 'number' || !Array.isArray(offset) && (0, _typeof2.default)(offset) === 'object') {\n    normalizedOffsets = createEmptyArray(positionsLength, function () {\n      return offset;\n    });\n  } else if (Array.isArray(offset)) {\n    if (offset.length < positionsLength) {\n      var lastOffsetItem = offset[offset.length - 1];\n      var extraOffsets = createEmptyArray(positionsLength - offset.length, function () {\n        return lastOffsetItem;\n      });\n      normalizedOffsets = [].concat((0, _toConsumableArray2.default)(offset), (0, _toConsumableArray2.default)(extraOffsets));\n    } else {\n      normalizedOffsets = offset;\n    }\n  }\n\n  return normalizedOffsets;\n}\n\nfunction getPositionOffsets(positions, offset) {\n  var normalizedOffsets = normalizeOffset(offset, positions.length);\n  var positionOffsets = normalizedOffsets.map(function (normalizedOffset, index) {\n    var position = positions[index];\n    var positionMap = _positionsMap.default[position];\n    var offsetCorrection = positionMap ? positionMap.offset : position.offset || {\n      x: 0,\n      y: 0\n    };\n\n    if (typeof normalizedOffset === 'number') {\n      return handleNumericOffset(normalizedOffset, offsetCorrection);\n    }\n\n    return handleObjectOffset(normalizedOffset, offsetCorrection);\n  });\n  return positionOffsets;\n}\n\nvar _default = getPositionOffsets;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/common/getPositionRelativeToElement/getPositionOffsets.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_toConsumableArray2","_typeof2","_positionsMap","createEmptyArray","length","fn","Array","apply","map","handleNumericOffset","offset","offsetCorrection","normalizedOffset","x","y","resetNumeric","handleObjectOffset","undefined","normalizeOffset","positionsLength","normalizedOffsets","isArray","lastOffsetItem","extraOffsets","concat","getPositionOffsets","positions","positionOffsets","index","position","positionMap","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _positionsMap = _interopRequireDefault(require(\"./positionsMap\"));\n\nfunction createEmptyArray(length, fn) {\n  return Array.apply(null, Array(length)).map(fn);\n}\n\nfunction handleNumericOffset(offset, offsetCorrection) {\n  var normalizedOffset = {\n    x: offset * offsetCorrection.x,\n    y: offset * offsetCorrection.y\n  };\n\n  if (offsetCorrection.resetNumeric) {\n    normalizedOffset[offsetCorrection.resetNumeric] = 0;\n  }\n\n  return normalizedOffset;\n}\n\nfunction handleObjectOffset(offset, offsetCorrection) {\n  var normalizedOffset = {\n    x: offset.x === undefined ? 0 : offset.x * offsetCorrection.x,\n    y: offset.y === undefined ? 0 : offset.y * offsetCorrection.y\n  };\n  return normalizedOffset;\n}\n\nfunction normalizeOffset(offset, positionsLength) {\n  var normalizedOffsets = null;\n\n  if (typeof offset === 'number' || !Array.isArray(offset) && (0, _typeof2.default)(offset) === 'object') {\n    normalizedOffsets = createEmptyArray(positionsLength, function () {\n      return offset;\n    });\n  } else if (Array.isArray(offset)) {\n    if (offset.length < positionsLength) {\n      var lastOffsetItem = offset[offset.length - 1];\n      var extraOffsets = createEmptyArray(positionsLength - offset.length, function () {\n        return lastOffsetItem;\n      });\n      normalizedOffsets = [].concat((0, _toConsumableArray2.default)(offset), (0, _toConsumableArray2.default)(extraOffsets));\n    } else {\n      normalizedOffsets = offset;\n    }\n  }\n\n  return normalizedOffsets;\n}\n\nfunction getPositionOffsets(positions, offset) {\n  var normalizedOffsets = normalizeOffset(offset, positions.length);\n  var positionOffsets = normalizedOffsets.map(function (normalizedOffset, index) {\n    var position = positions[index];\n    var positionMap = _positionsMap.default[position];\n    var offsetCorrection = positionMap ? positionMap.offset : position.offset || {\n      x: 0,\n      y: 0\n    };\n\n    if (typeof normalizedOffset === 'number') {\n      return handleNumericOffset(normalizedOffset, offsetCorrection);\n    }\n\n    return handleObjectOffset(normalizedOffset, offsetCorrection);\n  });\n  return positionOffsets;\n}\n\nvar _default = getPositionOffsets;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}