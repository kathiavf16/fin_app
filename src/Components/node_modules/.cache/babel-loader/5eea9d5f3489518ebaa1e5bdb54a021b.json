{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _src = require(\"../../../../packages/react-scroll-container-pro/src\");\n\nvar _debounce = _interopRequireDefault(require(\"../../../../packages/debounce\"));\n\nvar _getScrollbarWidth = _interopRequireDefault(require(\"../../../../packages/getScrollbarWidth\"));\n\nvar _isSafari = _interopRequireDefault(require(\"../../../../packages/isSafari\"));\n\nvar _ScrollerFactory = _interopRequireDefault(require(\"./ScrollerFactory\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar raf = global.requestAnimationFrame;\nvar emptyObject = {};\nvar SCROLLBAR_WIDTH = (0, _getScrollbarWidth.default)();\n\nvar onScrollbarsChange = function onScrollbarsChange(scrollbars) {\n  if (SCROLLBAR_WIDTH) {\n    var style = this.childNode.style;\n    var rtl = this.props.rtl;\n    var right = scrollbars.vertical ? SCROLLBAR_WIDTH : 0;\n    var bottom = scrollbars.horizontal ? SCROLLBAR_WIDTH : 0;\n    style ? style[rtl && !(0, _isSafari.default)() ? 'left' : 'right'] = \"\".concat(right, \"px\") : null;\n    style ? style.bottom = \"\".concat(bottom, \"px\") : null;\n  }\n\n  if (this.props.onScrollbarsChange) {\n    this.props.onScrollbarsChange(scrollbars);\n  }\n};\n\nvar onStop = function onStop(scrollPos, prevScrollPos) {\n  this.scrollStarted = false;\n\n  if (this.props.onScrollStop) {\n    this.props.onScrollStop(scrollPos, prevScrollPos);\n  }\n};\n\nvar onScroll = function onScroll(_ref) {\n  var target = _ref.target;\n  var _this$props = this.props,\n      onScrollStart = _this$props.onScrollStart,\n      onScrollStop = _this$props.onScrollStop;\n  var startStop = !!(onScrollStart || onScrollStop);\n  var scrollTop = target.scrollTop,\n      scrollLeft = target.scrollLeft;\n  var scrollPos = {\n    scrollTop: scrollTop,\n    scrollLeft: scrollLeft\n  };\n  var prevScrollPos = this.currentScrollPosition || emptyObject;\n  var prevScrollTop = prevScrollPos.scrollTop,\n      prevScrollLeft = prevScrollPos.scrollLeft;\n\n  if (startStop) {\n    if (!this.scrollStarted) {\n      if (onScrollStart) {\n        onScrollStart(scrollPos, prevScrollPos);\n      }\n    }\n  }\n\n  var scrollVertical = false;\n  var scrollHorizontal = false;\n\n  if (this.props.onContainerScroll) {\n    this.props.onContainerScroll(scrollPos, prevScrollPos);\n  }\n\n  var scrollTopChange = scrollTop !== prevScrollTop;\n\n  if (scrollTopChange) {\n    scrollVertical = true;\n\n    if (this.props.onContainerScrollVertical) {\n      this.props.onContainerScrollVertical(scrollTop, prevScrollTop);\n    }\n\n    if (this.props.onContainerScrollVerticalMin && scrollTop === 0) {\n      this.props.onContainerScrollVerticalMin(0);\n    }\n\n    if (this.props.onContainerScrollVerticalMax && scrollTop === this.scrollTopMax) {\n      this.props.onContainerScrollVerticalMax(scrollTop);\n    }\n  }\n\n  var scrollLeftChange = scrollLeft !== prevScrollLeft;\n\n  if (scrollLeftChange) {\n    scrollHorizontal = true;\n\n    if (this.props.onContainerScrollHorizontal) {\n      this.props.onContainerScrollHorizontal(scrollLeft, prevScrollLeft);\n    }\n\n    if (this.props.onContainerScrollHorizontalMin && scrollLeft === 0) {\n      this.props.onContainerScrollHorizontalMin(0);\n    }\n\n    if (this.props.onContainerScrollHorizontalMax && scrollLeft === this.scrollLeftMax) {\n      this.props.onContainerScrollHorizontalMax(scrollLeft);\n    }\n  }\n\n  if (startStop && (scrollTopChange || scrollLeftChange)) {\n    if (!this.scrollStarted || this.scrollStarted.vertical !== scrollVertical || this.scrollStarted.horizontal !== scrollHorizontal) {\n      this.scrollStarted = {\n        horizontal: scrollHorizontal,\n        vertical: scrollVertical\n      };\n    }\n\n    this.onStop(scrollPos, prevScrollPos);\n  }\n\n  this.currentScrollPosition = scrollPos;\n};\n\nvar InovuaNativeScrollContainer = (0, _ScrollerFactory.default)('InovuaNativeScrollContainer', {\n  init: function init(props) {\n    var _this = this;\n\n    this.refScroller = function (s) {\n      _this.scroller = s;\n    };\n\n    this.onStop = (0, _debounce.default)(onStop.bind(this), props.scrollStopDelay, {\n      leading: false\n    });\n\n    this.onScrollerScroll = function (event) {\n      if (event.target === _this.scroller) {\n        raf(function () {\n          _this.updateScrollStyle();\n        });\n        onScroll.call(_this, event);\n\n        _this.onScrollIntent();\n      }\n\n      if (_this.props.onScroll) {\n        _this.props.onScroll(event);\n      }\n    };\n  },\n  prepareClassName: function prepareClassName(className) {\n    return \"\".concat(className, \" inovua-react-virtual-scroll-container--native\");\n  },\n  sync: function sync() {\n    if (!this.oldScrollbars) {\n      this.oldScrollbars = this.getScrollbars();\n      return;\n    }\n\n    var scrollbars = this.getScrollbars();\n\n    if (scrollbars.vertical !== this.oldScrollbars.vertical || scrollbars.horizontal !== this.oldScrollbars.horizontal) {\n      onScrollbarsChange.call(this, scrollbars);\n    }\n\n    this.oldScrollbars = scrollbars;\n  },\n  getClientSize: function getClientSize() {\n    var scroller = this.scroller;\n    return {\n      height: scroller.clientHeight,\n      width: scroller.clientWidth\n    };\n  },\n  hasScrollbar: function hasScrollbar(orientation) {\n    var scroller = this.scroller;\n    return orientation === 'horizontal' ? scroller.scrollWidth > scroller.clientWidth : scroller.scrollHeight > scroller.clientHeight;\n  },\n  getScrollLeftMax: function getScrollLeftMax() {\n    var scroller = this.scroller;\n    return scroller.scrollWidth - scroller.clientWidth;\n  },\n  getScrollTopMax: function getScrollTopMax() {\n    var scroller = this.scroller;\n    return scroller.scrollHeight - scroller.clientHeight;\n  },\n  getScrollPosition: function getScrollPosition() {\n    return {\n      scrollTop: this.scrollTop,\n      scrollLeft: this.scrollLeft\n    };\n  },\n  renderScroller: function renderScroller(_ref2) {\n    var content = _ref2.content,\n        spacer = _ref2.spacer,\n        scrollerStyle = _ref2.scrollerStyle,\n        props = _ref2.props;\n    var renderScroller = props.renderScroller;\n    var className = 'inovua-react-virtual-scroll-container__scroll-container';\n\n    if (props.avoidRepaintOnScroll) {\n      className += \" \".concat(className, \"--avoid-repaint\");\n    }\n\n    var domProps = {\n      key: 'scroller',\n      tabIndex: -1,\n      onScroll: this.onScrollerScroll,\n      ref: this.refScroller,\n      style: scrollerStyle,\n      className: className,\n      children: [content, spacer]\n    };\n    var result = typeof renderScroller === 'function' ? renderScroller(domProps) : _react.default.createElement(\"div\", domProps);\n    return result;\n  }\n});\nInovuaNativeScrollContainer.propTypes = _objectSpread(_objectSpread({\n  renderScrollerSpacer: _propTypes.default.func\n}, _src.propTypes), InovuaNativeScrollContainer.propTypes);\nInovuaNativeScrollContainer.defaultProps.scrollStopDelay = 150;\nvar _default = InovuaNativeScrollContainer;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/packages/react-virtual-scroll-container-pro/src/old/NativeScrollContainer.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_defineProperty2","_react","_propTypes","_src","_debounce","_getScrollbarWidth","_isSafari","_ScrollerFactory","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","raf","global","requestAnimationFrame","emptyObject","SCROLLBAR_WIDTH","onScrollbarsChange","scrollbars","style","childNode","rtl","props","right","vertical","bottom","horizontal","concat","onStop","scrollPos","prevScrollPos","scrollStarted","onScrollStop","onScroll","_ref","_this$props","onScrollStart","startStop","scrollTop","scrollLeft","currentScrollPosition","prevScrollTop","prevScrollLeft","scrollVertical","scrollHorizontal","onContainerScroll","scrollTopChange","onContainerScrollVertical","onContainerScrollVerticalMin","onContainerScrollVerticalMax","scrollTopMax","scrollLeftChange","onContainerScrollHorizontal","onContainerScrollHorizontalMin","onContainerScrollHorizontalMax","scrollLeftMax","InovuaNativeScrollContainer","init","_this","refScroller","s","scroller","bind","scrollStopDelay","leading","onScrollerScroll","event","updateScrollStyle","call","onScrollIntent","prepareClassName","className","sync","oldScrollbars","getScrollbars","getClientSize","height","clientHeight","width","clientWidth","hasScrollbar","orientation","scrollWidth","scrollHeight","getScrollLeftMax","getScrollTopMax","getScrollPosition","renderScroller","_ref2","content","spacer","scrollerStyle","avoidRepaintOnScroll","domProps","tabIndex","ref","children","result","createElement","propTypes","renderScrollerSpacer","func","defaultProps","_default"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAAD,CAApC;;AAEAC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;;AAEA,IAAIC,gBAAgB,GAAGP,sBAAsB,CAACC,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIO,MAAM,GAAGR,sBAAsB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAIQ,UAAU,GAAGT,sBAAsB,CAACC,OAAO,CAAC,YAAD,CAAR,CAAvC;;AAEA,IAAIS,IAAI,GAAGT,OAAO,CAAC,qDAAD,CAAlB;;AAEA,IAAIU,SAAS,GAAGX,sBAAsB,CAACC,OAAO,CAAC,+BAAD,CAAR,CAAtC;;AAEA,IAAIW,kBAAkB,GAAGZ,sBAAsB,CAACC,OAAO,CAAC,wCAAD,CAAR,CAA/C;;AAEA,IAAIY,SAAS,GAAGb,sBAAsB,CAACC,OAAO,CAAC,+BAAD,CAAR,CAAtC;;AAEA,IAAIa,gBAAgB,GAAGd,sBAAsB,CAACC,OAAO,CAAC,mBAAD,CAAR,CAA7C;;AAEA,SAASc,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AAAE,MAAIC,IAAI,GAAGhB,MAAM,CAACgB,IAAP,CAAYF,MAAZ,CAAX;;AAAgC,MAAId,MAAM,CAACiB,qBAAX,EAAkC;AAAE,QAAIC,OAAO,GAAGlB,MAAM,CAACiB,qBAAP,CAA6BH,MAA7B,CAAd;AAAoD,QAAIC,cAAJ,EAAoBG,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAAE,aAAOpB,MAAM,CAACqB,wBAAP,CAAgCP,MAAhC,EAAwCM,GAAxC,EAA6CE,UAApD;AAAiE,KAAjG,CAAV;AAA8GN,IAAAA,IAAI,CAACO,IAAL,CAAUC,KAAV,CAAgBR,IAAhB,EAAsBE,OAAtB;AAAiC;;AAAC,SAAOF,IAAP;AAAc;;AAErV,SAASS,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;;AAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;AAAEd,MAAAA,OAAO,CAACb,MAAM,CAAC8B,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUC,GAAV,EAAe;AAAE,SAAC,GAAG3B,gBAAgB,CAACD,OAArB,EAA8BsB,MAA9B,EAAsCM,GAAtC,EAA2CF,MAAM,CAACE,GAAD,CAAjD;AAA0D,OAAjH;AAAqH,KAAlI,MAAwI,IAAIhC,MAAM,CAACiC,yBAAX,EAAsC;AAAEjC,MAAAA,MAAM,CAACkC,gBAAP,CAAwBR,MAAxB,EAAgC1B,MAAM,CAACiC,yBAAP,CAAiCH,MAAjC,CAAhC;AAA4E,KAApH,MAA0H;AAAEjB,MAAAA,OAAO,CAACb,MAAM,CAAC8B,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUC,GAAV,EAAe;AAAEhC,QAAAA,MAAM,CAACC,cAAP,CAAsByB,MAAtB,EAA8BM,GAA9B,EAAmChC,MAAM,CAACqB,wBAAP,CAAgCS,MAAhC,EAAwCE,GAAxC,CAAnC;AAAmF,OAApI;AAAwI;AAAE;;AAAC,SAAON,MAAP;AAAgB;;AAEpiB,IAAIS,GAAG,GAAGC,MAAM,CAACC,qBAAjB;AACA,IAAIC,WAAW,GAAG,EAAlB;AACA,IAAIC,eAAe,GAAG,CAAC,GAAG7B,kBAAkB,CAACN,OAAvB,GAAtB;;AAEA,IAAIoC,kBAAkB,GAAG,SAASA,kBAAT,CAA4BC,UAA5B,EAAwC;AAC/D,MAAIF,eAAJ,EAAqB;AACnB,QAAIG,KAAK,GAAG,KAAKC,SAAL,CAAeD,KAA3B;AACA,QAAIE,GAAG,GAAG,KAAKC,KAAL,CAAWD,GAArB;AACA,QAAIE,KAAK,GAAGL,UAAU,CAACM,QAAX,GAAsBR,eAAtB,GAAwC,CAApD;AACA,QAAIS,MAAM,GAAGP,UAAU,CAACQ,UAAX,GAAwBV,eAAxB,GAA0C,CAAvD;AACAG,IAAAA,KAAK,GAAGA,KAAK,CAACE,GAAG,IAAI,CAAC,CAAC,GAAGjC,SAAS,CAACP,OAAd,GAAR,GAAmC,MAAnC,GAA4C,OAA7C,CAAL,GAA6D,GAAG8C,MAAH,CAAUJ,KAAV,EAAiB,IAAjB,CAAhE,GAAyF,IAA9F;AACAJ,IAAAA,KAAK,GAAGA,KAAK,CAACM,MAAN,GAAe,GAAGE,MAAH,CAAUF,MAAV,EAAkB,IAAlB,CAAlB,GAA4C,IAAjD;AACD;;AAED,MAAI,KAAKH,KAAL,CAAWL,kBAAf,EAAmC;AACjC,SAAKK,KAAL,CAAWL,kBAAX,CAA8BC,UAA9B;AACD;AACF,CAbD;;AAeA,IAAIU,MAAM,GAAG,SAASA,MAAT,CAAgBC,SAAhB,EAA2BC,aAA3B,EAA0C;AACrD,OAAKC,aAAL,GAAqB,KAArB;;AAEA,MAAI,KAAKT,KAAL,CAAWU,YAAf,EAA6B;AAC3B,SAAKV,KAAL,CAAWU,YAAX,CAAwBH,SAAxB,EAAmCC,aAAnC;AACD;AACF,CAND;;AAQA,IAAIG,QAAQ,GAAG,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;AACrC,MAAI/B,MAAM,GAAG+B,IAAI,CAAC/B,MAAlB;AACA,MAAIgC,WAAW,GAAG,KAAKb,KAAvB;AAAA,MACIc,aAAa,GAAGD,WAAW,CAACC,aADhC;AAAA,MAEIJ,YAAY,GAAGG,WAAW,CAACH,YAF/B;AAGA,MAAIK,SAAS,GAAG,CAAC,EAAED,aAAa,IAAIJ,YAAnB,CAAjB;AACA,MAAIM,SAAS,GAAGnC,MAAM,CAACmC,SAAvB;AAAA,MACIC,UAAU,GAAGpC,MAAM,CAACoC,UADxB;AAEA,MAAIV,SAAS,GAAG;AACdS,IAAAA,SAAS,EAAEA,SADG;AAEdC,IAAAA,UAAU,EAAEA;AAFE,GAAhB;AAIA,MAAIT,aAAa,GAAG,KAAKU,qBAAL,IAA8BzB,WAAlD;AACA,MAAI0B,aAAa,GAAGX,aAAa,CAACQ,SAAlC;AAAA,MACII,cAAc,GAAGZ,aAAa,CAACS,UADnC;;AAGA,MAAIF,SAAJ,EAAe;AACb,QAAI,CAAC,KAAKN,aAAV,EAAyB;AACvB,UAAIK,aAAJ,EAAmB;AACjBA,QAAAA,aAAa,CAACP,SAAD,EAAYC,aAAZ,CAAb;AACD;AACF;AACF;;AAED,MAAIa,cAAc,GAAG,KAArB;AACA,MAAIC,gBAAgB,GAAG,KAAvB;;AAEA,MAAI,KAAKtB,KAAL,CAAWuB,iBAAf,EAAkC;AAChC,SAAKvB,KAAL,CAAWuB,iBAAX,CAA6BhB,SAA7B,EAAwCC,aAAxC;AACD;;AAED,MAAIgB,eAAe,GAAGR,SAAS,KAAKG,aAApC;;AAEA,MAAIK,eAAJ,EAAqB;AACnBH,IAAAA,cAAc,GAAG,IAAjB;;AAEA,QAAI,KAAKrB,KAAL,CAAWyB,yBAAf,EAA0C;AACxC,WAAKzB,KAAL,CAAWyB,yBAAX,CAAqCT,SAArC,EAAgDG,aAAhD;AACD;;AAED,QAAI,KAAKnB,KAAL,CAAW0B,4BAAX,IAA2CV,SAAS,KAAK,CAA7D,EAAgE;AAC9D,WAAKhB,KAAL,CAAW0B,4BAAX,CAAwC,CAAxC;AACD;;AAED,QAAI,KAAK1B,KAAL,CAAW2B,4BAAX,IAA2CX,SAAS,KAAK,KAAKY,YAAlE,EAAgF;AAC9E,WAAK5B,KAAL,CAAW2B,4BAAX,CAAwCX,SAAxC;AACD;AACF;;AAED,MAAIa,gBAAgB,GAAGZ,UAAU,KAAKG,cAAtC;;AAEA,MAAIS,gBAAJ,EAAsB;AACpBP,IAAAA,gBAAgB,GAAG,IAAnB;;AAEA,QAAI,KAAKtB,KAAL,CAAW8B,2BAAf,EAA4C;AAC1C,WAAK9B,KAAL,CAAW8B,2BAAX,CAAuCb,UAAvC,EAAmDG,cAAnD;AACD;;AAED,QAAI,KAAKpB,KAAL,CAAW+B,8BAAX,IAA6Cd,UAAU,KAAK,CAAhE,EAAmE;AACjE,WAAKjB,KAAL,CAAW+B,8BAAX,CAA0C,CAA1C;AACD;;AAED,QAAI,KAAK/B,KAAL,CAAWgC,8BAAX,IAA6Cf,UAAU,KAAK,KAAKgB,aAArE,EAAoF;AAClF,WAAKjC,KAAL,CAAWgC,8BAAX,CAA0Cf,UAA1C;AACD;AACF;;AAED,MAAIF,SAAS,KAAKS,eAAe,IAAIK,gBAAxB,CAAb,EAAwD;AACtD,QAAI,CAAC,KAAKpB,aAAN,IAAuB,KAAKA,aAAL,CAAmBP,QAAnB,KAAgCmB,cAAvD,IAAyE,KAAKZ,aAAL,CAAmBL,UAAnB,KAAkCkB,gBAA/G,EAAiI;AAC/H,WAAKb,aAAL,GAAqB;AACnBL,QAAAA,UAAU,EAAEkB,gBADO;AAEnBpB,QAAAA,QAAQ,EAAEmB;AAFS,OAArB;AAID;;AAED,SAAKf,MAAL,CAAYC,SAAZ,EAAuBC,aAAvB;AACD;;AAED,OAAKU,qBAAL,GAA6BX,SAA7B;AACD,CA/ED;;AAiFA,IAAI2B,2BAA2B,GAAG,CAAC,GAAGnE,gBAAgB,CAACR,OAArB,EAA8B,6BAA9B,EAA6D;AAC7F4E,EAAAA,IAAI,EAAE,SAASA,IAAT,CAAcnC,KAAd,EAAqB;AACzB,QAAIoC,KAAK,GAAG,IAAZ;;AAEA,SAAKC,WAAL,GAAmB,UAAUC,CAAV,EAAa;AAC9BF,MAAAA,KAAK,CAACG,QAAN,GAAiBD,CAAjB;AACD,KAFD;;AAIA,SAAKhC,MAAL,GAAc,CAAC,GAAG1C,SAAS,CAACL,OAAd,EAAuB+C,MAAM,CAACkC,IAAP,CAAY,IAAZ,CAAvB,EAA0CxC,KAAK,CAACyC,eAAhD,EAAiE;AAC7EC,MAAAA,OAAO,EAAE;AADoE,KAAjE,CAAd;;AAIA,SAAKC,gBAAL,GAAwB,UAAUC,KAAV,EAAiB;AACvC,UAAIA,KAAK,CAAC/D,MAAN,KAAiBuD,KAAK,CAACG,QAA3B,EAAqC;AACnCjD,QAAAA,GAAG,CAAC,YAAY;AACd8C,UAAAA,KAAK,CAACS,iBAAN;AACD,SAFE,CAAH;AAGAlC,QAAAA,QAAQ,CAACmC,IAAT,CAAcV,KAAd,EAAqBQ,KAArB;;AAEAR,QAAAA,KAAK,CAACW,cAAN;AACD;;AAED,UAAIX,KAAK,CAACpC,KAAN,CAAYW,QAAhB,EAA0B;AACxByB,QAAAA,KAAK,CAACpC,KAAN,CAAYW,QAAZ,CAAqBiC,KAArB;AACD;AACF,KAbD;AAcD,GA1B4F;AA2B7FI,EAAAA,gBAAgB,EAAE,SAASA,gBAAT,CAA0BC,SAA1B,EAAqC;AACrD,WAAO,GAAG5C,MAAH,CAAU4C,SAAV,EAAqB,gDAArB,CAAP;AACD,GA7B4F;AA8B7FC,EAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,QAAI,CAAC,KAAKC,aAAV,EAAyB;AACvB,WAAKA,aAAL,GAAqB,KAAKC,aAAL,EAArB;AACA;AACD;;AAED,QAAIxD,UAAU,GAAG,KAAKwD,aAAL,EAAjB;;AAEA,QAAIxD,UAAU,CAACM,QAAX,KAAwB,KAAKiD,aAAL,CAAmBjD,QAA3C,IAAuDN,UAAU,CAACQ,UAAX,KAA0B,KAAK+C,aAAL,CAAmB/C,UAAxG,EAAoH;AAClHT,MAAAA,kBAAkB,CAACmD,IAAnB,CAAwB,IAAxB,EAA8BlD,UAA9B;AACD;;AAED,SAAKuD,aAAL,GAAqBvD,UAArB;AACD,GA3C4F;AA4C7FyD,EAAAA,aAAa,EAAE,SAASA,aAAT,GAAyB;AACtC,QAAId,QAAQ,GAAG,KAAKA,QAApB;AACA,WAAO;AACLe,MAAAA,MAAM,EAAEf,QAAQ,CAACgB,YADZ;AAELC,MAAAA,KAAK,EAAEjB,QAAQ,CAACkB;AAFX,KAAP;AAID,GAlD4F;AAmD7FC,EAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBC,WAAtB,EAAmC;AAC/C,QAAIpB,QAAQ,GAAG,KAAKA,QAApB;AACA,WAAOoB,WAAW,KAAK,YAAhB,GAA+BpB,QAAQ,CAACqB,WAAT,GAAuBrB,QAAQ,CAACkB,WAA/D,GAA6ElB,QAAQ,CAACsB,YAAT,GAAwBtB,QAAQ,CAACgB,YAArH;AACD,GAtD4F;AAuD7FO,EAAAA,gBAAgB,EAAE,SAASA,gBAAT,GAA4B;AAC5C,QAAIvB,QAAQ,GAAG,KAAKA,QAApB;AACA,WAAOA,QAAQ,CAACqB,WAAT,GAAuBrB,QAAQ,CAACkB,WAAvC;AACD,GA1D4F;AA2D7FM,EAAAA,eAAe,EAAE,SAASA,eAAT,GAA2B;AAC1C,QAAIxB,QAAQ,GAAG,KAAKA,QAApB;AACA,WAAOA,QAAQ,CAACsB,YAAT,GAAwBtB,QAAQ,CAACgB,YAAxC;AACD,GA9D4F;AA+D7FS,EAAAA,iBAAiB,EAAE,SAASA,iBAAT,GAA6B;AAC9C,WAAO;AACLhD,MAAAA,SAAS,EAAE,KAAKA,SADX;AAELC,MAAAA,UAAU,EAAE,KAAKA;AAFZ,KAAP;AAID,GApE4F;AAqE7FgD,EAAAA,cAAc,EAAE,SAASA,cAAT,CAAwBC,KAAxB,EAA+B;AAC7C,QAAIC,OAAO,GAAGD,KAAK,CAACC,OAApB;AAAA,QACIC,MAAM,GAAGF,KAAK,CAACE,MADnB;AAAA,QAEIC,aAAa,GAAGH,KAAK,CAACG,aAF1B;AAAA,QAGIrE,KAAK,GAAGkE,KAAK,CAAClE,KAHlB;AAIA,QAAIiE,cAAc,GAAGjE,KAAK,CAACiE,cAA3B;AACA,QAAIhB,SAAS,GAAG,yDAAhB;;AAEA,QAAIjD,KAAK,CAACsE,oBAAV,EAAgC;AAC9BrB,MAAAA,SAAS,IAAI,IAAI5C,MAAJ,CAAW4C,SAAX,EAAsB,iBAAtB,CAAb;AACD;;AAED,QAAIsB,QAAQ,GAAG;AACbpF,MAAAA,GAAG,EAAE,UADQ;AAEbqF,MAAAA,QAAQ,EAAE,CAAC,CAFE;AAGb7D,MAAAA,QAAQ,EAAE,KAAKgC,gBAHF;AAIb8B,MAAAA,GAAG,EAAE,KAAKpC,WAJG;AAKbxC,MAAAA,KAAK,EAAEwE,aALM;AAMbpB,MAAAA,SAAS,EAAEA,SANE;AAObyB,MAAAA,QAAQ,EAAE,CAACP,OAAD,EAAUC,MAAV;AAPG,KAAf;AASA,QAAIO,MAAM,GAAG,OAAOV,cAAP,KAA0B,UAA1B,GAAuCA,cAAc,CAACM,QAAD,CAArD,GAAkE9G,MAAM,CAACF,OAAP,CAAeqH,aAAf,CAA6B,KAA7B,EAAoCL,QAApC,CAA/E;AACA,WAAOI,MAAP;AACD;AA5F4F,CAA7D,CAAlC;AA8FAzC,2BAA2B,CAAC2C,SAA5B,GAAwCjG,aAAa,CAACA,aAAa,CAAC;AAClEkG,EAAAA,oBAAoB,EAAEpH,UAAU,CAACH,OAAX,CAAmBwH;AADyB,CAAD,EAEhEpH,IAAI,CAACkH,SAF2D,CAAd,EAEjC3C,2BAA2B,CAAC2C,SAFK,CAArD;AAGA3C,2BAA2B,CAAC8C,YAA5B,CAAyCvC,eAAzC,GAA2D,GAA3D;AACA,IAAIwC,QAAQ,GAAG/C,2BAAf;AACA7E,OAAO,CAACE,OAAR,GAAkB0H,QAAlB","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _src = require(\"../../../../packages/react-scroll-container-pro/src\");\n\nvar _debounce = _interopRequireDefault(require(\"../../../../packages/debounce\"));\n\nvar _getScrollbarWidth = _interopRequireDefault(require(\"../../../../packages/getScrollbarWidth\"));\n\nvar _isSafari = _interopRequireDefault(require(\"../../../../packages/isSafari\"));\n\nvar _ScrollerFactory = _interopRequireDefault(require(\"./ScrollerFactory\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar raf = global.requestAnimationFrame;\nvar emptyObject = {};\nvar SCROLLBAR_WIDTH = (0, _getScrollbarWidth.default)();\n\nvar onScrollbarsChange = function onScrollbarsChange(scrollbars) {\n  if (SCROLLBAR_WIDTH) {\n    var style = this.childNode.style;\n    var rtl = this.props.rtl;\n    var right = scrollbars.vertical ? SCROLLBAR_WIDTH : 0;\n    var bottom = scrollbars.horizontal ? SCROLLBAR_WIDTH : 0;\n    style ? style[rtl && !(0, _isSafari.default)() ? 'left' : 'right'] = \"\".concat(right, \"px\") : null;\n    style ? style.bottom = \"\".concat(bottom, \"px\") : null;\n  }\n\n  if (this.props.onScrollbarsChange) {\n    this.props.onScrollbarsChange(scrollbars);\n  }\n};\n\nvar onStop = function onStop(scrollPos, prevScrollPos) {\n  this.scrollStarted = false;\n\n  if (this.props.onScrollStop) {\n    this.props.onScrollStop(scrollPos, prevScrollPos);\n  }\n};\n\nvar onScroll = function onScroll(_ref) {\n  var target = _ref.target;\n  var _this$props = this.props,\n      onScrollStart = _this$props.onScrollStart,\n      onScrollStop = _this$props.onScrollStop;\n  var startStop = !!(onScrollStart || onScrollStop);\n  var scrollTop = target.scrollTop,\n      scrollLeft = target.scrollLeft;\n  var scrollPos = {\n    scrollTop: scrollTop,\n    scrollLeft: scrollLeft\n  };\n  var prevScrollPos = this.currentScrollPosition || emptyObject;\n  var prevScrollTop = prevScrollPos.scrollTop,\n      prevScrollLeft = prevScrollPos.scrollLeft;\n\n  if (startStop) {\n    if (!this.scrollStarted) {\n      if (onScrollStart) {\n        onScrollStart(scrollPos, prevScrollPos);\n      }\n    }\n  }\n\n  var scrollVertical = false;\n  var scrollHorizontal = false;\n\n  if (this.props.onContainerScroll) {\n    this.props.onContainerScroll(scrollPos, prevScrollPos);\n  }\n\n  var scrollTopChange = scrollTop !== prevScrollTop;\n\n  if (scrollTopChange) {\n    scrollVertical = true;\n\n    if (this.props.onContainerScrollVertical) {\n      this.props.onContainerScrollVertical(scrollTop, prevScrollTop);\n    }\n\n    if (this.props.onContainerScrollVerticalMin && scrollTop === 0) {\n      this.props.onContainerScrollVerticalMin(0);\n    }\n\n    if (this.props.onContainerScrollVerticalMax && scrollTop === this.scrollTopMax) {\n      this.props.onContainerScrollVerticalMax(scrollTop);\n    }\n  }\n\n  var scrollLeftChange = scrollLeft !== prevScrollLeft;\n\n  if (scrollLeftChange) {\n    scrollHorizontal = true;\n\n    if (this.props.onContainerScrollHorizontal) {\n      this.props.onContainerScrollHorizontal(scrollLeft, prevScrollLeft);\n    }\n\n    if (this.props.onContainerScrollHorizontalMin && scrollLeft === 0) {\n      this.props.onContainerScrollHorizontalMin(0);\n    }\n\n    if (this.props.onContainerScrollHorizontalMax && scrollLeft === this.scrollLeftMax) {\n      this.props.onContainerScrollHorizontalMax(scrollLeft);\n    }\n  }\n\n  if (startStop && (scrollTopChange || scrollLeftChange)) {\n    if (!this.scrollStarted || this.scrollStarted.vertical !== scrollVertical || this.scrollStarted.horizontal !== scrollHorizontal) {\n      this.scrollStarted = {\n        horizontal: scrollHorizontal,\n        vertical: scrollVertical\n      };\n    }\n\n    this.onStop(scrollPos, prevScrollPos);\n  }\n\n  this.currentScrollPosition = scrollPos;\n};\n\nvar InovuaNativeScrollContainer = (0, _ScrollerFactory.default)('InovuaNativeScrollContainer', {\n  init: function init(props) {\n    var _this = this;\n\n    this.refScroller = function (s) {\n      _this.scroller = s;\n    };\n\n    this.onStop = (0, _debounce.default)(onStop.bind(this), props.scrollStopDelay, {\n      leading: false\n    });\n\n    this.onScrollerScroll = function (event) {\n      if (event.target === _this.scroller) {\n        raf(function () {\n          _this.updateScrollStyle();\n        });\n        onScroll.call(_this, event);\n\n        _this.onScrollIntent();\n      }\n\n      if (_this.props.onScroll) {\n        _this.props.onScroll(event);\n      }\n    };\n  },\n  prepareClassName: function prepareClassName(className) {\n    return \"\".concat(className, \" inovua-react-virtual-scroll-container--native\");\n  },\n  sync: function sync() {\n    if (!this.oldScrollbars) {\n      this.oldScrollbars = this.getScrollbars();\n      return;\n    }\n\n    var scrollbars = this.getScrollbars();\n\n    if (scrollbars.vertical !== this.oldScrollbars.vertical || scrollbars.horizontal !== this.oldScrollbars.horizontal) {\n      onScrollbarsChange.call(this, scrollbars);\n    }\n\n    this.oldScrollbars = scrollbars;\n  },\n  getClientSize: function getClientSize() {\n    var scroller = this.scroller;\n    return {\n      height: scroller.clientHeight,\n      width: scroller.clientWidth\n    };\n  },\n  hasScrollbar: function hasScrollbar(orientation) {\n    var scroller = this.scroller;\n    return orientation === 'horizontal' ? scroller.scrollWidth > scroller.clientWidth : scroller.scrollHeight > scroller.clientHeight;\n  },\n  getScrollLeftMax: function getScrollLeftMax() {\n    var scroller = this.scroller;\n    return scroller.scrollWidth - scroller.clientWidth;\n  },\n  getScrollTopMax: function getScrollTopMax() {\n    var scroller = this.scroller;\n    return scroller.scrollHeight - scroller.clientHeight;\n  },\n  getScrollPosition: function getScrollPosition() {\n    return {\n      scrollTop: this.scrollTop,\n      scrollLeft: this.scrollLeft\n    };\n  },\n  renderScroller: function renderScroller(_ref2) {\n    var content = _ref2.content,\n        spacer = _ref2.spacer,\n        scrollerStyle = _ref2.scrollerStyle,\n        props = _ref2.props;\n    var renderScroller = props.renderScroller;\n    var className = 'inovua-react-virtual-scroll-container__scroll-container';\n\n    if (props.avoidRepaintOnScroll) {\n      className += \" \".concat(className, \"--avoid-repaint\");\n    }\n\n    var domProps = {\n      key: 'scroller',\n      tabIndex: -1,\n      onScroll: this.onScrollerScroll,\n      ref: this.refScroller,\n      style: scrollerStyle,\n      className: className,\n      children: [content, spacer]\n    };\n    var result = typeof renderScroller === 'function' ? renderScroller(domProps) : _react.default.createElement(\"div\", domProps);\n    return result;\n  }\n});\nInovuaNativeScrollContainer.propTypes = _objectSpread(_objectSpread({\n  renderScrollerSpacer: _propTypes.default.func\n}, _src.propTypes), InovuaNativeScrollContainer.propTypes);\nInovuaNativeScrollContainer.defaultProps.scrollStopDelay = 150;\nvar _default = InovuaNativeScrollContainer;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}