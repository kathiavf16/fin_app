{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _isMobile = _interopRequireDefault(require(\"../../../common/isMobile\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nvar _debounce = _interopRequireDefault(require(\"../../../common/debounce\"));\n\nvar _join = _interopRequireDefault(require(\"../../../packages/join\"));\n\nvar _Flex = require(\"../../Flex\");\n\nvar _NotifyResize = require(\"../../NotifyResize\");\n\nvar _InertialScroller = require(\"../../InertialScroller\");\n\nvar _ua = require(\"../../../common/ua\");\n\nvar _reactScrollContainerPro = _interopRequireDefault(require(\"../../../packages/react-scroll-container-pro\"));\n\nvar _Arrow = _interopRequireDefault(require(\"./Arrow\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar VIEW_STYLE_VERTICAL = {\n  maxHeight: '100%'\n};\nvar VIEW_STYLE_HORIZONTAL = {\n  maxWidth: '100%'\n};\n\nvar observe = function observe(targetNode, callback, cfg) {\n  var config = cfg || {\n    attributes: false,\n    childList: true,\n    subtree: true\n  };\n  var observer = new MutationObserver(callback);\n  observer.observe(targetNode, config);\n  return function () {\n    observer.disconnect();\n  };\n};\n\nvar measureScrollSize = function measureScrollSize(node) {\n  return {\n    width: node.scrollWidth,\n    height: node.scrollHeight\n  };\n};\n\nvar scrollerResizerProps = {\n  useNativeIfAvailable: false,\n  measureSize: measureScrollSize\n};\n\nvar callAll = function callAll() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    fns.forEach(function (fn) {\n      fn && fn.apply(void 0, args);\n    });\n  };\n};\n\nvar pint = global.parseInt;\nvar raf = global.requestAnimationFrame;\nvar getCompStyle = global.getComputedStyle;\n\nvar NO_SCROLLBARS = function NO_SCROLLBARS() {\n  return false;\n};\n\nvar InovuaArrowScroller = function (_Component) {\n  (0, _inherits2.default)(InovuaArrowScroller, _Component);\n\n  var _super = _createSuper(InovuaArrowScroller);\n\n  function InovuaArrowScroller(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaArrowScroller);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getScrollerNodeClientSize\", function (node) {\n      var result = {\n        width: node.firstChild.offsetWidth,\n        height: node.firstChild.offsetHeight\n      };\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollContainerDidMount\", function (scrollContainer, domNode, notifyResizer) {\n      _this._unobserve = observe(domNode, function () {\n        if (notifyResizer && notifyResizer.checkResize) {\n          notifyResizer.checkResize();\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollContainerWillUnmount\", function () {\n      if (_this._unobserve) {\n        _this._unobserve();\n      }\n    });\n    _this.scrollInfo = {\n      scrollPos: 0,\n      hasStartScroll: false,\n      hasEndScroll: false,\n      scrollerSize: {\n        start: 0,\n        end: 0\n      }\n    };\n    _this.state = {\n      scrolling: false,\n      activeScroll: 0\n    };\n    _this.handleResize = (0, _debounce.default)(_this.handleResize.bind((0, _assertThisInitialized2.default)(_this)), 50, {\n      leading: false,\n      trailing: true\n    });\n    _this.updateScrollInfo = _this.updateScrollInfo.bind((0, _assertThisInitialized2.default)(_this));\n    _this.rafUpdateScrollInfo = _this.rafUpdateScrollInfo.bind((0, _assertThisInitialized2.default)(_this));\n    _this.onContainerScroll = _this.onContainerScroll.bind((0, _assertThisInitialized2.default)(_this));\n    _this.strip = (0, _react.createRef)();\n\n    _this.refScrollContainer = function (scrollContainer) {\n      _this.scrollerTarget = scrollContainer;\n    };\n\n    _this.setRootRef = function (ref) {\n      _this.root = ref;\n\n      if (!_this.props.nativeScroll) {\n        _this.scrollerTarget = _this.root;\n      }\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaArrowScroller, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      raf(function () {\n        var name = _this2.getOffsetSizeName();\n\n        _this2.scrollInfo.scrollerSize = {\n          start: _this2.props.scroller === (true || 'auto') ? _this2.start[name] : null,\n          end: _this2.props.scroller === (true || 'auto') ? _this2.end[name] : null\n        };\n\n        _this2.syncScroll({\n          force: true\n        });\n\n        _this2.componentIsMounted = true;\n        _this2.inertialManager = new _InertialScroller.InertialManager({\n          arrowSelector: \".\".concat(_this2.props.rootClassName, \"__arrow\"),\n          node: _this2.root,\n          viewNode: _this2.strip.current,\n          setScrollPosition: function setScrollPosition() {\n            return raf(function () {\n              return _this2.setScrollPosition();\n            });\n          },\n          enableMouseDrag: false\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n\n      if (this.inertialManager) {\n        this.inertialManager.removeEventListeners();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var useTransformOnScroll = props.useTransformOnScroll,\n          nativeScroll = props.nativeScroll,\n          vertical = props.vertical,\n          rootClassName = props.rootClassName,\n          rtl = props.rtl,\n          theme = props.theme;\n      var scrollInfo = this.scrollInfo;\n      var scrollValue = rtl ? scrollInfo.scrollPos : -scrollInfo.scrollPos;\n      var innerWrapperClassName = (0, _join.default)(\"\".concat(rootClassName, \"__inner-wrapper\"), \"\".concat(rootClassName, \"__inner-wrapper--direction-\").concat(vertical ? 'column' : 'row'));\n      var className = (0, _join.default)(props.className, rootClassName, !vertical && \"\".concat(rootClassName, \"--direction-horizontal\"), vertical && \"\".concat(rootClassName, \"--direction-vertical\"), rtl && \"\".concat(rootClassName, \"--rtl\"), nativeScroll && \"\".concat(rootClassName, \"--native-scroll\"), theme && \"\".concat(rootClassName, \"--theme-\").concat(theme));\n      var transformValue;\n      var moveStyle = {};\n\n      if (useTransformOnScroll) {\n        moveStyle.transform = 'translate3d(0px, 0px, 0px)';\n      }\n\n      if (vertical) {\n        if (useTransformOnScroll) {\n          moveStyle.transform = \"translate3d(0px, \".concat(scrollValue, \"px, 0px)\");\n        } else {\n          moveStyle.top = scrollValue;\n        }\n      } else {\n        if (useTransformOnScroll) {\n          moveStyle.transform = \"translate3d(\".concat(scrollValue, \"px, 0px, 0px)\");\n        } else {\n          moveStyle.left = scrollValue;\n        }\n      }\n\n      var resizer = _react.default.createElement(_NotifyResize.NotifyResize, {\n        key: \"resizer\",\n        notifyOnMount: true,\n        onResize: this.handleResize,\n        notifyResizeDelay: props.notifyResizeDelay\n      });\n\n      var children = [].concat((0, _toConsumableArray2.default)(_react.default.Children.toArray(props.children)), [resizer]);\n\n      var content = _react.default.createElement(_Flex.Flex, (0, _extends2.default)({\n        key: \"content\",\n        wrap: false\n      }, props.childProps, {\n        className: innerWrapperClassName,\n        ref: this.strip,\n        children: children,\n        style: nativeScroll ? null : moveStyle\n      }));\n\n      var finalChildren = [resizer, content, this.renderScroller(-1), this.renderScroller(1)];\n\n      if (nativeScroll) {\n        var scrollContainerProps = this.props.scrollContainerProps;\n        var viewStyle = vertical ? VIEW_STYLE_VERTICAL : VIEW_STYLE_HORIZONTAL;\n\n        if (scrollContainerProps && scrollContainerProps.viewStyle) {\n          viewStyle = _objectSpread(_objectSpread({}, scrollContainerProps.viewStyle), viewStyle);\n        }\n\n        var style = {\n          maxHeight: '100%'\n        };\n        var scrollerStyle;\n\n        if (this.props.rtl) {\n          viewStyle.direction = 'rtl';\n          viewStyle.maxWidth = '';\n          style.alignItems = 'flex-end';\n          style.maxWidth = '100%';\n          scrollerStyle = {\n            alignItems: 'flex-end'\n          };\n        }\n\n        var prevChildren = finalChildren;\n        finalChildren = _react.default.createElement(_reactScrollContainerPro.default, {\n          applyCSSContainOnScroll: false,\n          style: style,\n          scrollerStyle: scrollerStyle,\n          emptyScrollOffset: 20,\n          getScrollerNodeClientSize: this.props.rtl ? this.getScrollerNodeClientSize : null,\n          className: \"\".concat(this.props.rootClassName, \"__scroll-container\"),\n          shouldAllowScrollbars: NO_SCROLLBARS,\n          dragToScroll: false,\n          nativeScroll: scrollContainerProps ? scrollContainerProps.nativeScroll !== undefined ? scrollContainerProps.nativeScroll : false : false,\n          viewStyle: viewStyle,\n          ref: this.refScrollContainer,\n          scrollerResizerProps: scrollerResizerProps,\n          onDidMount: this.onScrollContainerDidMount,\n          onWillUnmount: this.onScrollContainerWillUnmount,\n          onResize: scrollContainerProps && scrollContainerProps.onResize ? callAll(scrollContainerProps.onResize, this.rafUpdateScrollInfo) : this.rafUpdateScrollInfo,\n          children: prevChildren,\n          onContainerScroll: this.onContainerScroll,\n          theme: props.theme\n        });\n\n        if (this.props.rtl) {\n          finalChildren = [finalChildren, resizer];\n        }\n      }\n\n      return _react.default.createElement(_Flex.Flex, (0, _extends2.default)({}, (0, _cleanProps.default)(props, InovuaArrowScroller.propTypes), {\n        ref: this.setRootRef,\n        className: className,\n        alignItems: \"start\",\n        children: finalChildren\n      }));\n    }\n  }, {\n    key: \"renderScroller\",\n    value: function renderScroller(direction) {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          scroller = _this$props.scroller,\n          vertical = _this$props.vertical,\n          rootClassName = _this$props.rootClassName,\n          nativeScroll = _this$props.nativeScroll;\n\n      if (!scroller) {\n        return null;\n      }\n\n      var arrowName = vertical ? direction == (this.props.rtl ? 1 : -1) ? 'up' : 'down' : direction == (this.props.rtl ? 1 : -1) ? 'left' : 'right';\n      var scrollInfo = this.scrollInfo;\n      var disabled = direction == -1 ? !scrollInfo.hasStartScroll : !scrollInfo.hasEndScroll;\n      var arrowRootClassName = \"\".concat(rootClassName, \"__arrow\");\n      var className = (0, _join.default)(arrowRootClassName, \"\".concat(arrowRootClassName, \"--auto\"), \"\".concat(arrowRootClassName, \"--direction-\").concat(arrowName), this.state.activeScroll == direction && \"\".concat(arrowRootClassName, \"--active\"), scroller === 'auto' && disabled && \"\".concat(arrowRootClassName, \"--hidden\"), scroller === 'auto' && !disabled && \"\".concat(arrowRootClassName, \"--visible\"), scroller === true && disabled && \"\".concat(arrowRootClassName, \"--disabled\"), nativeScroll && \"\".concat(arrowRootClassName, \"--native-scroll\"));\n      var onClick = !disabled && this.props.scrollOnClick ? this.handleClick.bind(this, direction) : null;\n      var onMouseDown = !disabled && (!this.props.scrollOnClick || _isMobile.default) ? this.startScroll.bind(this, direction) : null;\n      var onMouseEnter = !disabled && this.props.scrollOnMouseEnter ? this.startMouseOverScroll.bind(this, direction) : null;\n      var onMouseLeave = !this.props.scrollOnClick || _isMobile.default || this.props.scrollOnMouseEnter ? this.stopMouseOverScroll.bind(this, direction) : null;\n      var onDoubleClick = !disabled ? this.handleScrollMax.bind(this, direction) : null;\n      var scrollerName = direction == -1 ? 'start' : 'end';\n      var domProps = {\n        ref: function ref(_ref) {\n          _this3[scrollerName] = _ref;\n        },\n        key: \"scroller-\".concat(direction),\n        disabled: disabled,\n        className: className,\n        onClick: onClick,\n        onDoubleClick: onDoubleClick,\n        onMouseDown: !_isMobile.default ? onMouseDown : null,\n        onTouchStart: _isMobile.default ? onMouseDown : null,\n        onTouchEnd: _isMobile.default ? onMouseLeave : null,\n        onMouseEnter: !_isMobile.default ? onMouseEnter : null,\n        onMouseLeave: !_isMobile.default ? onMouseLeave : null,\n        children: this.renderArrowIcon(arrowName)\n      };\n      var result;\n\n      if (typeof this.props.renderScroller === 'function') {\n        result = this.props.renderScroller({\n          domProps: domProps,\n          direction: direction\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", domProps);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"renderArrowIcon\",\n    value: function renderArrowIcon(name) {\n      var props = this.props;\n      return _react.default.createElement(_Arrow.default, {\n        name: name,\n        size: props.arrowSize,\n        height: props.arrowHeight,\n        width: props.arrowWidth,\n        className: \"\".concat(this.props.rootClassName, \"__arrow-icon\")\n      });\n    }\n  }, {\n    key: \"getOffsetSizeName\",\n    value: function getOffsetSizeName() {\n      return this.props.vertical ? 'offsetHeight' : 'offsetWidth';\n    }\n  }, {\n    key: \"getBorderAndPaddingSize\",\n    value: function getBorderAndPaddingSize() {\n      var node = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root;\n      var side = arguments.length > 1 ? arguments[1] : undefined;\n      var computedStyle = getCompStyle(node);\n      var start;\n      var end;\n\n      if (this.props.vertical) {\n        start = pint(computedStyle.borderTopWidth) + pint(computedStyle.paddingTop);\n        end = pint(computedStyle.borderBottomWidth) + pint(computedStyle.paddingBottom);\n        return start + end;\n      } else {\n        start = pint(computedStyle.borderLeftWidth) + pint(computedStyle.paddingLeft);\n        end = pint(computedStyle.borderRightWidth) + pint(computedStyle.paddingRight);\n      }\n\n      return side ? side == 'start' ? start : end : start + end;\n    }\n  }, {\n    key: \"getSizeName\",\n    value: function getSizeName() {\n      return this.props.vertical ? 'height' : 'width';\n    }\n  }, {\n    key: \"getAvailableSize\",\n    value: function getAvailableSize() {\n      if (!this.root) {\n        return null;\n      }\n\n      var size = this.availableSize || (this.props.nativeScroll ? this.props.vertical ? this.scrollerTarget.scrollTopMax : this.scrollerTarget.scrollLeftMax : this.root[this.getOffsetSizeName()] - this.getBorderAndPaddingSize());\n\n      if (this.props.rtl && size < 0) {\n        size = -size;\n      }\n\n      this.availableSize = size;\n      return size;\n    }\n  }, {\n    key: \"getCurrentListSize\",\n    value: function getCurrentListSize() {\n      if (!this.strip.current) {\n        return null;\n      }\n\n      return this.currentListSize = this.currentListSize || this.strip.current[this.getOffsetSizeName()];\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize() {\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      delete this.currentListSize;\n      delete this.availableSize;\n      this.syncScroll({\n        force: true\n      });\n    }\n  }, {\n    key: \"handleScrollMax\",\n    value: function handleScrollMax(direction, event) {\n      var _this4 = this;\n\n      event.stopPropagation();\n      event.preventDefault();\n      var maxPos = direction == -1 ? 0 : this.scrollInfo.maxScrollPos;\n      raf(function () {\n        _this4.setScrollPosition(maxPos);\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(direction) {\n      var offset = this.getAvailableSize();\n      this.scrollBy(offset, direction);\n    }\n  }, {\n    key: \"stopScroll\",\n    value: function stopScroll() {\n      global.clearInterval(this.scrollInterval);\n      this.setState({\n        scrolling: false,\n        activeScroll: 0\n      });\n    }\n  }, {\n    key: \"rafUpdateScrollInfo\",\n    value: function rafUpdateScrollInfo() {\n      raf(this.updateScrollInfo);\n    }\n  }, {\n    key: \"updateScrollInfo\",\n    value: function updateScrollInfo(count) {\n      var _this5 = this;\n\n      if (this.componentIsMounted === false) {\n        return;\n      }\n\n      var availableSize = this.getAvailableSize();\n\n      if (!availableSize) {\n        if (!count || count < 5) {\n          raf(function () {\n            _this5.updateScrollInfo((count || 0) + 1);\n          });\n          return;\n        }\n      }\n\n      var listSize = this.getCurrentListSize();\n      var scrollInfo = Object.assign(this.scrollInfo, {\n        availableSize: availableSize,\n        listSize: listSize\n      });\n\n      if (this.props.nativeScroll) {\n        if (this.scrollerTarget) {\n          scrollInfo.maxScrollPos = this.props.vertical ? this.scrollerTarget.scrollTopMax : this.scrollerTarget.scrollLeftMax;\n        }\n      } else {\n        if (listSize > availableSize) {\n          scrollInfo.maxScrollPos = listSize - availableSize;\n        } else {\n          scrollInfo.maxScrollPos = 0;\n        }\n      }\n\n      if (this.props.rtl && scrollInfo.maxScrollPos < 0) {\n        scrollInfo.maxScrollPos = -scrollInfo.maxScrollPos;\n      }\n\n      scrollInfo.hasStartScroll = scrollInfo.scrollPos != 0;\n      scrollInfo.hasEndScroll = scrollInfo.scrollPos < scrollInfo.maxScrollPos;\n      var hasScroll = listSize > availableSize;\n\n      if (hasScroll !== this.state.hasScroll) {\n        this.props.onHasScrollChange(hasScroll);\n      }\n\n      this.setState({\n        hasScroll: hasScroll\n      });\n    }\n  }, {\n    key: \"startScroll\",\n    value: function startScroll(direction, event) {\n      var _this6 = this;\n\n      var eventName = _isMobile.default ? 'touchend' : 'mouseup';\n      event.preventDefault();\n\n      var mouseUpListener = function mouseUpListener() {\n        _this6.stopScroll();\n\n        global.removeEventListener(eventName, mouseUpListener);\n      };\n\n      global.addEventListener(eventName, mouseUpListener);\n      this.scrollInterval = global.setInterval(this.doScroll.bind(this, direction), this.props.scrollSpeed);\n      this.setState({\n        scrolling: true,\n        activeScroll: direction\n      });\n    }\n  }, {\n    key: \"onContainerScroll\",\n    value: function onContainerScroll(_ref2) {\n      var scrollTop = _ref2.scrollTop,\n          scrollLeft = _ref2.scrollLeft;\n      this.setScrollPosition(this.props.vertical ? scrollTop : scrollLeft, {\n        skip: true\n      });\n    }\n  }, {\n    key: \"startMouseOverScroll\",\n    value: function startMouseOverScroll(direction, event) {\n      event.preventDefault();\n      global.clearInterval(this.mouseOverScrollInterval);\n      this.mouseOverScrollInterval = global.setInterval(this.doScroll.bind(this, direction), this.props.mouseoverScrollSpeed);\n      this.setState({\n        scrolling: true,\n        activeScroll: direction\n      });\n    }\n  }, {\n    key: \"stopMouseOverScroll\",\n    value: function stopMouseOverScroll() {\n      this.stopScroll();\n      global.clearInterval(this.mouseOverScrollInterval);\n    }\n  }, {\n    key: \"setScrollPosition\",\n    value: function setScrollPosition(scrollPos) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          force = _ref3.force,\n          skip = _ref3.skip;\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      var scrollInfo = this.scrollInfo;\n\n      if (scrollPos > scrollInfo.maxScrollPos) {\n        scrollPos = scrollInfo.maxScrollPos;\n      }\n\n      if (scrollPos < 0) {\n        scrollPos = 0;\n      }\n\n      if (scrollPos === scrollInfo.scrollPos && force !== true) {\n        return null;\n      }\n\n      Object.assign(scrollInfo, {\n        hasStartScroll: scrollPos !== 0,\n        hasEndScroll: scrollPos < scrollInfo.maxScrollPos,\n        scrollPos: scrollPos\n      });\n\n      if (!skip && this.props.nativeScroll && this.scrollerTarget) {\n        if (this.props.vertical) {\n          this.scrollerTarget.scrollTop = scrollPos;\n        } else {\n          this.scrollerTarget.scrollLeft = scrollPos;\n        }\n      }\n\n      this.setState({});\n    }\n  }, {\n    key: \"syncScroll\",\n    value: function syncScroll() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          force = _ref4.force;\n\n      this.updateScrollInfo();\n      this.doScroll(0, null, {\n        force: force\n      });\n    }\n  }, {\n    key: \"scrollIntoView\",\n    value: function scrollIntoView(domNode) {\n      var rootNode = this.root;\n\n      if (!domNode || !rootNode) {\n        return;\n      }\n\n      var rect = domNode.getBoundingClientRect();\n      var mainRect = rootNode.getBoundingClientRect();\n      var vertical = this.props.vertical;\n      var startSideName = vertical ? 'top' : 'left';\n      var endSideName = vertical ? 'bottom' : 'right';\n      var startDiff = rect[startSideName] - (mainRect[startSideName] + this.getBorderAndPaddingSize(undefined, 'start'));\n      var endDiff = rect[endSideName] - (mainRect[endSideName] - this.getBorderAndPaddingSize(undefined, 'end'));\n      var scrollIntoViewOffset = this.props.scrollIntoViewOffset;\n\n      if (startDiff < 0) {\n        this.doScroll(-startDiff + scrollIntoViewOffset, -1);\n      } else if (endDiff > 0) {\n        this.doScroll(endDiff + scrollIntoViewOffset, 1);\n      }\n    }\n  }, {\n    key: \"doScroll\",\n    value: function doScroll(direction, step) {\n      var _this7 = this;\n\n      var _ref5 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          force = _ref5.force;\n\n      var scrollInfo = this.scrollInfo;\n      var newScrollPos = scrollInfo.scrollPos + direction * (step || this.props.scrollStep);\n      raf(function () {\n        _this7.setScrollPosition(newScrollPos, {\n          force: force\n        });\n      });\n    }\n  }, {\n    key: \"scrollBy\",\n    value: function scrollBy(offset, direction) {\n      var _this8 = this;\n\n      var _ref6 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          force = _ref6.force;\n\n      var scrollInfo = this.scrollInfo;\n      var newScrollPos = scrollInfo.scrollPos + direction * offset;\n      raf(function () {\n        _this8.setScrollPosition(newScrollPos, {\n          force: force\n        });\n      });\n    }\n  }]);\n  return InovuaArrowScroller;\n}(_react.Component);\n\nvar emptyFn = function emptyFn() {};\n\nInovuaArrowScroller.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-arrow-scroller',\n  scroller: 'auto',\n  scrollStep: 15,\n  mouseoverScrollSpeed: 40,\n  scrollSpeed: 10,\n  scrollSpringConfig: {\n    stiffness: 370,\n    damping: 60\n  },\n  scrollIntoViewOffset: 1,\n  vertical: false,\n  scrollOnClick: false,\n  nativeScroll: !_ua.IS_IE,\n  scrollOnMouseEnter: true,\n  rtl: false,\n  useTransformOnScroll: false,\n  onHasScrollChange: emptyFn,\n  theme: 'default-light'\n};\nInovuaArrowScroller.propTypes = {\n  arrowSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    width: _propTypes.default.number,\n    height: _propTypes.default.number\n  })]),\n  theme: _propTypes.default.string,\n  scrollOnClick: _propTypes.default.bool,\n  childProps: _propTypes.default.object,\n  scrollOnMouseEnter: _propTypes.default.bool,\n  vertical: _propTypes.default.bool,\n  notifyResizeDelay: _propTypes.default.number,\n  scrollStep: _propTypes.default.number,\n  scrollSpeed: _propTypes.default.number,\n  mouseoverScrollSpeed: _propTypes.default.number,\n  scrollSpringConfig: _propTypes.default.shape({\n    stiffness: _propTypes.default.number,\n    damping: _propTypes.default.number\n  }),\n  nativeScroll: _propTypes.default.bool,\n  scrollIntoViewOffset: _propTypes.default.number,\n  scroller: _propTypes.default.oneOf(['auto', false, true]),\n  rootClassName: _propTypes.default.string,\n  rtl: _propTypes.default.bool,\n  scrollContainerProps: _propTypes.default.object,\n  useTransformOnScroll: _propTypes.default.bool,\n  onHasScrollChange: _propTypes.default.func,\n  renderScroller: _propTypes.default.func\n};\nvar _default = InovuaArrowScroller;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/packages/ArrowScroller/src/ArrowScroller.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_extends2","_toConsumableArray2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_propTypes","_isMobile","_cleanProps","_debounce","_join","_Flex","_NotifyResize","_InertialScroller","_ua","_reactScrollContainerPro","_Arrow","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","VIEW_STYLE_VERTICAL","maxHeight","VIEW_STYLE_HORIZONTAL","maxWidth","observe","targetNode","callback","cfg","config","attributes","childList","subtree","observer","MutationObserver","disconnect","measureScrollSize","node","width","scrollWidth","height","scrollHeight","scrollerResizerProps","useNativeIfAvailable","measureSize","callAll","_len","fns","Array","_key","_len2","args","_key2","fn","pint","global","parseInt","raf","requestAnimationFrame","getCompStyle","getComputedStyle","NO_SCROLLBARS","InovuaArrowScroller","_Component","_super","props","_this","firstChild","offsetWidth","offsetHeight","scrollContainer","domNode","notifyResizer","_unobserve","checkResize","scrollInfo","scrollPos","hasStartScroll","hasEndScroll","scrollerSize","start","end","state","scrolling","activeScroll","handleResize","bind","leading","trailing","updateScrollInfo","rafUpdateScrollInfo","onContainerScroll","strip","createRef","refScrollContainer","scrollerTarget","setRootRef","ref","root","nativeScroll","componentDidMount","_this2","name","getOffsetSizeName","scroller","syncScroll","force","componentIsMounted","inertialManager","InertialManager","arrowSelector","concat","rootClassName","viewNode","current","setScrollPosition","enableMouseDrag","componentWillUnmount","removeEventListeners","render","useTransformOnScroll","vertical","rtl","theme","scrollValue","innerWrapperClassName","className","transformValue","moveStyle","transform","top","left","resizer","createElement","NotifyResize","notifyOnMount","onResize","notifyResizeDelay","children","Children","toArray","content","Flex","wrap","childProps","style","finalChildren","renderScroller","scrollContainerProps","viewStyle","scrollerStyle","direction","alignItems","prevChildren","applyCSSContainOnScroll","emptyScrollOffset","getScrollerNodeClientSize","shouldAllowScrollbars","dragToScroll","undefined","onDidMount","onScrollContainerDidMount","onWillUnmount","onScrollContainerWillUnmount","propTypes","_this3","_this$props","arrowName","disabled","arrowRootClassName","onClick","scrollOnClick","handleClick","onMouseDown","startScroll","onMouseEnter","scrollOnMouseEnter","startMouseOverScroll","onMouseLeave","stopMouseOverScroll","onDoubleClick","handleScrollMax","scrollerName","domProps","_ref","onTouchStart","onTouchEnd","renderArrowIcon","size","arrowSize","arrowHeight","arrowWidth","getBorderAndPaddingSize","side","computedStyle","borderTopWidth","paddingTop","borderBottomWidth","paddingBottom","borderLeftWidth","paddingLeft","borderRightWidth","paddingRight","getSizeName","getAvailableSize","availableSize","scrollTopMax","scrollLeftMax","getCurrentListSize","currentListSize","event","_this4","stopPropagation","preventDefault","maxPos","maxScrollPos","offset","scrollBy","stopScroll","clearInterval","scrollInterval","setState","count","_this5","listSize","assign","hasScroll","onHasScrollChange","_this6","eventName","mouseUpListener","removeEventListener","addEventListener","setInterval","doScroll","scrollSpeed","_ref2","scrollTop","scrollLeft","skip","mouseOverScrollInterval","mouseoverScrollSpeed","_ref3","_ref4","scrollIntoView","rootNode","rect","getBoundingClientRect","mainRect","startSideName","endSideName","startDiff","endDiff","scrollIntoViewOffset","step","_this7","_ref5","newScrollPos","scrollStep","_this8","_ref6","Component","emptyFn","defaultProps","scrollSpringConfig","stiffness","damping","IS_IE","oneOfType","number","shape","string","bool","oneOf","func","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _isMobile = _interopRequireDefault(require(\"../../../common/isMobile\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nvar _debounce = _interopRequireDefault(require(\"../../../common/debounce\"));\n\nvar _join = _interopRequireDefault(require(\"../../../packages/join\"));\n\nvar _Flex = require(\"../../Flex\");\n\nvar _NotifyResize = require(\"../../NotifyResize\");\n\nvar _InertialScroller = require(\"../../InertialScroller\");\n\nvar _ua = require(\"../../../common/ua\");\n\nvar _reactScrollContainerPro = _interopRequireDefault(require(\"../../../packages/react-scroll-container-pro\"));\n\nvar _Arrow = _interopRequireDefault(require(\"./Arrow\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar VIEW_STYLE_VERTICAL = {\n  maxHeight: '100%'\n};\nvar VIEW_STYLE_HORIZONTAL = {\n  maxWidth: '100%'\n};\n\nvar observe = function observe(targetNode, callback, cfg) {\n  var config = cfg || {\n    attributes: false,\n    childList: true,\n    subtree: true\n  };\n  var observer = new MutationObserver(callback);\n  observer.observe(targetNode, config);\n  return function () {\n    observer.disconnect();\n  };\n};\n\nvar measureScrollSize = function measureScrollSize(node) {\n  return {\n    width: node.scrollWidth,\n    height: node.scrollHeight\n  };\n};\n\nvar scrollerResizerProps = {\n  useNativeIfAvailable: false,\n  measureSize: measureScrollSize\n};\n\nvar callAll = function callAll() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    fns.forEach(function (fn) {\n      fn && fn.apply(void 0, args);\n    });\n  };\n};\n\nvar pint = global.parseInt;\nvar raf = global.requestAnimationFrame;\nvar getCompStyle = global.getComputedStyle;\n\nvar NO_SCROLLBARS = function NO_SCROLLBARS() {\n  return false;\n};\n\nvar InovuaArrowScroller = function (_Component) {\n  (0, _inherits2.default)(InovuaArrowScroller, _Component);\n\n  var _super = _createSuper(InovuaArrowScroller);\n\n  function InovuaArrowScroller(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaArrowScroller);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getScrollerNodeClientSize\", function (node) {\n      var result = {\n        width: node.firstChild.offsetWidth,\n        height: node.firstChild.offsetHeight\n      };\n      return result;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollContainerDidMount\", function (scrollContainer, domNode, notifyResizer) {\n      _this._unobserve = observe(domNode, function () {\n        if (notifyResizer && notifyResizer.checkResize) {\n          notifyResizer.checkResize();\n        }\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onScrollContainerWillUnmount\", function () {\n      if (_this._unobserve) {\n        _this._unobserve();\n      }\n    });\n    _this.scrollInfo = {\n      scrollPos: 0,\n      hasStartScroll: false,\n      hasEndScroll: false,\n      scrollerSize: {\n        start: 0,\n        end: 0\n      }\n    };\n    _this.state = {\n      scrolling: false,\n      activeScroll: 0\n    };\n    _this.handleResize = (0, _debounce.default)(_this.handleResize.bind((0, _assertThisInitialized2.default)(_this)), 50, {\n      leading: false,\n      trailing: true\n    });\n    _this.updateScrollInfo = _this.updateScrollInfo.bind((0, _assertThisInitialized2.default)(_this));\n    _this.rafUpdateScrollInfo = _this.rafUpdateScrollInfo.bind((0, _assertThisInitialized2.default)(_this));\n    _this.onContainerScroll = _this.onContainerScroll.bind((0, _assertThisInitialized2.default)(_this));\n    _this.strip = (0, _react.createRef)();\n\n    _this.refScrollContainer = function (scrollContainer) {\n      _this.scrollerTarget = scrollContainer;\n    };\n\n    _this.setRootRef = function (ref) {\n      _this.root = ref;\n\n      if (!_this.props.nativeScroll) {\n        _this.scrollerTarget = _this.root;\n      }\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaArrowScroller, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      raf(function () {\n        var name = _this2.getOffsetSizeName();\n\n        _this2.scrollInfo.scrollerSize = {\n          start: _this2.props.scroller === (true || 'auto') ? _this2.start[name] : null,\n          end: _this2.props.scroller === (true || 'auto') ? _this2.end[name] : null\n        };\n\n        _this2.syncScroll({\n          force: true\n        });\n\n        _this2.componentIsMounted = true;\n        _this2.inertialManager = new _InertialScroller.InertialManager({\n          arrowSelector: \".\".concat(_this2.props.rootClassName, \"__arrow\"),\n          node: _this2.root,\n          viewNode: _this2.strip.current,\n          setScrollPosition: function setScrollPosition() {\n            return raf(function () {\n              return _this2.setScrollPosition();\n            });\n          },\n          enableMouseDrag: false\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n\n      if (this.inertialManager) {\n        this.inertialManager.removeEventListeners();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var useTransformOnScroll = props.useTransformOnScroll,\n          nativeScroll = props.nativeScroll,\n          vertical = props.vertical,\n          rootClassName = props.rootClassName,\n          rtl = props.rtl,\n          theme = props.theme;\n      var scrollInfo = this.scrollInfo;\n      var scrollValue = rtl ? scrollInfo.scrollPos : -scrollInfo.scrollPos;\n      var innerWrapperClassName = (0, _join.default)(\"\".concat(rootClassName, \"__inner-wrapper\"), \"\".concat(rootClassName, \"__inner-wrapper--direction-\").concat(vertical ? 'column' : 'row'));\n      var className = (0, _join.default)(props.className, rootClassName, !vertical && \"\".concat(rootClassName, \"--direction-horizontal\"), vertical && \"\".concat(rootClassName, \"--direction-vertical\"), rtl && \"\".concat(rootClassName, \"--rtl\"), nativeScroll && \"\".concat(rootClassName, \"--native-scroll\"), theme && \"\".concat(rootClassName, \"--theme-\").concat(theme));\n      var transformValue;\n      var moveStyle = {};\n\n      if (useTransformOnScroll) {\n        moveStyle.transform = 'translate3d(0px, 0px, 0px)';\n      }\n\n      if (vertical) {\n        if (useTransformOnScroll) {\n          moveStyle.transform = \"translate3d(0px, \".concat(scrollValue, \"px, 0px)\");\n        } else {\n          moveStyle.top = scrollValue;\n        }\n      } else {\n        if (useTransformOnScroll) {\n          moveStyle.transform = \"translate3d(\".concat(scrollValue, \"px, 0px, 0px)\");\n        } else {\n          moveStyle.left = scrollValue;\n        }\n      }\n\n      var resizer = _react.default.createElement(_NotifyResize.NotifyResize, {\n        key: \"resizer\",\n        notifyOnMount: true,\n        onResize: this.handleResize,\n        notifyResizeDelay: props.notifyResizeDelay\n      });\n\n      var children = [].concat((0, _toConsumableArray2.default)(_react.default.Children.toArray(props.children)), [resizer]);\n\n      var content = _react.default.createElement(_Flex.Flex, (0, _extends2.default)({\n        key: \"content\",\n        wrap: false\n      }, props.childProps, {\n        className: innerWrapperClassName,\n        ref: this.strip,\n        children: children,\n        style: nativeScroll ? null : moveStyle\n      }));\n\n      var finalChildren = [resizer, content, this.renderScroller(-1), this.renderScroller(1)];\n\n      if (nativeScroll) {\n        var scrollContainerProps = this.props.scrollContainerProps;\n        var viewStyle = vertical ? VIEW_STYLE_VERTICAL : VIEW_STYLE_HORIZONTAL;\n\n        if (scrollContainerProps && scrollContainerProps.viewStyle) {\n          viewStyle = _objectSpread(_objectSpread({}, scrollContainerProps.viewStyle), viewStyle);\n        }\n\n        var style = {\n          maxHeight: '100%'\n        };\n        var scrollerStyle;\n\n        if (this.props.rtl) {\n          viewStyle.direction = 'rtl';\n          viewStyle.maxWidth = '';\n          style.alignItems = 'flex-end';\n          style.maxWidth = '100%';\n          scrollerStyle = {\n            alignItems: 'flex-end'\n          };\n        }\n\n        var prevChildren = finalChildren;\n        finalChildren = _react.default.createElement(_reactScrollContainerPro.default, {\n          applyCSSContainOnScroll: false,\n          style: style,\n          scrollerStyle: scrollerStyle,\n          emptyScrollOffset: 20,\n          getScrollerNodeClientSize: this.props.rtl ? this.getScrollerNodeClientSize : null,\n          className: \"\".concat(this.props.rootClassName, \"__scroll-container\"),\n          shouldAllowScrollbars: NO_SCROLLBARS,\n          dragToScroll: false,\n          nativeScroll: scrollContainerProps ? scrollContainerProps.nativeScroll !== undefined ? scrollContainerProps.nativeScroll : false : false,\n          viewStyle: viewStyle,\n          ref: this.refScrollContainer,\n          scrollerResizerProps: scrollerResizerProps,\n          onDidMount: this.onScrollContainerDidMount,\n          onWillUnmount: this.onScrollContainerWillUnmount,\n          onResize: scrollContainerProps && scrollContainerProps.onResize ? callAll(scrollContainerProps.onResize, this.rafUpdateScrollInfo) : this.rafUpdateScrollInfo,\n          children: prevChildren,\n          onContainerScroll: this.onContainerScroll,\n          theme: props.theme\n        });\n\n        if (this.props.rtl) {\n          finalChildren = [finalChildren, resizer];\n        }\n      }\n\n      return _react.default.createElement(_Flex.Flex, (0, _extends2.default)({}, (0, _cleanProps.default)(props, InovuaArrowScroller.propTypes), {\n        ref: this.setRootRef,\n        className: className,\n        alignItems: \"start\",\n        children: finalChildren\n      }));\n    }\n  }, {\n    key: \"renderScroller\",\n    value: function renderScroller(direction) {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          scroller = _this$props.scroller,\n          vertical = _this$props.vertical,\n          rootClassName = _this$props.rootClassName,\n          nativeScroll = _this$props.nativeScroll;\n\n      if (!scroller) {\n        return null;\n      }\n\n      var arrowName = vertical ? direction == (this.props.rtl ? 1 : -1) ? 'up' : 'down' : direction == (this.props.rtl ? 1 : -1) ? 'left' : 'right';\n      var scrollInfo = this.scrollInfo;\n      var disabled = direction == -1 ? !scrollInfo.hasStartScroll : !scrollInfo.hasEndScroll;\n      var arrowRootClassName = \"\".concat(rootClassName, \"__arrow\");\n      var className = (0, _join.default)(arrowRootClassName, \"\".concat(arrowRootClassName, \"--auto\"), \"\".concat(arrowRootClassName, \"--direction-\").concat(arrowName), this.state.activeScroll == direction && \"\".concat(arrowRootClassName, \"--active\"), scroller === 'auto' && disabled && \"\".concat(arrowRootClassName, \"--hidden\"), scroller === 'auto' && !disabled && \"\".concat(arrowRootClassName, \"--visible\"), scroller === true && disabled && \"\".concat(arrowRootClassName, \"--disabled\"), nativeScroll && \"\".concat(arrowRootClassName, \"--native-scroll\"));\n      var onClick = !disabled && this.props.scrollOnClick ? this.handleClick.bind(this, direction) : null;\n      var onMouseDown = !disabled && (!this.props.scrollOnClick || _isMobile.default) ? this.startScroll.bind(this, direction) : null;\n      var onMouseEnter = !disabled && this.props.scrollOnMouseEnter ? this.startMouseOverScroll.bind(this, direction) : null;\n      var onMouseLeave = !this.props.scrollOnClick || _isMobile.default || this.props.scrollOnMouseEnter ? this.stopMouseOverScroll.bind(this, direction) : null;\n      var onDoubleClick = !disabled ? this.handleScrollMax.bind(this, direction) : null;\n      var scrollerName = direction == -1 ? 'start' : 'end';\n      var domProps = {\n        ref: function ref(_ref) {\n          _this3[scrollerName] = _ref;\n        },\n        key: \"scroller-\".concat(direction),\n        disabled: disabled,\n        className: className,\n        onClick: onClick,\n        onDoubleClick: onDoubleClick,\n        onMouseDown: !_isMobile.default ? onMouseDown : null,\n        onTouchStart: _isMobile.default ? onMouseDown : null,\n        onTouchEnd: _isMobile.default ? onMouseLeave : null,\n        onMouseEnter: !_isMobile.default ? onMouseEnter : null,\n        onMouseLeave: !_isMobile.default ? onMouseLeave : null,\n        children: this.renderArrowIcon(arrowName)\n      };\n      var result;\n\n      if (typeof this.props.renderScroller === 'function') {\n        result = this.props.renderScroller({\n          domProps: domProps,\n          direction: direction\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"div\", domProps);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"renderArrowIcon\",\n    value: function renderArrowIcon(name) {\n      var props = this.props;\n      return _react.default.createElement(_Arrow.default, {\n        name: name,\n        size: props.arrowSize,\n        height: props.arrowHeight,\n        width: props.arrowWidth,\n        className: \"\".concat(this.props.rootClassName, \"__arrow-icon\")\n      });\n    }\n  }, {\n    key: \"getOffsetSizeName\",\n    value: function getOffsetSizeName() {\n      return this.props.vertical ? 'offsetHeight' : 'offsetWidth';\n    }\n  }, {\n    key: \"getBorderAndPaddingSize\",\n    value: function getBorderAndPaddingSize() {\n      var node = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root;\n      var side = arguments.length > 1 ? arguments[1] : undefined;\n      var computedStyle = getCompStyle(node);\n      var start;\n      var end;\n\n      if (this.props.vertical) {\n        start = pint(computedStyle.borderTopWidth) + pint(computedStyle.paddingTop);\n        end = pint(computedStyle.borderBottomWidth) + pint(computedStyle.paddingBottom);\n        return start + end;\n      } else {\n        start = pint(computedStyle.borderLeftWidth) + pint(computedStyle.paddingLeft);\n        end = pint(computedStyle.borderRightWidth) + pint(computedStyle.paddingRight);\n      }\n\n      return side ? side == 'start' ? start : end : start + end;\n    }\n  }, {\n    key: \"getSizeName\",\n    value: function getSizeName() {\n      return this.props.vertical ? 'height' : 'width';\n    }\n  }, {\n    key: \"getAvailableSize\",\n    value: function getAvailableSize() {\n      if (!this.root) {\n        return null;\n      }\n\n      var size = this.availableSize || (this.props.nativeScroll ? this.props.vertical ? this.scrollerTarget.scrollTopMax : this.scrollerTarget.scrollLeftMax : this.root[this.getOffsetSizeName()] - this.getBorderAndPaddingSize());\n\n      if (this.props.rtl && size < 0) {\n        size = -size;\n      }\n\n      this.availableSize = size;\n      return size;\n    }\n  }, {\n    key: \"getCurrentListSize\",\n    value: function getCurrentListSize() {\n      if (!this.strip.current) {\n        return null;\n      }\n\n      return this.currentListSize = this.currentListSize || this.strip.current[this.getOffsetSizeName()];\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize() {\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      delete this.currentListSize;\n      delete this.availableSize;\n      this.syncScroll({\n        force: true\n      });\n    }\n  }, {\n    key: \"handleScrollMax\",\n    value: function handleScrollMax(direction, event) {\n      var _this4 = this;\n\n      event.stopPropagation();\n      event.preventDefault();\n      var maxPos = direction == -1 ? 0 : this.scrollInfo.maxScrollPos;\n      raf(function () {\n        _this4.setScrollPosition(maxPos);\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(direction) {\n      var offset = this.getAvailableSize();\n      this.scrollBy(offset, direction);\n    }\n  }, {\n    key: \"stopScroll\",\n    value: function stopScroll() {\n      global.clearInterval(this.scrollInterval);\n      this.setState({\n        scrolling: false,\n        activeScroll: 0\n      });\n    }\n  }, {\n    key: \"rafUpdateScrollInfo\",\n    value: function rafUpdateScrollInfo() {\n      raf(this.updateScrollInfo);\n    }\n  }, {\n    key: \"updateScrollInfo\",\n    value: function updateScrollInfo(count) {\n      var _this5 = this;\n\n      if (this.componentIsMounted === false) {\n        return;\n      }\n\n      var availableSize = this.getAvailableSize();\n\n      if (!availableSize) {\n        if (!count || count < 5) {\n          raf(function () {\n            _this5.updateScrollInfo((count || 0) + 1);\n          });\n          return;\n        }\n      }\n\n      var listSize = this.getCurrentListSize();\n      var scrollInfo = Object.assign(this.scrollInfo, {\n        availableSize: availableSize,\n        listSize: listSize\n      });\n\n      if (this.props.nativeScroll) {\n        if (this.scrollerTarget) {\n          scrollInfo.maxScrollPos = this.props.vertical ? this.scrollerTarget.scrollTopMax : this.scrollerTarget.scrollLeftMax;\n        }\n      } else {\n        if (listSize > availableSize) {\n          scrollInfo.maxScrollPos = listSize - availableSize;\n        } else {\n          scrollInfo.maxScrollPos = 0;\n        }\n      }\n\n      if (this.props.rtl && scrollInfo.maxScrollPos < 0) {\n        scrollInfo.maxScrollPos = -scrollInfo.maxScrollPos;\n      }\n\n      scrollInfo.hasStartScroll = scrollInfo.scrollPos != 0;\n      scrollInfo.hasEndScroll = scrollInfo.scrollPos < scrollInfo.maxScrollPos;\n      var hasScroll = listSize > availableSize;\n\n      if (hasScroll !== this.state.hasScroll) {\n        this.props.onHasScrollChange(hasScroll);\n      }\n\n      this.setState({\n        hasScroll: hasScroll\n      });\n    }\n  }, {\n    key: \"startScroll\",\n    value: function startScroll(direction, event) {\n      var _this6 = this;\n\n      var eventName = _isMobile.default ? 'touchend' : 'mouseup';\n      event.preventDefault();\n\n      var mouseUpListener = function mouseUpListener() {\n        _this6.stopScroll();\n\n        global.removeEventListener(eventName, mouseUpListener);\n      };\n\n      global.addEventListener(eventName, mouseUpListener);\n      this.scrollInterval = global.setInterval(this.doScroll.bind(this, direction), this.props.scrollSpeed);\n      this.setState({\n        scrolling: true,\n        activeScroll: direction\n      });\n    }\n  }, {\n    key: \"onContainerScroll\",\n    value: function onContainerScroll(_ref2) {\n      var scrollTop = _ref2.scrollTop,\n          scrollLeft = _ref2.scrollLeft;\n      this.setScrollPosition(this.props.vertical ? scrollTop : scrollLeft, {\n        skip: true\n      });\n    }\n  }, {\n    key: \"startMouseOverScroll\",\n    value: function startMouseOverScroll(direction, event) {\n      event.preventDefault();\n      global.clearInterval(this.mouseOverScrollInterval);\n      this.mouseOverScrollInterval = global.setInterval(this.doScroll.bind(this, direction), this.props.mouseoverScrollSpeed);\n      this.setState({\n        scrolling: true,\n        activeScroll: direction\n      });\n    }\n  }, {\n    key: \"stopMouseOverScroll\",\n    value: function stopMouseOverScroll() {\n      this.stopScroll();\n      global.clearInterval(this.mouseOverScrollInterval);\n    }\n  }, {\n    key: \"setScrollPosition\",\n    value: function setScrollPosition(scrollPos) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          force = _ref3.force,\n          skip = _ref3.skip;\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      var scrollInfo = this.scrollInfo;\n\n      if (scrollPos > scrollInfo.maxScrollPos) {\n        scrollPos = scrollInfo.maxScrollPos;\n      }\n\n      if (scrollPos < 0) {\n        scrollPos = 0;\n      }\n\n      if (scrollPos === scrollInfo.scrollPos && force !== true) {\n        return null;\n      }\n\n      Object.assign(scrollInfo, {\n        hasStartScroll: scrollPos !== 0,\n        hasEndScroll: scrollPos < scrollInfo.maxScrollPos,\n        scrollPos: scrollPos\n      });\n\n      if (!skip && this.props.nativeScroll && this.scrollerTarget) {\n        if (this.props.vertical) {\n          this.scrollerTarget.scrollTop = scrollPos;\n        } else {\n          this.scrollerTarget.scrollLeft = scrollPos;\n        }\n      }\n\n      this.setState({});\n    }\n  }, {\n    key: \"syncScroll\",\n    value: function syncScroll() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          force = _ref4.force;\n\n      this.updateScrollInfo();\n      this.doScroll(0, null, {\n        force: force\n      });\n    }\n  }, {\n    key: \"scrollIntoView\",\n    value: function scrollIntoView(domNode) {\n      var rootNode = this.root;\n\n      if (!domNode || !rootNode) {\n        return;\n      }\n\n      var rect = domNode.getBoundingClientRect();\n      var mainRect = rootNode.getBoundingClientRect();\n      var vertical = this.props.vertical;\n      var startSideName = vertical ? 'top' : 'left';\n      var endSideName = vertical ? 'bottom' : 'right';\n      var startDiff = rect[startSideName] - (mainRect[startSideName] + this.getBorderAndPaddingSize(undefined, 'start'));\n      var endDiff = rect[endSideName] - (mainRect[endSideName] - this.getBorderAndPaddingSize(undefined, 'end'));\n      var scrollIntoViewOffset = this.props.scrollIntoViewOffset;\n\n      if (startDiff < 0) {\n        this.doScroll(-startDiff + scrollIntoViewOffset, -1);\n      } else if (endDiff > 0) {\n        this.doScroll(endDiff + scrollIntoViewOffset, 1);\n      }\n    }\n  }, {\n    key: \"doScroll\",\n    value: function doScroll(direction, step) {\n      var _this7 = this;\n\n      var _ref5 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          force = _ref5.force;\n\n      var scrollInfo = this.scrollInfo;\n      var newScrollPos = scrollInfo.scrollPos + direction * (step || this.props.scrollStep);\n      raf(function () {\n        _this7.setScrollPosition(newScrollPos, {\n          force: force\n        });\n      });\n    }\n  }, {\n    key: \"scrollBy\",\n    value: function scrollBy(offset, direction) {\n      var _this8 = this;\n\n      var _ref6 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          force = _ref6.force;\n\n      var scrollInfo = this.scrollInfo;\n      var newScrollPos = scrollInfo.scrollPos + direction * offset;\n      raf(function () {\n        _this8.setScrollPosition(newScrollPos, {\n          force: force\n        });\n      });\n    }\n  }]);\n  return InovuaArrowScroller;\n}(_react.Component);\n\nvar emptyFn = function emptyFn() {};\n\nInovuaArrowScroller.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-arrow-scroller',\n  scroller: 'auto',\n  scrollStep: 15,\n  mouseoverScrollSpeed: 40,\n  scrollSpeed: 10,\n  scrollSpringConfig: {\n    stiffness: 370,\n    damping: 60\n  },\n  scrollIntoViewOffset: 1,\n  vertical: false,\n  scrollOnClick: false,\n  nativeScroll: !_ua.IS_IE,\n  scrollOnMouseEnter: true,\n  rtl: false,\n  useTransformOnScroll: false,\n  onHasScrollChange: emptyFn,\n  theme: 'default-light'\n};\nInovuaArrowScroller.propTypes = {\n  arrowSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    width: _propTypes.default.number,\n    height: _propTypes.default.number\n  })]),\n  theme: _propTypes.default.string,\n  scrollOnClick: _propTypes.default.bool,\n  childProps: _propTypes.default.object,\n  scrollOnMouseEnter: _propTypes.default.bool,\n  vertical: _propTypes.default.bool,\n  notifyResizeDelay: _propTypes.default.number,\n  scrollStep: _propTypes.default.number,\n  scrollSpeed: _propTypes.default.number,\n  mouseoverScrollSpeed: _propTypes.default.number,\n  scrollSpringConfig: _propTypes.default.shape({\n    stiffness: _propTypes.default.number,\n    damping: _propTypes.default.number\n  }),\n  nativeScroll: _propTypes.default.bool,\n  scrollIntoViewOffset: _propTypes.default.number,\n  scroller: _propTypes.default.oneOf(['auto', false, true]),\n  rootClassName: _propTypes.default.string,\n  rtl: _propTypes.default.bool,\n  scrollContainerProps: _propTypes.default.object,\n  useTransformOnScroll: _propTypes.default.bool,\n  onHasScrollChange: _propTypes.default.func,\n  renderScroller: _propTypes.default.func\n};\nvar _default = InovuaArrowScroller;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}