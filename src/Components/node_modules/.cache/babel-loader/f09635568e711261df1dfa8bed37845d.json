{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactClass = _interopRequireDefault(require(\"../../../../packages/react-class\"));\n\nvar _MenuItemCell = _interopRequireDefault(require(\"./MenuItemCell\"));\n\nvar _Expander = _interopRequireDefault(require(\"../Expander\"));\n\nvar _renderCell = _interopRequireDefault(require(\"./renderCell\"));\n\nvar _CheckBox = _interopRequireDefault(require(\"../../../CheckBox\"));\n\nvar _RadioButton = _interopRequireDefault(require(\"../../../RadioButton\"));\n\nvar _assign = _interopRequireDefault(require(\"../../../../common/assign\"));\n\nvar _join = _interopRequireDefault(require(\"../../../../common/join\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../../common/cleanProps\"));\n\nvar _getRegionRelativeToParent = _interopRequireDefault(require(\"../getRegionRelativeToParent\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar emptyFn = function emptyFn() {};\n\nvar MenuItem = function (_Component) {\n  (0, _inherits2.default)(MenuItem, _Component);\n\n  var _super = _createSuper(MenuItem);\n\n  function MenuItem(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MenuItem);\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n\n  (0, _createClass2.default)(MenuItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = this.preparedProps = this.prepareProps(this.props, this.state);\n      var className = props.className;\n      return _react.default.createElement(\"tr\", (0, _extends2.default)({}, (0, _cleanProps.default)(props, MenuItem.propTypes), {\n        style: props.style,\n        className: className,\n        ref: function ref(node) {\n          return _this2.node = node;\n        }\n      }), this.renderCells());\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps() {}\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.componentIsMounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n    }\n  }, {\n    key: \"prepareProps\",\n    value: function prepareProps(props, state) {\n      var preparedProps = _objectSpread(_objectSpread({}, props), {}, {\n        mouseOver: !!state.mouseOver,\n        active: !!state.active,\n        disabled: !!props.disabled,\n        className: this.getClassName(),\n        style: this.getStyle(),\n        onClick: this.handleClick,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        onMouseDown: this.handleMouseDown,\n        onTouchStart: this.handleTouchStart\n      });\n\n      if (props.item.isTitle) {\n        delete preparedProps.mouseOver;\n        delete preparedProps.active;\n        delete preparedProps.onClick;\n        delete preparedProps.onMouseEnter;\n        delete preparedProps.onMouseLeave;\n        delete preparedProps.onMouseDown;\n        delete preparedProps.onTouchStart;\n      }\n\n      return preparedProps;\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      var props = this.props;\n\n      if (props.disabled && event.stopPropagation) {\n        event.stopPropagation();\n        return;\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(event, props, props.index);\n      }\n\n      if (this.props.item.onClick) {\n        this.props.item.onClick(event, props, props.index);\n      }\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown() {\n      var _this3 = this;\n\n      var mouseUpListener = function mouseUpListener() {\n        if (_this3.componentIsMounted) {\n          _this3.setState({\n            active: false\n          });\n        }\n\n        global.removeEventListener('mouseup', mouseUpListener);\n      };\n\n      global.addEventListener('mouseup', mouseUpListener);\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: true\n        });\n      }\n    }\n  }, {\n    key: \"handleTouchStart\",\n    value: function handleTouchStart(event) {\n      var _this4 = this;\n\n      var props = this.props;\n\n      var mouseUpListener = function mouseUpListener() {\n        if (_this4.componentIsMounted) {\n          _this4.setState({\n            active: false\n          });\n        }\n\n        global.removeEventListener('touchend', mouseUpListener);\n      };\n\n      global.addEventListener('touchend', mouseUpListener);\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: true\n        });\n      }\n\n      if (!this.props.item.items) {\n        return;\n      }\n\n      if (this.state.mouseOver) {\n        this.handleMouseLeave(event);\n      } else {\n        this.handleMouseEnter(event);\n      }\n    }\n  }, {\n    key: \"showMenu\",\n    value: function showMenu(menu, props) {\n      props.showMenu(menu, this.getOffset());\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter(event) {\n      var props = this.props;\n\n      if (props.disabled) {\n        return;\n      }\n\n      this.mouseInside = true;\n      this.setState({\n        mouseOver: true\n      });\n\n      if (props.onMouseOver) {\n        var menuOffset;\n\n        if (props.hasSubMenu) {\n          menuOffset = this.getOffset();\n        }\n\n        props.onMouseOver({\n          event: event,\n          menuOffset: menuOffset,\n          itemProps: props,\n          index: props.index,\n          hasSubMenu: props.hasSubMenu\n        });\n      }\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave(event) {\n      var props = this.props;\n\n      if (props.disabled) {\n        return;\n      }\n\n      var offset = {\n        x: event.clientX,\n        y: event.clientY\n      };\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: false,\n          mouseOver: false\n        });\n      }\n\n      if (props.onMouseOut) {\n        props.onMouseOut({\n          itemPorps: props,\n          leaveOffset: offset,\n          index: props.index,\n          hasSubMenu: props.hasSubMenu\n        });\n      }\n    }\n  }, {\n    key: \"renderCells\",\n    value: function renderCells() {\n      var props = this.props;\n      var cells = props.columns.map(function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _renderCell.default.apply(void 0, [props].concat(args));\n      });\n\n      if (props.enableSelection && props.name) {\n        var input = this.renderSelectInput();\n\n        if (this.props.selectionInputPosition === 'end') {\n          cells.push(input);\n        } else {\n          cells.unshift(input);\n        }\n      }\n\n      if (props.hasSubMenu) {\n        var expander = this.renderExpander();\n        cells.push(expander);\n      }\n\n      return cells;\n    }\n  }, {\n    key: \"getCommonCellProps\",\n    value: function getCommonCellProps() {\n      var props = this.props;\n      return {\n        rootClassName: props.rootClassName,\n        rtl: props.rtl\n      };\n    }\n  }, {\n    key: \"renderSelectInput\",\n    value: function renderSelectInput() {\n      var _this5 = this;\n\n      var props = this.props;\n      var multiple = props.multiple;\n      var className = (0, _join.default)(\"\".concat(props.rootClassName, \"__cell__input\"), props.browserNativeSelectInputs && \"\".concat(props.rootClassName, \"__cell__input--browser-native\"), multiple && \"\".concat(props.rootClassName, \"__cell__input--multiple\"));\n\n      var onChange = function onChange(checked) {\n        if (checked === undefined) {\n          checked = !props.checked;\n        }\n\n        if (typeof checked !== 'boolean' && _this5.props.showWarnings) {\n          console.warn('\"onChange\" should be called with a boolean param!');\n        }\n\n        props.onSelectChange({\n          name: props.name,\n          value: props.value,\n          multiple: multiple,\n          checked: checked\n        });\n      };\n\n      var inputProps = {\n        className: className,\n        onChange: props.selectOnClick ? emptyFn : onChange,\n        iconSize: multiple ? props.checkIconSize : props.radioIconSize,\n        name: props.name,\n        disabled: props.disabled,\n        checked: props.checked,\n        focusable: false,\n        supportIndeterminate: false,\n        browserNative: props.browserNativeSelectInputs,\n        theme: props.theme\n      };\n\n      var cellProps = _objectSpread({\n        key: 'select'\n      }, this.getCommonCellProps());\n\n      cellProps.className = (0, _join.default)(cellProps.className, \"\".concat(props.rootClassName, \"__cell--has-input\"), props.multiple && \"\".concat(props.rootClassName, \"__cell--checkbox\"), !props.multiple && \"\".concat(props.rootClassName, \"__cell--radio\"));\n      var Input = multiple ? _CheckBox.default : _RadioButton.default;\n      var renderFunction = multiple ? this.props.renderCheckInput : this.props.renderRadioInput;\n      var result;\n\n      if (typeof renderFunction === 'function') {\n        result = renderFunction({\n          domProps: inputProps,\n          onChange: onChange,\n          disabled: props.disabled,\n          checked: props.checked\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(Input, inputProps);\n      }\n\n      return _react.default.createElement(_MenuItemCell.default, cellProps, result);\n    }\n  }, {\n    key: \"renderExpander\",\n    value: function renderExpander() {\n      var props = this.props;\n      var expander = props.expander;\n\n      if (props.item && props.item.expander !== undefined) {\n        expander = props.item.expander;\n      }\n\n      var style = _objectSpread(_objectSpread({}, props.expanderStyle), props.item && props.item.expanderStyle);\n\n      var expanderProps = _objectSpread({\n        style: style,\n        size: props.expanderSize,\n        onClick: props.onExpanderClick\n      }, this.getCommonCellProps());\n\n      if (typeof expander === 'function') {\n        expander = expander(expanderProps, props.item);\n      }\n\n      if (expander === undefined || expander === true) {\n        expander = _react.default.createElement(_Expander.default, expanderProps);\n      }\n\n      return _react.default.createElement(_MenuItemCell.default, (0, _extends2.default)({\n        key: \"expander\",\n        className: \"\".concat(props.rootClassName, \"__cell--has-expander\"),\n        expander: expander\n      }, expanderProps));\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle() {\n      var props = this.props,\n          state = this.state;\n      var style = (0, _assign.default)({}, props.style, props.item.style);\n\n      if (props.item.isTitle && props.titleStyle) {\n        (0, _assign.default)(style, props.titleStyle, props.item.titleStyle);\n      }\n\n      if (state.mouseOver) {\n        (0, _assign.default)(style, props.itemOverStyle, props.overStyle, props.item.overStyle);\n      }\n\n      if (state.active) {\n        (0, _assign.default)(style, props.itemActiveStyle, props.activeStyle, props.item.activeStyle);\n      }\n\n      if (props.expanded) {\n        (0, _assign.default)(style, props.expandedStyle, props.item.expandedStyle);\n      }\n\n      if (props.focused) {\n        (0, _assign.default)(style, props.focusedStyle, props.item.focusedStyle);\n      }\n\n      if (props.focused && state.mouseOver) {\n        (0, _assign.default)(style, props.overFocusedStyle, props.item.overFocusedStyle);\n      }\n\n      if (props.height) {\n        (0, _assign.default)(style, {\n          height: props.height\n        });\n      }\n\n      if (props.disabled) {\n        (0, _assign.default)(style, props.itemDisabledStyle, props.disabledStyle, props.item.disabledStyle);\n      }\n\n      return style;\n    }\n  }, {\n    key: \"getClassName\",\n    value: function getClassName() {\n      var props = this.props,\n          state = this.state;\n      var baseClassName = \"\".concat(props.rootClassName, \"__row\");\n      var className = (0, _join.default)(props.className, props.item.className, baseClassName, state.mouseOver && \"\".concat(baseClassName, \"--over\"), state.mouseOver && props.item.overClassName, state.mouseOver && props.overClassName, state.active && \"\".concat(baseClassName, \"--active\"), state.active && props.item.activeClassName, state.active && props.activeClassName, props.expanded && \"\".concat(baseClassName, \"--expanded\"), props.expanded && props.item.expandedClassName, props.expanded && props.expandedClassName, props.focused && \"\".concat(baseClassName, \"--focused\"), props.focused && props.item.focusedClassName, props.focused && props.focusedClassName, props.item.isTitle && \"\".concat(baseClassName, \"--title\"), props.checked && \"\".concat(baseClassName, \"--checked\"));\n\n      if (props.disabled) {\n        className = (0, _join.default)(props.className, baseClassName, props.disabled && \"\".concat(baseClassName, \"--disabled\"), props.disabled && props.itemDisabledClassName, props.disabled && props.item.disabledClassName);\n      }\n\n      return className;\n    }\n  }, {\n    key: \"getOffset\",\n    value: function getOffset() {\n      return (0, _getRegionRelativeToParent.default)(this.node, this.props.rootClassName);\n    }\n  }, {\n    key: \"getPreparedProps\",\n    value: function getPreparedProps() {\n      return this.preparedProps;\n    }\n  }, {\n    key: \"hasSubmenu\",\n    value: function hasSubmenu() {\n      return !!this.props.hasSubMenu;\n    }\n  }, {\n    key: \"getDOMNode\",\n    value: function getDOMNode() {\n      return this.node;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var props = this.props;\n      return props.item[props.valueProperty];\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      var props = this.props;\n      return props.item[props.valueProperty];\n    }\n  }]);\n  return MenuItem;\n}(_reactClass.default);\n\nMenuItem.defaultProps = {\n  isMenuItem: true,\n  item: {},\n  columns: ['label'],\n  enableSelection: false,\n  allowUnselect: false\n};\nMenuItem.propTypes = {\n  rootClassName: _propTypes.default.string,\n  style: _propTypes.default.object,\n  titleStyle: _propTypes.default.object,\n  height: _propTypes.default.number,\n  dismissOnClick: _propTypes.default.bool,\n  siblingItemHasSubMenu: _propTypes.default.bool,\n  overStyle: _propTypes.default.object,\n  overClassName: _propTypes.default.string,\n  activeStyle: _propTypes.default.object,\n  activeClassName: _propTypes.default.string,\n  disabledStyle: _propTypes.default.object,\n  disabledClassName: _propTypes.default.string,\n  expandedStyle: _propTypes.default.object,\n  expandedClassName: _propTypes.default.string,\n  focusedStyle: _propTypes.default.object,\n  focusedClassName: _propTypes.default.string,\n  cellStyle: _propTypes.default.object,\n  expanderStyle: _propTypes.default.object,\n  overFocusedStyle: _propTypes.default.object,\n  columns: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object])),\n  item: _propTypes.default.object,\n  expanded: _propTypes.default.bool,\n  globalCellStyle: _propTypes.default.object,\n  itemDisabledStyle: _propTypes.default.object,\n  itemDisabledClassName: _propTypes.default.string,\n  itemOverStyle: _propTypes.default.object,\n  itemActiveStyle: _propTypes.default.object,\n  menuHasSubmenu: _propTypes.default.bool,\n  hasSubMenu: _propTypes.default.bool,\n  items: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.string])),\n  isMenuItem: _propTypes.default.bool,\n  focused: _propTypes.default.bool,\n  index: _propTypes.default.number,\n  rtl: _propTypes.default.bool,\n  expander: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool, _propTypes.default.func]),\n  expanderSize: _propTypes.default.number,\n  expandedIndex: _propTypes.default.number,\n  onExpanderClick: _propTypes.default.func,\n  closeSubMenu: _propTypes.default.func,\n  closeSubmenuRecursively: _propTypes.default.func,\n  submenuWillUnmount: _propTypes.default.func,\n  onMouseOver: _propTypes.default.func,\n  onMouseOut: _propTypes.default.func,\n  mouseOver: _propTypes.default.bool,\n  active: _propTypes.default.bool,\n  menu: _propTypes.default.node,\n  onSelectChange: _propTypes.default.func,\n  enableSelection: _propTypes.default.bool,\n  allowUnselect: _propTypes.default.bool,\n  selectOnClick: _propTypes.default.bool,\n  name: _propTypes.default.any,\n  value: _propTypes.default.any,\n  renderCheckInput: _propTypes.default.func,\n  renderRadioInput: _propTypes.default.func,\n  selectionInputPosition: _propTypes.default.oneOf(['start', 'end']),\n  checkIconSize: _propTypes.default.number,\n  radioIconSize: _propTypes.default.number,\n  browserNativeSelectInputs: _propTypes.default.bool,\n  showWarnings: _propTypes.default.bool\n};\nvar _default = MenuItem;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/packages/Menu/src/MenuItem/index.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_defineProperty2","_extends2","_classCallCheck2","_createClass2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_react","_propTypes","_reactClass","_MenuItemCell","_Expander","_renderCell","_CheckBox","_RadioButton","_assign","_join","_cleanProps","_getRegionRelativeToParent","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","emptyFn","MenuItem","_Component","_super","props","_this","state","render","_this2","preparedProps","prepareProps","className","createElement","propTypes","style","ref","node","renderCells","UNSAFE_componentWillReceiveProps","componentDidMount","componentIsMounted","componentWillUnmount","mouseOver","active","disabled","getClassName","getStyle","onClick","handleClick","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","onMouseDown","handleMouseDown","onTouchStart","handleTouchStart","item","isTitle","event","stopPropagation","index","_this3","mouseUpListener","setState","global","removeEventListener","addEventListener","_this4","items","showMenu","menu","getOffset","mouseInside","onMouseOver","menuOffset","hasSubMenu","itemProps","offset","x","clientX","y","clientY","onMouseOut","itemPorps","leaveOffset","cells","columns","map","_len","args","Array","_key","concat","enableSelection","name","input","renderSelectInput","selectionInputPosition","unshift","expander","renderExpander","getCommonCellProps","rootClassName","rtl","_this5","multiple","browserNativeSelectInputs","onChange","checked","undefined","showWarnings","console","warn","onSelectChange","inputProps","selectOnClick","iconSize","checkIconSize","radioIconSize","focusable","supportIndeterminate","browserNative","theme","cellProps","Input","renderFunction","renderCheckInput","renderRadioInput","domProps","expanderStyle","expanderProps","size","expanderSize","onExpanderClick","titleStyle","itemOverStyle","overStyle","itemActiveStyle","activeStyle","expanded","expandedStyle","focused","focusedStyle","overFocusedStyle","height","itemDisabledStyle","disabledStyle","baseClassName","overClassName","activeClassName","expandedClassName","focusedClassName","itemDisabledClassName","disabledClassName","getPreparedProps","hasSubmenu","getDOMNode","getValue","valueProperty","getName","defaultProps","isMenuItem","allowUnselect","string","number","dismissOnClick","bool","siblingItemHasSubMenu","cellStyle","arrayOf","oneOfType","globalCellStyle","menuHasSubmenu","func","expandedIndex","closeSubMenu","closeSubmenuRecursively","submenuWillUnmount","any","oneOf","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactClass = _interopRequireDefault(require(\"../../../../packages/react-class\"));\n\nvar _MenuItemCell = _interopRequireDefault(require(\"./MenuItemCell\"));\n\nvar _Expander = _interopRequireDefault(require(\"../Expander\"));\n\nvar _renderCell = _interopRequireDefault(require(\"./renderCell\"));\n\nvar _CheckBox = _interopRequireDefault(require(\"../../../CheckBox\"));\n\nvar _RadioButton = _interopRequireDefault(require(\"../../../RadioButton\"));\n\nvar _assign = _interopRequireDefault(require(\"../../../../common/assign\"));\n\nvar _join = _interopRequireDefault(require(\"../../../../common/join\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../../common/cleanProps\"));\n\nvar _getRegionRelativeToParent = _interopRequireDefault(require(\"../getRegionRelativeToParent\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar emptyFn = function emptyFn() {};\n\nvar MenuItem = function (_Component) {\n  (0, _inherits2.default)(MenuItem, _Component);\n\n  var _super = _createSuper(MenuItem);\n\n  function MenuItem(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MenuItem);\n    _this = _super.call(this, props);\n    _this.state = {};\n    return _this;\n  }\n\n  (0, _createClass2.default)(MenuItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var props = this.preparedProps = this.prepareProps(this.props, this.state);\n      var className = props.className;\n      return _react.default.createElement(\"tr\", (0, _extends2.default)({}, (0, _cleanProps.default)(props, MenuItem.propTypes), {\n        style: props.style,\n        className: className,\n        ref: function ref(node) {\n          return _this2.node = node;\n        }\n      }), this.renderCells());\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps() {}\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.componentIsMounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n    }\n  }, {\n    key: \"prepareProps\",\n    value: function prepareProps(props, state) {\n      var preparedProps = _objectSpread(_objectSpread({}, props), {}, {\n        mouseOver: !!state.mouseOver,\n        active: !!state.active,\n        disabled: !!props.disabled,\n        className: this.getClassName(),\n        style: this.getStyle(),\n        onClick: this.handleClick,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        onMouseDown: this.handleMouseDown,\n        onTouchStart: this.handleTouchStart\n      });\n\n      if (props.item.isTitle) {\n        delete preparedProps.mouseOver;\n        delete preparedProps.active;\n        delete preparedProps.onClick;\n        delete preparedProps.onMouseEnter;\n        delete preparedProps.onMouseLeave;\n        delete preparedProps.onMouseDown;\n        delete preparedProps.onTouchStart;\n      }\n\n      return preparedProps;\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      var props = this.props;\n\n      if (props.disabled && event.stopPropagation) {\n        event.stopPropagation();\n        return;\n      }\n\n      if (this.props.onClick) {\n        this.props.onClick(event, props, props.index);\n      }\n\n      if (this.props.item.onClick) {\n        this.props.item.onClick(event, props, props.index);\n      }\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown() {\n      var _this3 = this;\n\n      var mouseUpListener = function mouseUpListener() {\n        if (_this3.componentIsMounted) {\n          _this3.setState({\n            active: false\n          });\n        }\n\n        global.removeEventListener('mouseup', mouseUpListener);\n      };\n\n      global.addEventListener('mouseup', mouseUpListener);\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: true\n        });\n      }\n    }\n  }, {\n    key: \"handleTouchStart\",\n    value: function handleTouchStart(event) {\n      var _this4 = this;\n\n      var props = this.props;\n\n      var mouseUpListener = function mouseUpListener() {\n        if (_this4.componentIsMounted) {\n          _this4.setState({\n            active: false\n          });\n        }\n\n        global.removeEventListener('touchend', mouseUpListener);\n      };\n\n      global.addEventListener('touchend', mouseUpListener);\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: true\n        });\n      }\n\n      if (!this.props.item.items) {\n        return;\n      }\n\n      if (this.state.mouseOver) {\n        this.handleMouseLeave(event);\n      } else {\n        this.handleMouseEnter(event);\n      }\n    }\n  }, {\n    key: \"showMenu\",\n    value: function showMenu(menu, props) {\n      props.showMenu(menu, this.getOffset());\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter(event) {\n      var props = this.props;\n\n      if (props.disabled) {\n        return;\n      }\n\n      this.mouseInside = true;\n      this.setState({\n        mouseOver: true\n      });\n\n      if (props.onMouseOver) {\n        var menuOffset;\n\n        if (props.hasSubMenu) {\n          menuOffset = this.getOffset();\n        }\n\n        props.onMouseOver({\n          event: event,\n          menuOffset: menuOffset,\n          itemProps: props,\n          index: props.index,\n          hasSubMenu: props.hasSubMenu\n        });\n      }\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave(event) {\n      var props = this.props;\n\n      if (props.disabled) {\n        return;\n      }\n\n      var offset = {\n        x: event.clientX,\n        y: event.clientY\n      };\n\n      if (this.componentIsMounted) {\n        this.setState({\n          active: false,\n          mouseOver: false\n        });\n      }\n\n      if (props.onMouseOut) {\n        props.onMouseOut({\n          itemPorps: props,\n          leaveOffset: offset,\n          index: props.index,\n          hasSubMenu: props.hasSubMenu\n        });\n      }\n    }\n  }, {\n    key: \"renderCells\",\n    value: function renderCells() {\n      var props = this.props;\n      var cells = props.columns.map(function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _renderCell.default.apply(void 0, [props].concat(args));\n      });\n\n      if (props.enableSelection && props.name) {\n        var input = this.renderSelectInput();\n\n        if (this.props.selectionInputPosition === 'end') {\n          cells.push(input);\n        } else {\n          cells.unshift(input);\n        }\n      }\n\n      if (props.hasSubMenu) {\n        var expander = this.renderExpander();\n        cells.push(expander);\n      }\n\n      return cells;\n    }\n  }, {\n    key: \"getCommonCellProps\",\n    value: function getCommonCellProps() {\n      var props = this.props;\n      return {\n        rootClassName: props.rootClassName,\n        rtl: props.rtl\n      };\n    }\n  }, {\n    key: \"renderSelectInput\",\n    value: function renderSelectInput() {\n      var _this5 = this;\n\n      var props = this.props;\n      var multiple = props.multiple;\n      var className = (0, _join.default)(\"\".concat(props.rootClassName, \"__cell__input\"), props.browserNativeSelectInputs && \"\".concat(props.rootClassName, \"__cell__input--browser-native\"), multiple && \"\".concat(props.rootClassName, \"__cell__input--multiple\"));\n\n      var onChange = function onChange(checked) {\n        if (checked === undefined) {\n          checked = !props.checked;\n        }\n\n        if (typeof checked !== 'boolean' && _this5.props.showWarnings) {\n          console.warn('\"onChange\" should be called with a boolean param!');\n        }\n\n        props.onSelectChange({\n          name: props.name,\n          value: props.value,\n          multiple: multiple,\n          checked: checked\n        });\n      };\n\n      var inputProps = {\n        className: className,\n        onChange: props.selectOnClick ? emptyFn : onChange,\n        iconSize: multiple ? props.checkIconSize : props.radioIconSize,\n        name: props.name,\n        disabled: props.disabled,\n        checked: props.checked,\n        focusable: false,\n        supportIndeterminate: false,\n        browserNative: props.browserNativeSelectInputs,\n        theme: props.theme\n      };\n\n      var cellProps = _objectSpread({\n        key: 'select'\n      }, this.getCommonCellProps());\n\n      cellProps.className = (0, _join.default)(cellProps.className, \"\".concat(props.rootClassName, \"__cell--has-input\"), props.multiple && \"\".concat(props.rootClassName, \"__cell--checkbox\"), !props.multiple && \"\".concat(props.rootClassName, \"__cell--radio\"));\n      var Input = multiple ? _CheckBox.default : _RadioButton.default;\n      var renderFunction = multiple ? this.props.renderCheckInput : this.props.renderRadioInput;\n      var result;\n\n      if (typeof renderFunction === 'function') {\n        result = renderFunction({\n          domProps: inputProps,\n          onChange: onChange,\n          disabled: props.disabled,\n          checked: props.checked\n        });\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(Input, inputProps);\n      }\n\n      return _react.default.createElement(_MenuItemCell.default, cellProps, result);\n    }\n  }, {\n    key: \"renderExpander\",\n    value: function renderExpander() {\n      var props = this.props;\n      var expander = props.expander;\n\n      if (props.item && props.item.expander !== undefined) {\n        expander = props.item.expander;\n      }\n\n      var style = _objectSpread(_objectSpread({}, props.expanderStyle), props.item && props.item.expanderStyle);\n\n      var expanderProps = _objectSpread({\n        style: style,\n        size: props.expanderSize,\n        onClick: props.onExpanderClick\n      }, this.getCommonCellProps());\n\n      if (typeof expander === 'function') {\n        expander = expander(expanderProps, props.item);\n      }\n\n      if (expander === undefined || expander === true) {\n        expander = _react.default.createElement(_Expander.default, expanderProps);\n      }\n\n      return _react.default.createElement(_MenuItemCell.default, (0, _extends2.default)({\n        key: \"expander\",\n        className: \"\".concat(props.rootClassName, \"__cell--has-expander\"),\n        expander: expander\n      }, expanderProps));\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle() {\n      var props = this.props,\n          state = this.state;\n      var style = (0, _assign.default)({}, props.style, props.item.style);\n\n      if (props.item.isTitle && props.titleStyle) {\n        (0, _assign.default)(style, props.titleStyle, props.item.titleStyle);\n      }\n\n      if (state.mouseOver) {\n        (0, _assign.default)(style, props.itemOverStyle, props.overStyle, props.item.overStyle);\n      }\n\n      if (state.active) {\n        (0, _assign.default)(style, props.itemActiveStyle, props.activeStyle, props.item.activeStyle);\n      }\n\n      if (props.expanded) {\n        (0, _assign.default)(style, props.expandedStyle, props.item.expandedStyle);\n      }\n\n      if (props.focused) {\n        (0, _assign.default)(style, props.focusedStyle, props.item.focusedStyle);\n      }\n\n      if (props.focused && state.mouseOver) {\n        (0, _assign.default)(style, props.overFocusedStyle, props.item.overFocusedStyle);\n      }\n\n      if (props.height) {\n        (0, _assign.default)(style, {\n          height: props.height\n        });\n      }\n\n      if (props.disabled) {\n        (0, _assign.default)(style, props.itemDisabledStyle, props.disabledStyle, props.item.disabledStyle);\n      }\n\n      return style;\n    }\n  }, {\n    key: \"getClassName\",\n    value: function getClassName() {\n      var props = this.props,\n          state = this.state;\n      var baseClassName = \"\".concat(props.rootClassName, \"__row\");\n      var className = (0, _join.default)(props.className, props.item.className, baseClassName, state.mouseOver && \"\".concat(baseClassName, \"--over\"), state.mouseOver && props.item.overClassName, state.mouseOver && props.overClassName, state.active && \"\".concat(baseClassName, \"--active\"), state.active && props.item.activeClassName, state.active && props.activeClassName, props.expanded && \"\".concat(baseClassName, \"--expanded\"), props.expanded && props.item.expandedClassName, props.expanded && props.expandedClassName, props.focused && \"\".concat(baseClassName, \"--focused\"), props.focused && props.item.focusedClassName, props.focused && props.focusedClassName, props.item.isTitle && \"\".concat(baseClassName, \"--title\"), props.checked && \"\".concat(baseClassName, \"--checked\"));\n\n      if (props.disabled) {\n        className = (0, _join.default)(props.className, baseClassName, props.disabled && \"\".concat(baseClassName, \"--disabled\"), props.disabled && props.itemDisabledClassName, props.disabled && props.item.disabledClassName);\n      }\n\n      return className;\n    }\n  }, {\n    key: \"getOffset\",\n    value: function getOffset() {\n      return (0, _getRegionRelativeToParent.default)(this.node, this.props.rootClassName);\n    }\n  }, {\n    key: \"getPreparedProps\",\n    value: function getPreparedProps() {\n      return this.preparedProps;\n    }\n  }, {\n    key: \"hasSubmenu\",\n    value: function hasSubmenu() {\n      return !!this.props.hasSubMenu;\n    }\n  }, {\n    key: \"getDOMNode\",\n    value: function getDOMNode() {\n      return this.node;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var props = this.props;\n      return props.item[props.valueProperty];\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      var props = this.props;\n      return props.item[props.valueProperty];\n    }\n  }]);\n  return MenuItem;\n}(_reactClass.default);\n\nMenuItem.defaultProps = {\n  isMenuItem: true,\n  item: {},\n  columns: ['label'],\n  enableSelection: false,\n  allowUnselect: false\n};\nMenuItem.propTypes = {\n  rootClassName: _propTypes.default.string,\n  style: _propTypes.default.object,\n  titleStyle: _propTypes.default.object,\n  height: _propTypes.default.number,\n  dismissOnClick: _propTypes.default.bool,\n  siblingItemHasSubMenu: _propTypes.default.bool,\n  overStyle: _propTypes.default.object,\n  overClassName: _propTypes.default.string,\n  activeStyle: _propTypes.default.object,\n  activeClassName: _propTypes.default.string,\n  disabledStyle: _propTypes.default.object,\n  disabledClassName: _propTypes.default.string,\n  expandedStyle: _propTypes.default.object,\n  expandedClassName: _propTypes.default.string,\n  focusedStyle: _propTypes.default.object,\n  focusedClassName: _propTypes.default.string,\n  cellStyle: _propTypes.default.object,\n  expanderStyle: _propTypes.default.object,\n  overFocusedStyle: _propTypes.default.object,\n  columns: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object])),\n  item: _propTypes.default.object,\n  expanded: _propTypes.default.bool,\n  globalCellStyle: _propTypes.default.object,\n  itemDisabledStyle: _propTypes.default.object,\n  itemDisabledClassName: _propTypes.default.string,\n  itemOverStyle: _propTypes.default.object,\n  itemActiveStyle: _propTypes.default.object,\n  menuHasSubmenu: _propTypes.default.bool,\n  hasSubMenu: _propTypes.default.bool,\n  items: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.string])),\n  isMenuItem: _propTypes.default.bool,\n  focused: _propTypes.default.bool,\n  index: _propTypes.default.number,\n  rtl: _propTypes.default.bool,\n  expander: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool, _propTypes.default.func]),\n  expanderSize: _propTypes.default.number,\n  expandedIndex: _propTypes.default.number,\n  onExpanderClick: _propTypes.default.func,\n  closeSubMenu: _propTypes.default.func,\n  closeSubmenuRecursively: _propTypes.default.func,\n  submenuWillUnmount: _propTypes.default.func,\n  onMouseOver: _propTypes.default.func,\n  onMouseOut: _propTypes.default.func,\n  mouseOver: _propTypes.default.bool,\n  active: _propTypes.default.bool,\n  menu: _propTypes.default.node,\n  onSelectChange: _propTypes.default.func,\n  enableSelection: _propTypes.default.bool,\n  allowUnselect: _propTypes.default.bool,\n  selectOnClick: _propTypes.default.bool,\n  name: _propTypes.default.any,\n  value: _propTypes.default.any,\n  renderCheckInput: _propTypes.default.func,\n  renderRadioInput: _propTypes.default.func,\n  selectionInputPosition: _propTypes.default.oneOf(['start', 'end']),\n  checkIconSize: _propTypes.default.number,\n  radioIconSize: _propTypes.default.number,\n  browserNativeSelectInputs: _propTypes.default.bool,\n  showWarnings: _propTypes.default.bool\n};\nvar _default = MenuItem;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}