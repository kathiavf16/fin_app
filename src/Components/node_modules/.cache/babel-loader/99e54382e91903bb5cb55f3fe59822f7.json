{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _detectUa = require(\"../../../detect-ua\");\n\nvar _Header = require(\"../../../Layout/ColumnLayout/HeaderLayout/Header\");\n\nvar _Menu = _interopRequireDefault(require(\"../../../packages/Menu\"));\n\nvar _renderGridMenu = _interopRequireDefault(require(\"../../../renderGridMenu\"));\n\nvar COLUMN_MENU_ALIGN_POSITIONS = ['tl-bl', 'tr-br', 'tl-tr', 'tr-tl', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\nvar COLUMN_MENU_ALIGN_POSITIONS_RTL = ['tr-br', 'tl-bl', 'tr-tl', 'tl-tr', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\n\nvar notEmpty = function notEmpty(x) {\n  return !!x;\n};\n\nvar getTopComputedProps = function getTopComputedProps(computedProps) {\n  while (computedProps.initialProps.parentComputedProps) {\n    computedProps = computedProps.initialProps.parentComputedProps;\n  }\n\n  return computedProps;\n};\n\nvar _default = function _default(computedProps, computedPropsRef) {\n  var cellProps = computedProps.columnContextMenuProps;\n\n  if (!cellProps) {\n    return null;\n  }\n\n  var groupBy = computedProps.computedGroupBy;\n  var visibleCountWithColumnMenu = 0;\n  var visibleMap = computedProps.initialProps.columns.reduce(function (acc, col) {\n    var column = computedProps.getColumnBy(col.name || col.id);\n\n    if (column && computedProps.isColumnVisible(column)) {\n      var value = column.id || column.name;\n      acc[value] = column.id || column.name;\n\n      if (column.showColumnMenuTool !== false) {\n        visibleCountWithColumnMenu++;\n      }\n    }\n\n    return acc;\n  }, {});\n\n  var onSelectionChange = function onSelectionChange(selection) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (_detectUa.IS_IE) {\n      computedProps.preventIEMenuCloseRef.current = true;\n      setTimeout(function () {\n        computedProps.preventIEMenuCloseRef.current = false;\n      }, 100);\n    }\n\n    computedProps.initialProps.columns.forEach(function (col) {\n      var computedCol = computedProps.getColumnBy(col);\n\n      if (computedCol) {\n        var visible = (computedCol.id in selection);\n        computedProps.setColumnVisible(col, visible);\n      }\n    });\n  };\n\n  var currentColumn = computedProps.getColumnBy(cellProps.id);\n  var colSortInfo = currentColumn.computedSortInfo;\n  var lockLimit = !cellProps.computedLocked && computedProps.unlockedColumns.length <= 1;\n  var isAutoLock = cellProps.autoLock && computedProps.lockedStartColumns && !!computedProps.lockedStartColumns.filter(function (c) {\n    return !c.autoLock;\n  }).length;\n  var showColumnMenuLockOptions = cellProps.showColumnMenuLockOptions !== undefined ? cellProps.showColumnMenuLockOptions : computedProps.initialProps.showColumnMenuLockOptions;\n\n  if (cellProps.lockable === false) {\n    showColumnMenuLockOptions = false;\n  }\n\n  var showColumnMenuGroupOptions = cellProps.showColumnMenuGroupOptions !== undefined ? cellProps.showColumnMenuGroupOptions : computedProps.initialProps.showColumnMenuGroupOptions;\n  var showColumnMenuFilterOptions = cellProps.showColumnMenuFilterOptions !== undefined ? cellProps.showColumnMenuFilterOptions : computedProps.initialProps.showColumnMenuFilterOptions;\n  var showColumnMenuSortOptions = cellProps.showColumnMenuSortOptions !== undefined ? cellProps.showColumnMenuSortOptions : computedProps.initialProps.showColumnMenuSortOptions;\n  var columnsItem = {\n    label: computedProps.i18n('columns'),\n    itemId: 'columns',\n    menuProps: {\n      dismissOnClick: false\n    },\n    items: computedProps.getColumnsInOrder().filter(function (c) {\n      return c.showInContextMenu !== false;\n    }).map(function (c) {\n      var value = c.id || c.name || '';\n      return {\n        label: (0, _Header.getCellHeader)(c, c, null, {\n          currentColumn: currentColumn\n        }),\n        itemId: \"column-\".concat(c.id),\n        value: value,\n        disabled: c.hideable === false || visibleCountWithColumnMenu === 1 && visibleMap[value],\n        name: value\n      };\n    })\n  };\n\n  if (computedProps.computedPivot) {\n    columnsItem = null;\n  }\n\n  var items = [showColumnMenuSortOptions === false ? null : {\n    label: computedProps.i18n('sortAsc'),\n    itemId: 'sortAsc',\n    disabled: !cellProps.computedSortable || colSortInfo && colSortInfo.dir === 1,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.setColumnSortInfo(cellProps.id, 1);\n      computedProps.hideColumnContextMenu();\n    }\n  }, showColumnMenuSortOptions === false ? null : {\n    label: computedProps.i18n('sortDesc'),\n    itemId: 'sortDesc',\n    disabled: !cellProps.computedSortable || colSortInfo && colSortInfo.dir === -1,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.setColumnSortInfo(cellProps.id, -1);\n      computedProps.hideColumnContextMenu();\n    }\n  }, (computedProps.initialProps.allowUnsort || computedProps.computedIsMultiSort) && showColumnMenuSortOptions !== false ? {\n    label: computedProps.i18n('unsort'),\n    itemId: 'unsort',\n    disabled: !colSortInfo,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.unsortColumn(cellProps.id);\n      computedProps.hideColumnContextMenu();\n    }\n  } : null, showColumnMenuGroupOptions === false ? null : '-', showColumnMenuGroupOptions === false ? null : {\n    label: computedProps.i18n('group'),\n    itemId: 'group',\n    disabled: !groupBy || groupBy.indexOf(cellProps.id) !== -1 || currentColumn.groupBy === false,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.addGroupByColumn(cellProps.id);\n      computedProps.hideColumnContextMenu();\n    }\n  }, showColumnMenuGroupOptions === false ? null : {\n    label: computedProps.i18n('ungroup'),\n    itemId: 'ungroup',\n    disabled: !groupBy || groupBy.indexOf(cellProps.id) === -1 || currentColumn.groupBy === false,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.removeGroupByColumn(cellProps.id);\n      computedProps.hideColumnContextMenu();\n    }\n  }, showColumnMenuLockOptions === false ? null : '-', showColumnMenuLockOptions === false ? null : {\n    label: computedProps.i18n('lockStart'),\n    itemId: 'lockStart',\n    disabled: cellProps.computedLocked === 'start' || lockLimit,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.setColumnLocked(cellProps.id, 'start');\n      computedProps.hideColumnContextMenu();\n    }\n  }, showColumnMenuLockOptions === false ? null : {\n    label: computedProps.i18n('lockEnd'),\n    itemId: 'lockEnd',\n    disabled: cellProps.computedLocked === 'end' || lockLimit || isAutoLock,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.setColumnLocked(cellProps.id, 'end');\n      computedProps.hideColumnContextMenu();\n    }\n  }, showColumnMenuLockOptions === false ? null : {\n    label: computedProps.i18n('unlock'),\n    itemId: 'unlock',\n    disabled: !cellProps.computedLocked || isAutoLock,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.setColumnLocked(cellProps.id, false);\n      computedProps.hideColumnContextMenu();\n    }\n  }, columnsItem ? '-' : null, columnsItem].filter(notEmpty);\n\n  if (items[0] === '-') {\n    items = items.slice(1);\n  }\n\n  if (computedProps.initialProps.enableFiltering !== false && showColumnMenuFilterOptions !== false) {\n    var isFilterable = computedProps.computedFilterable;\n    var showFilteringMenuItems = computedProps.shouldShowFilteringMenuItems ? computedProps.shouldShowFilteringMenuItems() : false;\n\n    if (showFilteringMenuItems) {\n      items.push('-');\n      items.push({\n        label: computedProps.i18n('showFilteringRow', 'Show Filtering Row'),\n        itemId: 'showFilteringRow',\n        disabled: isFilterable,\n        onClick: function onClick() {\n          var computedProps = computedPropsRef.current;\n\n          if (!computedProps) {\n            return;\n          }\n\n          computedProps.setEnableFiltering(true);\n          computedProps.hideColumnContextMenu();\n        }\n      });\n      items.push({\n        label: computedProps.i18n('hideFilteringRow', 'Hide Filtering Row'),\n        itemId: 'hideFilteringRow',\n        disabled: !isFilterable,\n        onClick: function onClick() {\n          var computedProps = computedPropsRef.current;\n\n          if (!computedProps) {\n            return;\n          }\n\n          computedProps.setEnableFiltering(false);\n          computedProps.hideColumnContextMenu();\n        }\n      });\n    }\n  }\n\n  items.forEach(function (item) {\n    var onClick = item.onClick;\n\n    if (onClick && _detectUa.IS_MS_BROWSER) {\n      item.onClick = function () {\n        requestAnimationFrame(onClick);\n      };\n    }\n  });\n  var constrainToComputedProps = getTopComputedProps(computedProps);\n  var menuProps = {\n    updatePositionOnScroll: computedProps.updateMenuPositionOnScroll,\n    maxHeight: constrainToComputedProps.initialProps.columnContextMenuConstrainTo ? null : computedProps.getMenuAvailableHeight(),\n    nativeScroll: !_detectUa.IS_MS_BROWSER,\n    autoFocus: true,\n    enableSelection: true,\n    defaultSelected: visibleMap,\n    onDismiss: function onDismiss() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.hideColumnContextMenu();\n    },\n    onSelectionChange: onSelectionChange,\n    style: {\n      zIndex: 110000,\n      position: computedProps.initialProps.columnContextMenuPosition || 'absolute'\n    },\n    items: items,\n    theme: computedProps.theme,\n    constrainTo: constrainToComputedProps.columnContextMenuInfoRef.current.getMenuConstrainTo(),\n    alignPositions: computedProps.initialProps.columnContextMenuAlignPositions || computedProps.rtl ? COLUMN_MENU_ALIGN_POSITIONS_RTL : COLUMN_MENU_ALIGN_POSITIONS,\n    alignTo: computedProps.columnContextMenuInfoRef.current.menuAlignTo\n  };\n  var result;\n\n  if (computedProps.initialProps.renderColumnContextMenu) {\n    result = computedProps.initialProps.renderColumnContextMenu(menuProps, {\n      cellProps: cellProps,\n      grid: computedProps.publicAPI,\n      computedProps: computedProps,\n      computedPropsRef: computedPropsRef\n    });\n  }\n\n  if (result === undefined) {\n    result = _react.default.createElement(_Menu.default, Object.assign({}, menuProps));\n  }\n\n  if (computedProps.initialProps.renderGridMenu) {\n    return computedProps.initialProps.renderGridMenu(result, computedProps);\n  }\n\n  return (0, _renderGridMenu.default)(result, computedProps);\n};\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/plugins/menus/useMenus/renderColumnContextMenu.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_detectUa","_Header","_Menu","_renderGridMenu","COLUMN_MENU_ALIGN_POSITIONS","COLUMN_MENU_ALIGN_POSITIONS_RTL","notEmpty","x","getTopComputedProps","computedProps","initialProps","parentComputedProps","_default","computedPropsRef","cellProps","columnContextMenuProps","groupBy","computedGroupBy","visibleCountWithColumnMenu","visibleMap","columns","reduce","acc","col","column","getColumnBy","name","id","isColumnVisible","showColumnMenuTool","onSelectionChange","selection","current","IS_IE","preventIEMenuCloseRef","setTimeout","forEach","computedCol","visible","setColumnVisible","currentColumn","colSortInfo","computedSortInfo","lockLimit","computedLocked","unlockedColumns","length","isAutoLock","autoLock","lockedStartColumns","filter","c","showColumnMenuLockOptions","undefined","lockable","showColumnMenuGroupOptions","showColumnMenuFilterOptions","showColumnMenuSortOptions","columnsItem","label","i18n","itemId","menuProps","dismissOnClick","items","getColumnsInOrder","showInContextMenu","map","getCellHeader","concat","disabled","hideable","computedPivot","computedSortable","dir","onClick","setColumnSortInfo","hideColumnContextMenu","allowUnsort","computedIsMultiSort","unsortColumn","indexOf","addGroupByColumn","removeGroupByColumn","setColumnLocked","slice","enableFiltering","isFilterable","computedFilterable","showFilteringMenuItems","shouldShowFilteringMenuItems","push","setEnableFiltering","item","IS_MS_BROWSER","requestAnimationFrame","constrainToComputedProps","updatePositionOnScroll","updateMenuPositionOnScroll","maxHeight","columnContextMenuConstrainTo","getMenuAvailableHeight","nativeScroll","autoFocus","enableSelection","defaultSelected","onDismiss","style","zIndex","position","columnContextMenuPosition","theme","constrainTo","columnContextMenuInfoRef","getMenuConstrainTo","alignPositions","columnContextMenuAlignPositions","rtl","alignTo","menuAlignTo","result","renderColumnContextMenu","grid","publicAPI","createElement","assign","renderGridMenu"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _detectUa = require(\"../../../detect-ua\");\n\nvar _Header = require(\"../../../Layout/ColumnLayout/HeaderLayout/Header\");\n\nvar _Menu = _interopRequireDefault(require(\"../../../packages/Menu\"));\n\nvar _renderGridMenu = _interopRequireDefault(require(\"../../../renderGridMenu\"));\n\nvar COLUMN_MENU_ALIGN_POSITIONS = ['tl-bl', 'tr-br', 'tl-tr', 'tr-tl', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\nvar COLUMN_MENU_ALIGN_POSITIONS_RTL = ['tr-br', 'tl-bl', 'tr-tl', 'tl-tr', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\n\nvar notEmpty = function notEmpty(x) {\n  return !!x;\n};\n\nvar getTopComputedProps = function getTopComputedProps(computedProps) {\n  while (computedProps.initialProps.parentComputedProps) {\n    computedProps = computedProps.initialProps.parentComputedProps;\n  }\n\n  return computedProps;\n};\n\nvar _default = function _default(computedProps, computedPropsRef) {\n  var cellProps = computedProps.columnContextMenuProps;\n\n  if (!cellProps) {\n    return null;\n  }\n\n  var groupBy = computedProps.computedGroupBy;\n  var visibleCountWithColumnMenu = 0;\n  var visibleMap = computedProps.initialProps.columns.reduce(function (acc, col) {\n    var column = computedProps.getColumnBy(col.name || col.id);\n\n    if (column && computedProps.isColumnVisible(column)) {\n      var value = column.id || column.name;\n      acc[value] = column.id || column.name;\n\n      if (column.showColumnMenuTool !== false) {\n        visibleCountWithColumnMenu++;\n      }\n    }\n\n    return acc;\n  }, {});\n\n  var onSelectionChange = function onSelectionChange(selection) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (_detectUa.IS_IE) {\n      computedProps.preventIEMenuCloseRef.current = true;\n      setTimeout(function () {\n        computedProps.preventIEMenuCloseRef.current = false;\n      }, 100);\n    }\n\n    computedProps.initialProps.columns.forEach(function (col) {\n      var computedCol = computedProps.getColumnBy(col);\n\n      if (computedCol) {\n        var visible = (computedCol.id in selection);\n        computedProps.setColumnVisible(col, visible);\n      }\n    });\n  };\n\n  var currentColumn = computedProps.getColumnBy(cellProps.id);\n  var colSortInfo = currentColumn.computedSortInfo;\n  var lockLimit = !cellProps.computedLocked && computedProps.unlockedColumns.length <= 1;\n  var isAutoLock = cellProps.autoLock && computedProps.lockedStartColumns && !!computedProps.lockedStartColumns.filter(function (c) {\n    return !c.autoLock;\n  }).length;\n  var showColumnMenuLockOptions = cellProps.showColumnMenuLockOptions !== undefined ? cellProps.showColumnMenuLockOptions : computedProps.initialProps.showColumnMenuLockOptions;\n\n  if (cellProps.lockable === false) {\n    showColumnMenuLockOptions = false;\n  }\n\n  var showColumnMenuGroupOptions = cellProps.showColumnMenuGroupOptions !== undefined ? cellProps.showColumnMenuGroupOptions : computedProps.initialProps.showColumnMenuGroupOptions;\n  var showColumnMenuFilterOptions = cellProps.showColumnMenuFilterOptions !== undefined ? cellProps.showColumnMenuFilterOptions : computedProps.initialProps.showColumnMenuFilterOptions;\n  var showColumnMenuSortOptions = cellProps.showColumnMenuSortOptions !== undefined ? cellProps.showColumnMenuSortOptions : computedProps.initialProps.showColumnMenuSortOptions;\n  var columnsItem = {\n    label: computedProps.i18n('columns'),\n    itemId: 'columns',\n    menuProps: {\n      dismissOnClick: false\n    },\n    items: computedProps.getColumnsInOrder().filter(function (c) {\n      return c.showInContextMenu !== false;\n    }).map(function (c) {\n      var value = c.id || c.name || '';\n      return {\n        label: (0, _Header.getCellHeader)(c, c, null, {\n          currentColumn: currentColumn\n        }),\n        itemId: \"column-\".concat(c.id),\n        value: value,\n        disabled: c.hideable === false || visibleCountWithColumnMenu === 1 && visibleMap[value],\n        name: value\n      };\n    })\n  };\n\n  if (computedProps.computedPivot) {\n    columnsItem = null;\n  }\n\n  var items = [showColumnMenuSortOptions === false ? null : {\n    label: computedProps.i18n('sortAsc'),\n    itemId: 'sortAsc',\n    disabled: !cellProps.computedSortable || colSortInfo && colSortInfo.dir === 1,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.setColumnSortInfo(cellProps.id, 1);\n      computedProps.hideColumnContextMenu();\n    }\n  }, showColumnMenuSortOptions === false ? null : {\n    label: computedProps.i18n('sortDesc'),\n    itemId: 'sortDesc',\n    disabled: !cellProps.computedSortable || colSortInfo && colSortInfo.dir === -1,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.setColumnSortInfo(cellProps.id, -1);\n      computedProps.hideColumnContextMenu();\n    }\n  }, (computedProps.initialProps.allowUnsort || computedProps.computedIsMultiSort) && showColumnMenuSortOptions !== false ? {\n    label: computedProps.i18n('unsort'),\n    itemId: 'unsort',\n    disabled: !colSortInfo,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.unsortColumn(cellProps.id);\n      computedProps.hideColumnContextMenu();\n    }\n  } : null, showColumnMenuGroupOptions === false ? null : '-', showColumnMenuGroupOptions === false ? null : {\n    label: computedProps.i18n('group'),\n    itemId: 'group',\n    disabled: !groupBy || groupBy.indexOf(cellProps.id) !== -1 || currentColumn.groupBy === false,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.addGroupByColumn(cellProps.id);\n      computedProps.hideColumnContextMenu();\n    }\n  }, showColumnMenuGroupOptions === false ? null : {\n    label: computedProps.i18n('ungroup'),\n    itemId: 'ungroup',\n    disabled: !groupBy || groupBy.indexOf(cellProps.id) === -1 || currentColumn.groupBy === false,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.removeGroupByColumn(cellProps.id);\n      computedProps.hideColumnContextMenu();\n    }\n  }, showColumnMenuLockOptions === false ? null : '-', showColumnMenuLockOptions === false ? null : {\n    label: computedProps.i18n('lockStart'),\n    itemId: 'lockStart',\n    disabled: cellProps.computedLocked === 'start' || lockLimit,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.setColumnLocked(cellProps.id, 'start');\n      computedProps.hideColumnContextMenu();\n    }\n  }, showColumnMenuLockOptions === false ? null : {\n    label: computedProps.i18n('lockEnd'),\n    itemId: 'lockEnd',\n    disabled: cellProps.computedLocked === 'end' || lockLimit || isAutoLock,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.setColumnLocked(cellProps.id, 'end');\n      computedProps.hideColumnContextMenu();\n    }\n  }, showColumnMenuLockOptions === false ? null : {\n    label: computedProps.i18n('unlock'),\n    itemId: 'unlock',\n    disabled: !cellProps.computedLocked || isAutoLock,\n    onClick: function onClick() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.setColumnLocked(cellProps.id, false);\n      computedProps.hideColumnContextMenu();\n    }\n  }, columnsItem ? '-' : null, columnsItem].filter(notEmpty);\n\n  if (items[0] === '-') {\n    items = items.slice(1);\n  }\n\n  if (computedProps.initialProps.enableFiltering !== false && showColumnMenuFilterOptions !== false) {\n    var isFilterable = computedProps.computedFilterable;\n    var showFilteringMenuItems = computedProps.shouldShowFilteringMenuItems ? computedProps.shouldShowFilteringMenuItems() : false;\n\n    if (showFilteringMenuItems) {\n      items.push('-');\n      items.push({\n        label: computedProps.i18n('showFilteringRow', 'Show Filtering Row'),\n        itemId: 'showFilteringRow',\n        disabled: isFilterable,\n        onClick: function onClick() {\n          var computedProps = computedPropsRef.current;\n\n          if (!computedProps) {\n            return;\n          }\n\n          computedProps.setEnableFiltering(true);\n          computedProps.hideColumnContextMenu();\n        }\n      });\n      items.push({\n        label: computedProps.i18n('hideFilteringRow', 'Hide Filtering Row'),\n        itemId: 'hideFilteringRow',\n        disabled: !isFilterable,\n        onClick: function onClick() {\n          var computedProps = computedPropsRef.current;\n\n          if (!computedProps) {\n            return;\n          }\n\n          computedProps.setEnableFiltering(false);\n          computedProps.hideColumnContextMenu();\n        }\n      });\n    }\n  }\n\n  items.forEach(function (item) {\n    var onClick = item.onClick;\n\n    if (onClick && _detectUa.IS_MS_BROWSER) {\n      item.onClick = function () {\n        requestAnimationFrame(onClick);\n      };\n    }\n  });\n  var constrainToComputedProps = getTopComputedProps(computedProps);\n  var menuProps = {\n    updatePositionOnScroll: computedProps.updateMenuPositionOnScroll,\n    maxHeight: constrainToComputedProps.initialProps.columnContextMenuConstrainTo ? null : computedProps.getMenuAvailableHeight(),\n    nativeScroll: !_detectUa.IS_MS_BROWSER,\n    autoFocus: true,\n    enableSelection: true,\n    defaultSelected: visibleMap,\n    onDismiss: function onDismiss() {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      computedProps.hideColumnContextMenu();\n    },\n    onSelectionChange: onSelectionChange,\n    style: {\n      zIndex: 110000,\n      position: computedProps.initialProps.columnContextMenuPosition || 'absolute'\n    },\n    items: items,\n    theme: computedProps.theme,\n    constrainTo: constrainToComputedProps.columnContextMenuInfoRef.current.getMenuConstrainTo(),\n    alignPositions: computedProps.initialProps.columnContextMenuAlignPositions || computedProps.rtl ? COLUMN_MENU_ALIGN_POSITIONS_RTL : COLUMN_MENU_ALIGN_POSITIONS,\n    alignTo: computedProps.columnContextMenuInfoRef.current.menuAlignTo\n  };\n  var result;\n\n  if (computedProps.initialProps.renderColumnContextMenu) {\n    result = computedProps.initialProps.renderColumnContextMenu(menuProps, {\n      cellProps: cellProps,\n      grid: computedProps.publicAPI,\n      computedProps: computedProps,\n      computedPropsRef: computedPropsRef\n    });\n  }\n\n  if (result === undefined) {\n    result = _react.default.createElement(_Menu.default, Object.assign({}, menuProps));\n  }\n\n  if (computedProps.initialProps.renderGridMenu) {\n    return computedProps.initialProps.renderGridMenu(result, computedProps);\n  }\n\n  return (0, _renderGridMenu.default)(result, computedProps);\n};\n\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}