{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactClass = _interopRequireDefault(require(\"../../../packages/react-class\"));\n\nvar _regionAlign = _interopRequireDefault(require(\"../../../packages/region-align\"));\n\nvar _uglified = _interopRequireDefault(require(\"../../../packages/uglified\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"../../../common/shallowequal\"));\n\nvar _ArrowScroller = _interopRequireDefault(require(\"../../ArrowScroller\"));\n\nvar _MenuItem = _interopRequireDefault(require(\"./MenuItem\"));\n\nvar _MenuSeparator = _interopRequireDefault(require(\"./MenuSeparator\"));\n\nvar _containsNode = _interopRequireDefault(require(\"../../../common/containsNode\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nvar _join = _interopRequireDefault(require(\"../../../common/join\"));\n\nvar _assign = _interopRequireDefault(require(\"../../../common/assign\"));\n\nvar _getConstrainRegion = _interopRequireDefault(require(\"../../../common/getConstrainRegion\"));\n\nvar _isMobile = _interopRequireDefault(require(\"../../../common/isMobile\"));\n\nvar _prepareStyle = _interopRequireDefault(require(\"./utils/prepareStyle\"));\n\nvar _getFirstNonDisabledItem = _interopRequireDefault(require(\"./utils/getFirstNonDisabledItem\"));\n\nvar _getNextNavigableItem = _interopRequireDefault(require(\"./utils/getNextNavigableItem\"));\n\nvar _getSeparatorIndexes = _interopRequireDefault(require(\"./utils/getSeparatorIndexes\"));\n\nvar _prepareAlignOffset = _interopRequireDefault(require(\"./utils/prepareAlignOffset\"));\n\nvar _getSingleSelectNames = _interopRequireDefault(require(\"./utils/getSingleSelectNames\"));\n\nvar _increaseColSpan = require(\"./utils/increaseColSpan\");\n\nvar _getRegionRelativeToParent = _interopRequireDefault(require(\"./getRegionRelativeToParent\"));\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"../../../common/shouldComponentUpdate\"));\n\nvar _getSubMenuStyle = _interopRequireDefault(require(\"./getSubMenuStyle\"));\n\nvar _getItemStyleProps = _interopRequireDefault(require(\"./utils/getItemStyleProps\"));\n\nvar _submenuAlignPositions = require(\"./submenuAlignPositions\");\n\nvar _ua = require(\"../../../common/ua\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction emptyFn() {}\n\nvar raf = global.requestAnimationFrame;\n\nvar getAlignToRegion = function getAlignToRegion(alignTo, node) {\n  if (typeof alignTo === 'function') {\n    alignTo = alignTo(node);\n  }\n\n  if (typeof alignTo == 'string') {\n    alignTo = global.document ? global.document.querySelector(alignTo) : alignTo;\n  }\n\n  return _regionAlign.default.from(alignTo);\n};\n\nvar InovuaMenu = function (_Component) {\n  (0, _inherits2.default)(InovuaMenu, _Component);\n\n  var _super = _createSuper(InovuaMenu);\n\n  function InovuaMenu(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaMenu);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updatePosition\", function () {\n      _this.checkAlignment(undefined, true);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleDocumentScroll\", function () {\n      if (_this.props.updatePositionOnScroll) {\n        _this.updatePosition();\n      }\n    });\n    _this.state = {\n      mouseOver: false,\n      hidden: true,\n      enableAnimation: false,\n      transitionEnded: false,\n      hasScroll: false,\n      activeSubMenuIndex: null,\n      nextActiveSubMenuIndex: null,\n      showUpArrow: false,\n      showDownArrow: true,\n      focusedItem: props.enableKeyboardNavigation ? props.defaultFocusedItem : null,\n      selected: props.defaultSelected\n    };\n\n    _this.setupShowHideDelay();\n\n    _this.setRootRef = function (ref) {\n      _this.node = ref;\n    };\n\n    _this.setItemRef = function (index) {\n      return function (ref) {\n        if (!_this.childrenRefs) {\n          _this.childrenRefs = [];\n        }\n\n        _this.childrenRefs[index] = ref;\n      };\n    };\n\n    _this.setSubMenuRef = function (ref) {\n      _this.subMenu = ref;\n    };\n\n    _this.setSubMenuWrapRef = function (ref) {\n      _this.subMenuWrap = ref;\n    };\n\n    _this.setScrollerRef = function (ref) {\n      _this.scroller = ref;\n    };\n\n    _this.setTableRef = function (ref) {\n      _this.table = ref;\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaMenu, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return (0, _shouldComponentUpdate2.default)(this, nextProps, nextProps);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n      this.chidrenRefs = null;\n      this.props.componentWillUnmount(this, {\n        hasFocus: this.hasFocus(),\n        depth: this.props.depth\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.autoFocus && prevState.hidden && !this.state.hidden) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.componentIsMounted = true;\n\n      if (this.props.visible === false) {\n        return;\n      }\n\n      if (this.props.componentDidMount) {\n        this.props.componentDidMount(this);\n      }\n\n      this.checkAlignment();\n      this.setupEnterAnimation();\n\n      if (this.props.autoFocus) {\n        requestAnimationFrame(function () {\n          _this2.focus();\n        });\n      }\n\n      if (this.props.updatePositionOnScroll) {\n        window.addEventListener('scroll', this.handleDocumentScroll, {\n          passive: true\n        });\n      }\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps, nextState) {\n      if (this.props.visible && !nextProps.visible) {\n        this.setState({\n          positionStyle: null\n        });\n      }\n\n      if (!this.props.visible && nextProps.visible || !(0, _shallowequal.default)(this.props.alignTo, nextProps.alignTo) || nextProps.constrainTo != this.props.constrainTo) {\n        this.checkAlignment(nextProps);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state,\n          props = this.props;\n      var style = (0, _prepareStyle.default)(props, state);\n      var className = this.prepareClassName(props, state);\n      var table = this.renderTable();\n      var scrollerArrow = props.showScrollArrows === undefined ? 'auto' : !!props.showScrollArrows;\n      return _react.default.createElement(\"div\", (0, _extends2.default)({\n        tabIndex: 0\n      }, (0, _cleanProps.default)(props, InovuaMenu.propTypes), {\n        ref: this.setRootRef,\n        onMouseLeave: this.handleMouseLeave,\n        onMouseEnter: this.handleMouseEnter,\n        onKeyDown: this.handleKeyDown,\n        onBlur: this.handleOnBlur,\n        className: className,\n        style: style\n      }), this.state.activeSubMenuIndex !== null && this.renderSubMenu(props, state), props.disableScroller ? table : _react.default.createElement(_ArrowScroller.default, (0, _extends2.default)({\n        scroller: scrollerArrow\n      }, this.getScrollerProps()), table));\n    }\n  }, {\n    key: \"renderTable\",\n    value: function renderTable() {\n      var props = this.props,\n          state = this.state;\n      var className = (0, _join.default)(\"\".concat(props.rootClassName, \"__table\"), props.tableClassName);\n      return _react.default.createElement(\"table\", {\n        cellSpacing: 0,\n        cellPadding: 0,\n        className: className,\n        ref: this.setTableRef\n      }, _react.default.createElement(\"tbody\", null, this.renderItems()));\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this3 = this;\n\n      var props = this.props,\n          state = this.state;\n\n      if (!props.items) {\n        return null;\n      }\n\n      var commonProps = this.getCommonItemProps();\n      var siblingItemHasSubMenu = this.doesAnyItemHasSubMenu();\n      var siblingItemHasSelectInput = this.dosAnyItemHaveSelectInput();\n      var hasDescription = props.items.filter(function (item) {\n        return !!item.secondaryLabel;\n      }).length;\n      var hasIcon = props.items.filter(function (item) {\n        return !!item.icon;\n      }).length;\n      return props.items.map(function (item, index, items) {\n        if (item === '-') {\n          return _react.default.createElement(_MenuSeparator.default, {\n            style: props.menuSeparatorStyle,\n            key: index,\n            rootClassName: props.rootClassName\n          });\n        }\n\n        var columns = props.columns;\n\n        if (hasDescription) {\n          columns = [].concat((0, _toConsumableArray2.default)(columns), [{\n            name: 'secondaryLabel',\n            isDescription: true,\n            style: _objectSpread(_objectSpread({}, props.secondaryLabelStyle), item.secondaryLabelStyle)\n          }]);\n        }\n\n        if (hasIcon) {\n          columns = [{\n            name: 'icon',\n            isIcon: true\n          }].concat((0, _toConsumableArray2.default)(columns));\n        }\n\n        if (props.labelStyle || item.labelStyle) {\n          columns = columns.map(function (column) {\n            if (!column) {\n              return column;\n            }\n\n            if (typeof column === 'string' && column === 'label') {\n              return {\n                name: 'label',\n                style: _objectSpread(_objectSpread({}, props.labelStyle), item.labelStyle)\n              };\n            }\n\n            if (column && column.name && column.name === 'label') {\n              return _objectSpread(_objectSpread({}, column), {}, {\n                style: _objectSpread(_objectSpread({}, columns.style), props.labelStyle)\n              });\n            }\n\n            return column;\n          });\n        }\n\n        var hasSubMenu = item.items && !!item.items.length || item.children && !!item.children.length;\n        var focused = state.focusedItem === index;\n        var expanded = commonProps.expandedIndex === index;\n        var className = props.itemClassName;\n\n        var selectionProps = _this3.getSelectionProps(item);\n\n        if (props.enableSelection && siblingItemHasSelectInput && !selectionProps) {\n          if (props.selectionInputPosition === 'start') {\n            columns = (0, _increaseColSpan.increaseFirstColumnColSpan)(columns);\n          } else {\n            columns = (0, _increaseColSpan.increaseLastColumnColSpan)(columns);\n          }\n        }\n\n        if (!hasSubMenu && siblingItemHasSubMenu) {\n          columns = (0, _increaseColSpan.increaseLastColumnColSpan)(columns);\n        }\n\n        var itemProps = _objectSpread(_objectSpread(_objectSpread({\n          index: index,\n          item: item,\n          hasSubMenu: hasSubMenu,\n          items: items,\n          focused: focused,\n          expanded: expanded,\n          className: className,\n          columns: columns,\n          key: index,\n          disabled: item.disabled,\n          theme: props.theme,\n          ref: _this3.setItemRef(index)\n        }, commonProps), selectionProps), item.props);\n\n        var Component = props.itemFactory || _MenuItem.default;\n        return _react.default.createElement(Component, itemProps);\n      });\n    }\n  }, {\n    key: \"getSelectionProps\",\n    value: function getSelectionProps(item) {\n      var props = this.props;\n\n      if (!props.items || props.items && !props.items.length) {\n        return null;\n      }\n\n      var selected = this.getSelected();\n      var singleSelectNames = (0, _getSingleSelectNames.default)({\n        items: props.items,\n        nameProperty: props.nameProperty\n      });\n      var selectionProps;\n\n      if (props.enableSelection) {\n        var value = item[props.valueProperty];\n        var name = item[props.nameProperty];\n        var multiple = singleSelectNames && !singleSelectNames[name];\n        var checked = multiple ? value !== undefined ? selected[name] === value : selected[name] === name : selected[name] === value;\n\n        if (name) {\n          selectionProps = {\n            name: name,\n            value: value,\n            checked: checked,\n            multiple: multiple,\n            allowUnselect: props.allowUnselect,\n            enableSelection: true,\n            browserNativeSelectInputs: props.browserNativeSelectInputs,\n            renderCheckInput: item.renderCheckInput !== undefined ? item.renderCheckInput : props.renderCheckInput,\n            renderRadioInput: item.renderRadioInput !== undefined ? item.renderRadioInput : props.renderRadioInput,\n            selectionInputPosition: item.selectionInputPosition !== undefined ? item.selectionInputPosition : props.selectionInputPosition\n          };\n        }\n      }\n\n      return selectionProps;\n    }\n  }, {\n    key: \"getCommonItemProps\",\n    value: function getCommonItemProps() {\n      var _objectSpread2;\n\n      var props = this.props;\n      var menuHasSubmenu = !!props.items.filter(function (item) {\n        return item.items && item.items.length;\n      }).length;\n      var itemStyleProps = (0, _getItemStyleProps.default)(props);\n      return _objectSpread((_objectSpread2 = {\n        menuHasSubmenu: menuHasSubmenu,\n        expanderStyle: props.expanderStyle,\n        expanderSize: props.expanderSize,\n        globalCellStyle: props.cellStyle,\n        itemDisabledStyle: props.itemDisabledStyle,\n        itemDisabledClassName: props.itemDisabledClassName,\n        itemOverStyle: props.itemOverStyle,\n        itemActiveStyle: props.itemActiveStyle\n      }, (0, _defineProperty2.default)(_objectSpread2, \"menuHasSubmenu\", props.menuHasSubmenu), (0, _defineProperty2.default)(_objectSpread2, \"rootClassName\", props.rootClassName), (0, _defineProperty2.default)(_objectSpread2, \"showWarnings\", props.showWarnings), (0, _defineProperty2.default)(_objectSpread2, \"titleStyle\", props.titleStyle), (0, _defineProperty2.default)(_objectSpread2, \"onClick\", this.onMenuItemClick), (0, _defineProperty2.default)(_objectSpread2, \"onMouseOver\", this.onMenuItemMouseEnter), (0, _defineProperty2.default)(_objectSpread2, \"onMouseOut\", this.onMenuItemMouseLeave), (0, _defineProperty2.default)(_objectSpread2, \"submenuWillUnmount\", this.onSubmenuWillUnmount), (0, _defineProperty2.default)(_objectSpread2, \"onExpanderClick\", this.onMenuItemExpanderClick), (0, _defineProperty2.default)(_objectSpread2, \"onSelectChange\", this.handleSelectionChange), (0, _defineProperty2.default)(_objectSpread2, \"selectOnClick\", props.selectOnClick), (0, _defineProperty2.default)(_objectSpread2, \"expander\", props.expander), (0, _defineProperty2.default)(_objectSpread2, \"rtl\", props.rtl), (0, _defineProperty2.default)(_objectSpread2, \"height\", props.itemHeight), (0, _defineProperty2.default)(_objectSpread2, \"checkIconSize\", props.checkIconSize), (0, _defineProperty2.default)(_objectSpread2, \"radioIconSize\", props.radioIconSize), (0, _defineProperty2.default)(_objectSpread2, \"closeSubmenuRecursively\", this.closeSubmenuRecursively), (0, _defineProperty2.default)(_objectSpread2, \"closeSubMenu\", this.closeSubMenu), (0, _defineProperty2.default)(_objectSpread2, \"expandedIndex\", this.getExpandedIndex()), _objectSpread2), itemStyleProps);\n    }\n  }, {\n    key: \"renderSubMenu\",\n    value: function renderSubMenu(props, state) {\n      var domNode = this.node;\n      var menuProps = this.getSubMenuProps();\n\n      var wrapperStyle = _getSubMenuStyle.default.bind(this)(_objectSpread(_objectSpread({}, props), {}, {\n        alignPositions: this.getDefaultAlignPositions()\n      }), state, domNode);\n\n      var wrapperClassName = \"\".concat(this.props.rootClassName, \"__submenu-wrapper\");\n      return _react.default.createElement(\"div\", {\n        className: wrapperClassName,\n        ref: this.setSubMenuWrapRef,\n        style: wrapperStyle,\n        onMouseEnter: this.handleSubMenuMouseEnter,\n        onMouseLeave: this.handleSubMenuMouseLeave\n      }, _react.default.createElement(InovuaMenu, (0, _extends2.default)({\n        key: state.activeSubMenuIndex\n      }, menuProps)));\n    }\n  }, {\n    key: \"hasItemSubMenu\",\n    value: function hasItemSubMenu(index) {\n      var items = this.getItemsByIndex(index);\n      return items && items.length;\n    }\n  }, {\n    key: \"getItemsByIndex\",\n    value: function getItemsByIndex(index) {\n      var item = this.props.items && this.props.items[index];\n\n      if (!item) {\n        return null;\n      }\n\n      var items = item && item.items;\n      return items;\n    }\n  }, {\n    key: \"getSubMenuProps\",\n    value: function getSubMenuProps() {\n      var props = this.props,\n          state = this.state;\n      var index = this.state.activeSubMenuIndex;\n      var items = this.getItemsByIndex(index);\n      var item = this.props.items[index];\n\n      var overridingProps = _objectSpread(_objectSpread({}, this.props.submenuProps), item.menuProps);\n\n      if (overridingProps.selected === undefined && overridingProps.defaultSelected === undefined) {\n        overridingProps.selected = this.getSelected();\n      }\n\n      var menuProps = _objectSpread(_objectSpread(_objectSpread({}, this.props), {}, {\n        onDismiss: emptyFn\n      }, overridingProps), {}, {\n        items: items,\n        depth: props.depth + 1,\n        ref: this.setSubMenuRef,\n        subMenu: true,\n        parentMenu: this,\n        closeSubMenu: this.closeSubMenu,\n        closeSubmenuRecursively: this.closeSubmenuRecursively,\n        componentWillUnmount: this.submenuWillUnmount,\n        parentIndex: index,\n        maxHeight: state.submenuMaxHeight || props.submenuMaxHeight || state.maxHeight || props.maxHeight,\n        onActivate: this.onSubMenuActivate,\n        onInactivate: this.onSubMenuInactivate,\n        scrollerProps: props.scrollerProps,\n        constrainTo: props.constrainTo,\n        expander: props.expander,\n        onSelectionChange: this.handleSubmenuSelectionChange,\n        alignPosition: state.submenuAlignPosition\n      });\n\n      delete menuProps.autoFocus;\n      delete menuProps.className;\n      delete menuProps.onClick;\n      delete menuProps.defaultFocusedItem;\n      delete menuProps.onChildClick;\n      delete menuProps.visible;\n      return menuProps;\n    }\n  }, {\n    key: \"getAlignPositions\",\n    value: function getAlignPositions(props) {\n      if (props.alignPositions == null) {\n        return this.getDefaultAlignPositions();\n      }\n\n      return props.alignPositions;\n    }\n  }, {\n    key: \"getDefaultAlignPositions\",\n    value: function getDefaultAlignPositions() {\n      var props = this.props;\n      return props.rtl ? _submenuAlignPositions.alignPositionRTL : _submenuAlignPositions.alignPositionLTR;\n    }\n  }, {\n    key: \"getScrollerProps\",\n    value: function getScrollerProps() {\n      var _this4 = this;\n\n      var props = this.props,\n          state = this.state;\n      var className = (0, _join.default)(props.scrollerProps.className, \"\".concat(props.rootClassName, \"__scroll-container\"));\n      var style = (0, _assign.default)({}, props.scrollerProps.style);\n      var maxHeight = state.maxHeight != undefined && props.submenu ? state.maxHeight : props.maxHeight;\n\n      if (maxHeight != null) {\n        (0, _assign.default)(style, {\n          maxHeight: maxHeight\n        });\n      }\n\n      var scrollProps = _objectSpread(_objectSpread({}, props.scrollerProps), {}, {\n        renderScroller: props.renderScroller,\n        nativeScroll: props.nativeScroll,\n        scrollContainerProps: props.scrollContainerProps,\n        className: className,\n        notifyResizeDelay: props.notifyResizeDelay,\n        ref: this.setScrollerRef,\n        style: style,\n        vertical: true,\n        theme: props.theme,\n        scrollOnMouseEnter: props.scrollOnMouseEnter,\n        onHasScrollChange: function onHasScrollChange(hasScroll) {\n          return _this4.setState({\n            hasScroll: hasScroll\n          });\n        }\n      });\n\n      return scrollProps;\n    }\n  }, {\n    key: \"prepareClassName\",\n    value: function prepareClassName(props, state) {\n      var hidden = props.visible != undefined ? !props.visible : state.hidden;\n      var className = (0, _join.default)(props.rootClassName, props.theme && \"\".concat(props.rootClassName, \"--theme-\").concat(props.theme), props.className, !props.visible || props.items && !props.items.length && \"\".concat(props.rootClassName, \"--no-display\"), props.absolute && \"\".concat(props.rootClassName, \"--absolute\"), !props.rtl ? \"\".concat(props.rootClassName, \"--ltr\") : \"\".concat(props.rootClassName, \"--rtl\"), hidden && \"\".concat(props.rootClassName, \"--hidden\"), _isMobile.default && \"\".concat(props.rootClassName, \"--mobile\"), props.subMenu && \"\".concat(props.rootClassName, \"__submenu\"), \"\".concat(props.rootClassName, \"--depth-\").concat(props.depth), state.hasScroll && \"\".concat(props.rootClassName, \"--has-overflow\"), props.shadow && \"\".concat(props.rootClassName, \"--shadow\"), state.hasScroll && \"\".concat(props.rootClassName, \"--has-scroll\"));\n\n      if (props.alignPosition !== undefined) {\n        var position = props.alignPosition === 1 ? 'up' : 'down';\n        className = (0, _join.default)(className, \"\".concat(props.rootClassName, \"--position-\").concat(position));\n      }\n\n      if (state.enableAnimation) {\n        className = (0, _join.default)(className, \"\".concat(props.rootClassName, \"--animation-enabled\"), state.transitionEnded && \"\".concat(props.rootClassName, \"--transition-end\"), state.transitionStart && \"\".concat(props.rootClassName, \"--transition-start\"));\n      }\n\n      return className;\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter(event) {\n      if (typeof this.props.onMouseEnter === 'function') {\n        this.props.onMouseEnter(event);\n      }\n\n      this.setState({\n        mouseInside: true\n      });\n      this.onActivate();\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave(event) {\n      if (typeof this.props.onMouseLeave === 'function') {\n        this.props.onMouseLeave(event);\n      }\n\n      this.setNextSubmenu();\n      this.setState({\n        mouseInside: false\n      });\n\n      if (!this.state.activeSubMenuIndex && !this.state.nextActiveSubMenuIndex) {\n        this.onInactivate({\n          hasFocus: this.hasFocus(),\n          parentIndex: this.props.parentIndex\n        });\n      }\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      if (typeof this.props.onKeyDown === 'function') {\n        this.props.onKeyDown(event);\n      }\n\n      if (!this.props.enableKeyboardNavigation) {\n        return;\n      }\n\n      var stop = function stop(event) {\n        event.stopPropagation();\n      };\n\n      stop(event);\n\n      switch (event.key) {\n        case 'ArrowUp':\n          this.handleArrowUp(event);\n          break;\n\n        case 'ArrowDown':\n          this.handleArrowDown(event);\n          break;\n\n        case 'ArrowLeft':\n          this.handleArrowLeft(event);\n          break;\n\n        case 'ArrowRight':\n          this.handleArrowRight(event);\n          break;\n\n        case 'Enter':\n          this.handleEnterOnFocusedItem(event);\n          break;\n\n        case ' ':\n          this.handleSpaceOnFocusedItem(event);\n          break;\n      }\n    }\n  }, {\n    key: \"handleArrowUp\",\n    value: function handleArrowUp(event) {\n      var lastItemIndex = this.props.items && this.props.items.length ? this.props.items.length : null;\n      var props = this.props;\n      var focusedItemIndex = this.state.focusedItem != null ? this.state.focusedItem : lastItemIndex;\n      var newFocusedItemIndex = (0, _getNextNavigableItem.default)(props.items, focusedItemIndex, -1);\n\n      if (newFocusedItemIndex == null) {\n        return;\n      }\n\n      this.setFocusedIndex(newFocusedItemIndex);\n    }\n  }, {\n    key: \"handleArrowDown\",\n    value: function handleArrowDown(event) {\n      var props = this.props;\n      var focusedItemIndex = this.state.focusedItem != null ? this.state.focusedItem : -1;\n      var newFocusedItemIndex = (0, _getNextNavigableItem.default)(props.items, focusedItemIndex, 1);\n\n      if (newFocusedItemIndex == null) {\n        return;\n      }\n\n      this.setFocusedIndex(newFocusedItemIndex);\n    }\n  }, {\n    key: \"handleArrowLeft\",\n    value: function handleArrowLeft(event) {\n      if (this.props.rtl) {\n        this.openSubMenuAction(this.state.focusedItem);\n      } else {\n        this.closeSubMenuAction();\n      }\n    }\n  }, {\n    key: \"handleArrowRight\",\n    value: function handleArrowRight(event) {\n      if (this.props.rtl) {\n        this.closeSubMenuAction();\n      } else {\n        this.openSubMenuAction(this.state.focusedItem);\n      }\n    }\n  }, {\n    key: \"handleEnterOnFocusedItem\",\n    value: function handleEnterOnFocusedItem(event) {\n      var focusedItem = this.getFocusedItem();\n\n      if (this.props.simulateClickOnEnterKeyPress && focusedItem != null && typeof focusedItem.handleClick === 'function') {\n        focusedItem.handleClick({\n          stopPropagation: function stopPropagation() {}\n        });\n      }\n    }\n  }, {\n    key: \"handleSpaceOnFocusedItem\",\n    value: function handleSpaceOnFocusedItem() {\n      var activeItemProps = this.getFocusedItemProps();\n\n      if (!activeItemProps) {\n        return;\n      }\n\n      this.handleSelectionChange({\n        name: activeItemProps.name,\n        value: activeItemProps.value,\n        checked: !activeItemProps.checked,\n        multiple: activeItemProps.multiple\n      });\n    }\n  }, {\n    key: \"handleOnBlur\",\n    value: function handleOnBlur(event) {\n      var _this5 = this;\n\n      if (typeof this.props.onBlur === 'function') {\n        this.props.onBlur(event);\n      }\n\n      event.stopPropagation();\n\n      if (this.preventOnBlurRecursiveClose) {\n        return;\n      }\n\n      this.dismissTriggeredByBlur = true;\n      setTimeout(function () {\n        if (!_this5.hasGeneralFocus()) {\n          _this5.dismiss(event);\n        }\n      }, _ua.IS_IE ? this.props.hideSubMenuDelay : 20);\n    }\n  }, {\n    key: \"dismiss\",\n    value: function dismiss(event) {\n      this.closeSubmenuRecursively();\n      this.props.onDismiss(event);\n    }\n  }, {\n    key: \"scrollItemIntoView\",\n    value: function scrollItemIntoView(index) {\n      var itemNode = this.getItemDOMNodeByIndex(index);\n\n      if (!this.scroller || !itemNode) {\n        return;\n      }\n\n      this.scroller.scrollIntoView(itemNode);\n    }\n  }, {\n    key: \"closeSubmenuRecursively\",\n    value: function closeSubmenuRecursively() {\n      this.closeSubMenu();\n      this.props.closeSubmenuRecursively();\n    }\n  }, {\n    key: \"closeSubMenuAction\",\n    value: function closeSubMenuAction() {\n      if (this.hasSubMenuOpened()) {\n        this.closeSubMenu();\n      } else if (this.isSubMenu()) {\n        this.preventOnBlurRecursiveClose = true;\n        this.props.closeSubMenu({\n          autoFocus: true\n        });\n      }\n    }\n  }, {\n    key: \"openSubMenuAction\",\n    value: function openSubMenuAction(focusedItemIndex) {\n      var focusedItem = this.getItemByIndex(focusedItemIndex);\n\n      if (!focusedItem) {\n        return;\n      }\n\n      if (focusedItem && !focusedItem.hasSubmenu()) {\n        return;\n      }\n\n      if (focusedItemIndex === this.state.activeSubMenuIndex) {\n        this.subMenu && this.subMenu.focusFirstItem();\n        return;\n      }\n\n      var menuOffset = focusedItem && focusedItem.getOffset();\n      this.setSubMenu({\n        menuOffset: menuOffset,\n        index: focusedItemIndex\n      });\n    }\n  }, {\n    key: \"onActivate\",\n    value: function onActivate() {\n      if (!this.state.activated) {\n        this.setState({\n          activated: true\n        });\n\n        if (this.props.onActivate) {\n          this.props.onActivate();\n        }\n      }\n    }\n  }, {\n    key: \"onInactivate\",\n    value: function onInactivate(options) {\n      if (this.state.activated) {\n        this.setState({\n          activated: false\n        });\n\n        if (this.props.onInactivate) {\n          this.props.onInactivate(options);\n        }\n      }\n    }\n  }, {\n    key: \"handleSubMenuMouseEnter\",\n    value: function handleSubMenuMouseEnter() {\n      this.setState({\n        mouseOverSubMenu: true\n      });\n    }\n  }, {\n    key: \"handleSubMenuMouseLeave\",\n    value: function handleSubMenuMouseLeave() {\n      this.setState({\n        mouseOverSubMenu: false\n      });\n    }\n  }, {\n    key: \"isSubMenuActive\",\n    value: function isSubMenuActive() {\n      return this.state.subMenuActive;\n    }\n  }, {\n    key: \"onSubMenuActivate\",\n    value: function onSubMenuActivate() {\n      this.setState({\n        subMenuActive: true\n      });\n\n      if (this.closeSubmenuTimeout) {\n        clearTimeout(this.closeSubmenuTimeout);\n      }\n    }\n  }, {\n    key: \"onSubMenuInactivate\",\n    value: function onSubMenuInactivate(submenuConfig) {\n      var _this6 = this;\n\n      var ts = +new Date();\n      var nextItem = this.state.nextItem;\n      var nextTimestamp = this.state.nextTimestamp || 0;\n      this.setState({\n        subMenuActive: false,\n        timestamp: ts\n      }, function () {\n        setTimeout(function () {\n          if (ts != _this6.state.timestamp || nextItem && ts - nextTimestamp < 100) {\n            _this6.setSubMenu({\n              menuOffset: _this6.state.nextOffset,\n              index: _this6.state.nextActiveSubMenuIndex\n            }, function () {\n              _this6.focus();\n            });\n\n            return;\n          } else {\n            _this6.focus();\n          }\n\n          var mouseHasEnteredSubmenuParentItem = submenuConfig && submenuConfig.parentIndex === _this6.itemOverIndex;\n\n          if (!_this6.isSubMenuActive() && !mouseHasEnteredSubmenuParentItem) {\n            _this6.closeSubMenu({\n              autoFocus: submenuConfig && submenuConfig.hasFocus\n            });\n          }\n        }, 10);\n      });\n    }\n  }, {\n    key: \"onMenuItemMouseEnter\",\n    value: function onMenuItemMouseEnter(_ref) {\n      var menuOffset = _ref.menuOffset,\n          index = _ref.index,\n          hasSubMenu = _ref.hasSubMenu;\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      this.itemOverIndex = index;\n\n      if (!hasSubMenu) {\n        if (this.state.activeSubMenuIndex != null) {\n          this.setNextSubmenu({\n            menuOffset: null,\n            index: null\n          });\n        }\n\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex == null) {\n        this.setSubMenu({\n          menuOffset: menuOffset,\n          index: index\n        });\n      } else {\n        this.setNextSubmenu({\n          menuOffset: menuOffset,\n          index: index\n        });\n      }\n    }\n  }, {\n    key: \"onMenuItemMouseLeave\",\n    value: function onMenuItemMouseLeave(_ref2) {\n      var leaveOffset = _ref2.leaveOffset,\n          index = _ref2.index,\n          event = _ref2.event;\n\n      if (this.itemOverIndex === index) {\n        this.itemOverIndex = null;\n      }\n\n      if (!leaveOffset) {\n        return;\n      }\n\n      var elementAtMousePosition = global.document.elementFromPoint(leaveOffset.x, leaveOffset.y);\n\n      if (elementAtMousePosition === this.subMenuWrap || (0, _containsNode.default)(this.subMenuWrap, elementAtMousePosition)) {\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex !== null) {\n        this.delayCloseSubmenu(leaveOffset);\n      }\n\n      if (this.showTimeout) {\n        clearTimeout(this.showTimeout);\n      }\n    }\n  }, {\n    key: \"delayCloseSubmenu\",\n    value: function delayCloseSubmenu() {\n      var _this7 = this;\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      if (this.closeSubmenuTimeoutId) {\n        return;\n      }\n\n      this.closeSubmenuTimeout = setTimeout(function () {\n        _this7.closeSubmenuTimeout = null;\n\n        _this7.setSubMenu({\n          menuOffset: _this7.state.nextOffset,\n          index: _this7.state.nextActiveSubMenuIndex\n        });\n      }, 100);\n    }\n  }, {\n    key: \"removeMouseMoveListener\",\n    value: function removeMouseMoveListener() {\n      if (this.onWindowMouseMove) {\n        global.removeEventListener('mousemove', this.onWindowMouseMove);\n        this.onWindowMouseMove = null;\n      }\n    }\n  }, {\n    key: \"setSubMenu\",\n    value: function setSubMenu() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          menuOffset = _ref3.menuOffset,\n          _ref3$index = _ref3.index,\n          index = _ref3$index === void 0 ? null : _ref3$index;\n\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      this.removeMouseMoveListener();\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex === index) {\n        if (callback) {\n          callback();\n        }\n\n        return;\n      }\n\n      if (this.hasItemSubMenu(index) && !this.state.mouseInside) {\n        this.onInactivate();\n      }\n\n      this.setState({\n        menuOffset: menuOffset,\n        activeSubMenuIndex: index,\n        nextOffset: null,\n        nextTimestamp: null,\n        timestamp: +new Date()\n      }, callback);\n    }\n  }, {\n    key: \"setNextSubmenu\",\n    value: function setNextSubmenu() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$menuOffset = _ref4.menuOffset,\n          menuOffset = _ref4$menuOffset === void 0 ? null : _ref4$menuOffset,\n          _ref4$index = _ref4.index,\n          index = _ref4$index === void 0 ? null : _ref4$index;\n\n      var ts = +new Date();\n      this.setState({\n        timestamp: ts,\n        nextOffset: menuOffset,\n        nextActiveSubMenuIndex: index,\n        nextTimestamp: +new Date()\n      });\n    }\n  }, {\n    key: \"closeSubMenu\",\n    value: function closeSubMenu(options) {\n      return;\n      this.setSubMenu();\n\n      if (options && options.autoFocus) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"onMenuItemExpanderClick\",\n    value: function onMenuItemExpanderClick(event) {\n      event.nativeEvent.expanderClick = true;\n    }\n  }, {\n    key: \"onMenuItemClick\",\n    value: function onMenuItemClick() {\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var itemProps = arguments.length > 1 ? arguments[1] : undefined;\n      var index = arguments.length > 2 ? arguments[2] : undefined;\n      var props = this.props;\n      var stopped = event && event.isPropagationStopped ? event.isPropagationStopped() : false;\n\n      if (props.stopClickPropagation && event.stopPropagation) {\n        event.stopPropagation();\n      }\n\n      if (_isMobile.default && itemProps && event && event.nativeEvent && event.nativeEvent.expanderClick) {\n        var offset = {\n          x: event.pageX,\n          y: event.pageY\n        };\n        var menuOffset = (0, _getRegionRelativeToParent.default)(event.currentTarget, props.rootClassName);\n        this.onMenuItemMouseEnter({\n          hasSubMenu: itemProps.hasSubMenu,\n          menuOffset: menuOffset,\n          index: itemProps.index\n        });\n        return;\n      }\n\n      if (!stopped) {\n        props.onClick(event, itemProps, index);\n\n        if (_isMobile.default && props.onTouchStart) {\n          props.onTouchStart(event, itemProps, index);\n        }\n\n        var dismissOnClick = itemProps && itemProps.item && itemProps.item.dismissOnClick !== undefined ? itemProps.item.dismissOnClick : props.dismissOnClick;\n\n        if (props.autoDismiss) {\n          if (!itemProps.hasSubMenu) {\n            this.dismiss();\n          } else if (dismissOnClick) {\n            props.closeSubmenuRecursively();\n          }\n        } else if (dismissOnClick) {\n          props.closeSubmenuRecursively();\n        }\n\n        if (props.selectOnClick && itemProps.name !== undefined) {\n          this.handleSelectionChange({\n            name: itemProps.name,\n            value: itemProps.value,\n            checked: !itemProps.checked,\n            multiple: itemProps.multiple\n          });\n        }\n\n        this.onChildClick(event, itemProps);\n      }\n\n      if (!this.isSeparator(index)) {\n        this.setFocusedIndex(index);\n      }\n    }\n  }, {\n    key: \"onChildClick\",\n    value: function onChildClick(event, props) {\n      if (this.props.onChildClick) {\n        this.props.onChildClick(event, props);\n      }\n\n      if (this.props.parentMenu) {\n        this.props.parentMenu.onChildClick(event, props);\n      }\n    }\n  }, {\n    key: \"setupShowHideDelay\",\n    value: function setupShowHideDelay() {\n      var _this8 = this;\n\n      var setSubMenu = this.setSubMenu;\n\n      this.setSubMenu = function () {\n        var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            menuOffset = _ref5.menuOffset,\n            index = _ref5.index;\n\n        var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n        if (_this8.showTimeout) {\n          clearTimeout(_this8.showTimeout);\n        }\n\n        if (_this8.hideTimeout) {\n          clearTimeout(_this8.hideTimeout);\n        }\n\n        if (index != null) {\n          if (_this8.props.showSubMenuDelay) {\n            _this8.showTimeout = setTimeout(function () {\n              return setSubMenu({\n                menuOffset: menuOffset,\n                index: index\n              }, callback);\n            }, _this8.props.showSubMenuDelay);\n          } else {\n            setSubMenu({\n              menuOffset: menuOffset,\n              index: index\n            }, callback);\n          }\n        } else {\n          if (_this8.props.hideSubMenuDelay) {\n            _this8.hideTimeout = setTimeout(function () {\n              return setSubMenu({\n                menuOffset: menuOffset,\n                index: index\n              }, callback);\n            }, _this8.props.hideSubMenuDelay);\n          } else {\n            setSubMenu({\n              menuOffset: menuOffset,\n              index: index\n            }, callback);\n          }\n        }\n      };\n    }\n  }, {\n    key: \"setupEnterAnimation\",\n    value: function setupEnterAnimation() {\n      var _this9 = this;\n\n      setTimeout(function () {\n        var enableAnimation = _this9.props.enableAnimation && _this9.props.subMenu || _this9.props.enableRootAnimation && !_this9.props.subMenu;\n\n        if (_this9.componentIsMounted) {\n          _this9.setState({\n            hidden: false,\n            enableAnimation: enableAnimation\n          });\n        }\n\n        if (enableAnimation) {\n          setTimeout(function () {\n            if (_this9.componentIsMounted) {\n              _this9.setState({\n                transitionStart: true\n              });\n            }\n\n            setTimeout(function () {\n              if (_this9.componentIsMounted) {\n                _this9.setState({\n                  transitionEnded: true\n                });\n              }\n            }, 16);\n          }, 16);\n        }\n      }, 0);\n    }\n  }, {\n    key: \"checkAlignment\",\n    value: function checkAlignment(props, skipReset) {\n      var _this10 = this;\n\n      props = props || this.props;\n\n      if (props.visible === false) {\n        return;\n      }\n\n      if ((props.constrainTo || props.alignTo) && !props.subMenu) {\n        var doAlign = function doAlign() {\n          var props = _this10.props;\n\n          var alignPositions = _this10.getAlignPositions(props);\n\n          var domNode = _this10.node;\n\n          if (!domNode) {\n            return;\n          }\n\n          domNode.style.visibility = '';\n          var alignOffset = (0, _prepareAlignOffset.default)(props.alignOffset);\n\n          var domRegion = _regionAlign.default.from(domNode);\n\n          var actualRegion = domRegion.clone();\n          var constrainRegion = props.constrainTo ? (0, _getConstrainRegion.default)(props.constrainTo, domNode) : null;\n          var positionStyle;\n\n          if (props.alignTo) {\n            var alignRegion = getAlignToRegion(props.alignTo, domNode);\n            actualRegion.alignTo(alignRegion, alignPositions, {\n              offset: alignOffset,\n              constrain: constrainRegion\n            });\n            var offsetParent = domNode.offsetParent;\n\n            if (_ua.IS_FF && offsetParent === document.body && getComputedStyle(domNode).position === 'fixed') {\n              offsetParent = null;\n            }\n\n            var offsetParentRect = offsetParent ? null : domNode.getBoundingClientRect();\n\n            var offsetParentRegion = _regionAlign.default.from(offsetParent || {\n              top: offsetParentRect.top,\n              left: offsetParentRect.left\n            });\n\n            var newTop = actualRegion.top - offsetParentRegion.top;\n            var newLeft = actualRegion.left - offsetParentRegion.left;\n            var transform = \"translate3d(\".concat(Math.floor(newLeft), \"px, \").concat(Math.floor(newTop), \"px, 0px)\");\n            positionStyle = {\n              transform: transform,\n              top: 0,\n              left: 0\n            };\n          }\n\n          if (constrainRegion) {\n            positionStyle = positionStyle || {};\n\n            if (actualRegion.bottom >= constrainRegion.bottom) {\n              positionStyle.maxHeight = constrainRegion.bottom - actualRegion.top;\n            }\n          }\n\n          if (positionStyle) {\n            _this10.setState({\n              positionStyle: positionStyle\n            });\n          }\n        };\n\n        if (!skipReset) {\n          this.node.style.transform = 'translate3d(0px, 0px, 0px)';\n          this.node.style.visibility = 'hidden';\n          this.node.style.top = '0px';\n          this.node.style.left = '0px';\n        }\n\n        raf(doAlign);\n      }\n    }\n  }, {\n    key: \"setFocusedIndex\",\n    value: function setFocusedIndex(newFocusedItem) {\n      if (this.props.enableKeyboardNavigation) {\n        var focusedItem = this.state.focusedItem;\n\n        if (focusedItem === newFocusedItem) {\n          newFocusedItem = null;\n        }\n\n        this.scrollItemIntoView(newFocusedItem);\n        this.setState({\n          focusedItem: newFocusedItem\n        });\n      }\n    }\n  }, {\n    key: \"getItemDOMNodeByIndex\",\n    value: function getItemDOMNodeByIndex(index) {\n      var item = this.getItemByIndex(index);\n      var itemNode = item && item.getDOMNode();\n      return itemNode;\n    }\n  }, {\n    key: \"getItemByIndex\",\n    value: function getItemByIndex(index) {\n      return this.childrenRefs[index];\n    }\n  }, {\n    key: \"getItemPropsByIndex\",\n    value: function getItemPropsByIndex(index) {\n      var item = this.getItemByIndex(index);\n      return item && item.props;\n    }\n  }, {\n    key: \"getFocusedItemProps\",\n    value: function getFocusedItemProps() {\n      var focusedItemIndex = this.state.focusedItem;\n      var focusedItemProps = this.getItemPropsByIndex(focusedItemIndex);\n      return focusedItemProps;\n    }\n  }, {\n    key: \"getFocusedItem\",\n    value: function getFocusedItem() {\n      return this.state.focusedItem != null && this.getItemByIndex(this.state.focusedItem);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (!this.node) {\n        return;\n      }\n\n      if (this.node.focus) {\n        this.node.focus();\n      }\n    }\n  }, {\n    key: \"hasSubMenuOpened\",\n    value: function hasSubMenuOpened() {\n      return this.state.activeSubMenuIndex != null;\n    }\n  }, {\n    key: \"isSubMenu\",\n    value: function isSubMenu() {\n      return !!this.props.subMenu;\n    }\n  }, {\n    key: \"doesAnyItemHasSubMenu\",\n    value: function doesAnyItemHasSubMenu() {\n      var props = this.props;\n      return props.items && !!props.items.filter(function (item) {\n        return item.items && item.items.length;\n      }).length;\n    }\n  }, {\n    key: \"dosAnyItemHaveSelectInput\",\n    value: function dosAnyItemHaveSelectInput() {\n      var _this11 = this;\n\n      var props = this.props;\n      return props.items && !!props.items.filter(function (item) {\n        return item[_this11.props.nameProperty];\n      }).length;\n    }\n  }, {\n    key: \"hasGeneralFocus\",\n    value: function hasGeneralFocus() {\n      var hasFocus = this.hasFocus();\n\n      if (hasFocus) {\n        return hasFocus;\n      }\n\n      if (this.hasSubMenuOpened()) {\n        return this.hasSubMenuFocus();\n      }\n\n      return this.hasChildFocus();\n    }\n  }, {\n    key: \"hasSubMenuFocus\",\n    value: function hasSubMenuFocus() {\n      if (this.subMenu) {\n        return this.subMenu.hasFocus();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"hasFocus\",\n    value: function hasFocus() {\n      return global.document ? this.node === global.document.activeElement : false;\n    }\n  }, {\n    key: \"hasChildFocus\",\n    value: function hasChildFocus() {\n      if (!global.document) {\n        return false;\n      }\n\n      return (0, _containsNode.default)(this.node, global.document.activeElement);\n    }\n  }, {\n    key: \"onSubmenuWillUnmount\",\n    value: function onSubmenuWillUnmount(instance, config) {\n      var _this12 = this;\n\n      if (config && config.hasFocus) {\n        setTimeout(function () {\n          _this12.focus();\n        }, 0);\n      }\n    }\n  }, {\n    key: \"focusFirstItem\",\n    value: function focusFirstItem() {\n      var fistNonDisabledItem = (0, _getFirstNonDisabledItem.default)(this.props.items);\n      this.focusItem(fistNonDisabledItem);\n    }\n  }, {\n    key: \"focusItem\",\n    value: function focusItem(index) {\n      this.focus();\n      this.setFocusedIndex(index);\n    }\n  }, {\n    key: \"getSubmenuNode\",\n    value: function getSubmenuNode() {\n      return this.subMenu && this.subMenu.getNode();\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode() {\n      return this.node;\n    }\n  }, {\n    key: \"getSelected\",\n    value: function getSelected() {\n      return this.isSelectedControlled() ? this.props.selected : this.state.selected;\n    }\n  }, {\n    key: \"isSelectedControlled\",\n    value: function isSelectedControlled() {\n      return this.props.selected !== undefined;\n    }\n  }, {\n    key: \"handleSelectionChange\",\n    value: function handleSelectionChange(_ref6) {\n      var name = _ref6.name,\n          value = _ref6.value,\n          checked = _ref6.checked,\n          multiple = _ref6.multiple;\n\n      var newSelected = _objectSpread({}, this.getSelected());\n\n      if (!multiple) {\n        newSelected[name] = value;\n      } else if (checked) {\n        newSelected[name] = value === undefined ? name : value;\n      }\n\n      if (!checked) {\n        if (multiple || this.props.allowUnselect) {\n          delete newSelected[name];\n        }\n      }\n\n      this.setSelected(newSelected);\n    }\n  }, {\n    key: \"setSelected\",\n    value: function setSelected(newSelected) {\n      if (!this.isSelectedControlled()) {\n        this.setState({\n          selected: newSelected\n        });\n      }\n\n      this.props.onSelectionChange(newSelected);\n    }\n  }, {\n    key: \"handleSubmenuSelectionChange\",\n    value: function handleSubmenuSelectionChange(selected) {\n      this.setSelected(selected);\n    }\n  }, {\n    key: \"getExpandedIndex\",\n    value: function getExpandedIndex() {\n      return this.state.activeSubMenuIndex;\n    }\n  }, {\n    key: \"isSeparator\",\n    value: function isSeparator(index) {\n      var props = this.props;\n      var separatorIndexes = (0, _getSeparatorIndexes.default)(props.items);\n      return separatorIndexes.indexOf(index) !== -1;\n    }\n  }]);\n  return InovuaMenu;\n}(_reactClass.default);\n\nInovuaMenu.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-menu',\n  depth: 0,\n  rtl: false,\n  isMenu: true,\n  enableScroll: true,\n  submenuStyle: null,\n  scrollerProps: {},\n  theme: 'default',\n  dismissOnClick: true,\n  disableScroller: false,\n  shadow: true,\n  submenuAlignOffset: _submenuAlignPositions.alignOffsetLTR,\n  rtlSubmenuAlignOffset: _submenuAlignPositions.alignOffsetRTL,\n  showSubMenuDelay: 150,\n  hideSubMenuDelay: 150,\n  expanderSize: 10,\n  scrollOnMouseEnter: true,\n  onClick: function onClick() {},\n  onSelectionChange: function onSelectionChange() {},\n  columns: ['label'],\n  items: null,\n  maxHeight: 'none',\n  scrollArrowIncrementType: 'step',\n  enableAnimation: true,\n  fadeDuration: 100,\n  fadeTransitionFunction: 'ease',\n  enableRootAnimation: false,\n  itemStyle: {},\n  itemOverStyle: {},\n  itemDisabledStyle: {},\n  itemExpandedStyle: {},\n  cellStyle: {},\n  stopClickPropagation: true,\n  scrollProps: {},\n  inTriangleWaitDelay: 300,\n  alignOffset: {\n    x: 0,\n    y: 0\n  },\n  simulateClickOnEnterKeyPress: true,\n  enableKeyboardNavigation: true,\n  defaultFocusedItem: null,\n  autoFocus: false,\n  closeSubMenu: function closeSubMenu() {},\n  closeSubmenuRecursively: function closeSubmenuRecursively() {},\n  onDismiss: function onDismiss() {},\n  componentWillUnmount: function componentWillUnmount() {},\n  componentDidMount: function componentDidMount() {},\n  useMouseInTriangleCheck: false,\n  allowUnselect: false,\n  enableSelection: false,\n  nameProperty: 'name',\n  valueProperty: 'value',\n  selectionInputPosition: 'start',\n  defaultSelected: {},\n  selectOnClick: true,\n  checkIconSize: 16,\n  radioIconSize: 16,\n  notifyResizeDelay: 16,\n  browserNativeSelectInputs: false,\n  showWarnings: !_uglified.default\n};\nInovuaMenu.propTypes = {\n  rootClassName: _propTypes.default.string,\n  items: _propTypes.default.array,\n  columns: _propTypes.default.array,\n  dismissOnClick: _propTypes.default.bool,\n  autoDismiss: _propTypes.default.bool,\n  disableScroller: _propTypes.default.bool,\n  showSubMenuDelay: _propTypes.default.number,\n  hideSubMenuDelay: _propTypes.default.number,\n  notifyResizeDelay: _propTypes.default.number,\n  scrollOnMouseEnter: _propTypes.default.bool,\n  padding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  border: _propTypes.default.string,\n  borderRadius: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  rowActiveStyle: _propTypes.default.object,\n  rowOverStyle: _propTypes.default.object,\n  rowStyle: _propTypes.default.object,\n  maxHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  submenuMaxHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  minSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  maxSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  onClick: _propTypes.default.func,\n  showScrollArrows: _propTypes.default.bool,\n  scrollProps: _propTypes.default.object,\n  scrollArrowIncrementType: _propTypes.default.oneOf(['step', 'page']),\n  renderScroller: _propTypes.default.func,\n  enableAnimation: _propTypes.default.bool,\n  fadeDuration: _propTypes.default.number,\n  fadeTransitionFunction: _propTypes.default.string,\n  enableRootAnimation: _propTypes.default.bool,\n  itemStyle: _propTypes.default.object,\n  itemClassName: _propTypes.default.string,\n  itemActiveStyle: _propTypes.default.object,\n  itemActiveClassName: _propTypes.default.string,\n  itemOverStyle: _propTypes.default.object,\n  itemOverClassName: _propTypes.default.string,\n  itemDisabledStyle: _propTypes.default.object,\n  itemDisabledClassName: _propTypes.default.string,\n  itemExpandedStyle: _propTypes.default.object,\n  itemExpandedClassName: _propTypes.default.string,\n  itemFocusedStyle: _propTypes.default.object,\n  itemFocusedClassName: _propTypes.default.string,\n  itemOverFocusedStyle: _propTypes.default.object,\n  visible: _propTypes.default.bool,\n  itemHeight: _propTypes.default.number,\n  cellStyle: _propTypes.default.object,\n  secondaryLabelStyle: _propTypes.default.object,\n  labelStyle: _propTypes.default.object,\n  titleStyle: _propTypes.default.object,\n  alignTo: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func, _propTypes.default.string]),\n  inTriangleWaitDelay: _propTypes.default.number,\n  alignPositions: _propTypes.default.arrayOf(_propTypes.default.string),\n  alignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object, _propTypes.default.number]),\n  submenuAlignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.number]),\n  rtlSubmenuAlignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.number]),\n  alignPosition: _propTypes.default.oneOf([1, -1]),\n  rtl: _propTypes.default.bool,\n  enableKeyboardNavigation: _propTypes.default.bool,\n  defaultFocusedItem: _propTypes.default.number,\n  autoFocus: _propTypes.default.bool,\n  closeSubMenu: _propTypes.default.func,\n  closeSubmenuRecursively: _propTypes.default.func,\n  simulateClickOnEnterKeyPress: _propTypes.default.bool,\n  onChildClick: _propTypes.default.func,\n  onDismiss: _propTypes.default.func,\n  expanderStyle: _propTypes.default.object,\n  depth: _propTypes.default.number,\n  isMenu: _propTypes.default.bool,\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.string, _propTypes.default.bool, _propTypes.default.func]),\n  enableScroll: _propTypes.default.bool,\n  submenuStyle: _propTypes.default.object,\n  scrollerProps: _propTypes.default.object,\n  theme: _propTypes.default.string,\n  stopClickPropagation: _propTypes.default.bool,\n  componentWillUnmount: _propTypes.default.func,\n  componentDidMount: _propTypes.default.func,\n  itemStyleProps: _propTypes.default.object,\n  childrenLength: _propTypes.default.number,\n  separatorIndexes: _propTypes.default.string,\n  tableClassName: _propTypes.default.string,\n  shadow: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n  submenuProps: _propTypes.default.object,\n  menuHasSubmenu: _propTypes.default.bool,\n  depthSet: _propTypes.default.bool,\n  subMenu: _propTypes.default.bool,\n  parentIndex: _propTypes.default.number,\n  parentMenu: _propTypes.default.object,\n  onActivate: _propTypes.default.func,\n  onInactivate: _propTypes.default.func,\n  expander: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool, _propTypes.default.func]),\n  expanderSize: _propTypes.default.number,\n  overStyle: _propTypes.default.object,\n  activeStyle: _propTypes.default.object,\n  disabledStyle: _propTypes.default.object,\n  expandedStyle: _propTypes.default.object,\n  menuSeparatorStyle: _propTypes.default.object,\n  useMouseInTriangleCheck: _propTypes.default.bool,\n  selected: _propTypes.default.object,\n  defaultSelected: _propTypes.default.object,\n  allowUnselect: _propTypes.default.bool,\n  enableSelection: _propTypes.default.bool,\n  nativeScroll: _propTypes.default.bool,\n  scrollContainerProps: _propTypes.default.object,\n  nameProperty: _propTypes.default.string,\n  valueProperty: _propTypes.default.string,\n  renderCheckInput: _propTypes.default.func,\n  renderRadioInput: _propTypes.default.func,\n  onSelectionChange: _propTypes.default.func,\n  selectionInputPosition: _propTypes.default.oneOf(['start', 'end']),\n  selectOnClick: _propTypes.default.bool,\n  checkIconSize: _propTypes.default.number,\n  radioIconSize: _propTypes.default.number,\n  showWarnings: _propTypes.default.bool,\n  updatePositionOnScroll: _propTypes.default.bool,\n  browserNativeSelectInputs: _propTypes.default.bool\n};\nvar _default = InovuaMenu;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/packages/Menu/src/Menu.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_toConsumableArray2","_extends2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_propTypes","_reactClass","_regionAlign","_uglified","_shallowequal","_ArrowScroller","_MenuItem","_MenuSeparator","_containsNode","_cleanProps","_join","_assign","_getConstrainRegion","_isMobile","_prepareStyle","_getFirstNonDisabledItem","_getNextNavigableItem","_getSeparatorIndexes","_prepareAlignOffset","_getSingleSelectNames","_increaseColSpan","_getRegionRelativeToParent","_shouldComponentUpdate2","_getSubMenuStyle","_getItemStyleProps","_submenuAlignPositions","_ua","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","emptyFn","raf","global","requestAnimationFrame","getAlignToRegion","alignTo","node","document","querySelector","from","InovuaMenu","_Component","_super","props","_this","checkAlignment","undefined","updatePositionOnScroll","updatePosition","state","mouseOver","hidden","enableAnimation","transitionEnded","hasScroll","activeSubMenuIndex","nextActiveSubMenuIndex","showUpArrow","showDownArrow","focusedItem","enableKeyboardNavigation","defaultFocusedItem","selected","defaultSelected","setupShowHideDelay","setRootRef","ref","setItemRef","index","childrenRefs","setSubMenuRef","subMenu","setSubMenuWrapRef","subMenuWrap","setScrollerRef","scroller","setTableRef","table","shouldComponentUpdate","nextProps","componentWillUnmount","componentIsMounted","chidrenRefs","hasFocus","depth","componentDidUpdate","prevProps","prevState","autoFocus","focus","componentDidMount","_this2","visible","setupEnterAnimation","window","addEventListener","handleDocumentScroll","passive","UNSAFE_componentWillReceiveProps","nextState","setState","positionStyle","constrainTo","render","style","className","prepareClassName","renderTable","scrollerArrow","showScrollArrows","createElement","tabIndex","propTypes","onMouseLeave","handleMouseLeave","onMouseEnter","handleMouseEnter","onKeyDown","handleKeyDown","onBlur","handleOnBlur","renderSubMenu","disableScroller","getScrollerProps","concat","rootClassName","tableClassName","cellSpacing","cellPadding","renderItems","_this3","items","commonProps","getCommonItemProps","siblingItemHasSubMenu","doesAnyItemHasSubMenu","siblingItemHasSelectInput","dosAnyItemHaveSelectInput","hasDescription","item","secondaryLabel","hasIcon","icon","map","menuSeparatorStyle","columns","name","isDescription","secondaryLabelStyle","isIcon","labelStyle","column","hasSubMenu","children","focused","expanded","expandedIndex","itemClassName","selectionProps","getSelectionProps","enableSelection","selectionInputPosition","increaseFirstColumnColSpan","increaseLastColumnColSpan","itemProps","disabled","theme","Component","itemFactory","getSelected","singleSelectNames","nameProperty","valueProperty","multiple","checked","allowUnselect","browserNativeSelectInputs","renderCheckInput","renderRadioInput","_objectSpread2","menuHasSubmenu","itemStyleProps","expanderStyle","expanderSize","globalCellStyle","cellStyle","itemDisabledStyle","itemDisabledClassName","itemOverStyle","itemActiveStyle","showWarnings","titleStyle","onMenuItemClick","onMenuItemMouseEnter","onMenuItemMouseLeave","onSubmenuWillUnmount","onMenuItemExpanderClick","handleSelectionChange","selectOnClick","expander","rtl","itemHeight","checkIconSize","radioIconSize","closeSubmenuRecursively","closeSubMenu","getExpandedIndex","domNode","menuProps","getSubMenuProps","wrapperStyle","bind","alignPositions","getDefaultAlignPositions","wrapperClassName","handleSubMenuMouseEnter","handleSubMenuMouseLeave","hasItemSubMenu","getItemsByIndex","overridingProps","submenuProps","onDismiss","parentMenu","submenuWillUnmount","parentIndex","maxHeight","submenuMaxHeight","onActivate","onSubMenuActivate","onInactivate","onSubMenuInactivate","scrollerProps","onSelectionChange","handleSubmenuSelectionChange","alignPosition","submenuAlignPosition","onClick","onChildClick","getAlignPositions","alignPositionRTL","alignPositionLTR","_this4","submenu","scrollProps","renderScroller","nativeScroll","scrollContainerProps","notifyResizeDelay","vertical","scrollOnMouseEnter","onHasScrollChange","absolute","shadow","position","transitionStart","event","mouseInside","setNextSubmenu","stop","stopPropagation","handleArrowUp","handleArrowDown","handleArrowLeft","handleArrowRight","handleEnterOnFocusedItem","handleSpaceOnFocusedItem","lastItemIndex","focusedItemIndex","newFocusedItemIndex","setFocusedIndex","openSubMenuAction","closeSubMenuAction","getFocusedItem","simulateClickOnEnterKeyPress","handleClick","activeItemProps","getFocusedItemProps","_this5","preventOnBlurRecursiveClose","dismissTriggeredByBlur","setTimeout","hasGeneralFocus","dismiss","IS_IE","hideSubMenuDelay","scrollItemIntoView","itemNode","getItemDOMNodeByIndex","scrollIntoView","hasSubMenuOpened","isSubMenu","getItemByIndex","hasSubmenu","focusFirstItem","menuOffset","getOffset","setSubMenu","activated","options","mouseOverSubMenu","isSubMenuActive","subMenuActive","closeSubmenuTimeout","clearTimeout","submenuConfig","_this6","ts","nextItem","nextTimestamp","timestamp","nextOffset","mouseHasEnteredSubmenuParentItem","itemOverIndex","_ref","_ref2","leaveOffset","elementAtMousePosition","elementFromPoint","x","y","delayCloseSubmenu","showTimeout","_this7","closeSubmenuTimeoutId","removeMouseMoveListener","onWindowMouseMove","removeEventListener","_ref3","_ref3$index","callback","_ref4","_ref4$menuOffset","_ref4$index","nativeEvent","expanderClick","stopped","isPropagationStopped","stopClickPropagation","offset","pageX","pageY","currentTarget","onTouchStart","dismissOnClick","autoDismiss","isSeparator","_this8","_ref5","hideTimeout","showSubMenuDelay","_this9","enableRootAnimation","skipReset","_this10","doAlign","visibility","alignOffset","domRegion","actualRegion","clone","constrainRegion","alignRegion","constrain","offsetParent","IS_FF","body","getComputedStyle","offsetParentRect","getBoundingClientRect","offsetParentRegion","top","left","newTop","newLeft","transform","Math","floor","bottom","newFocusedItem","getDOMNode","getItemPropsByIndex","focusedItemProps","_this11","hasSubMenuFocus","hasChildFocus","activeElement","instance","config","_this12","fistNonDisabledItem","focusItem","getSubmenuNode","getNode","isSelectedControlled","_ref6","newSelected","setSelected","separatorIndexes","indexOf","defaultProps","isMenu","enableScroll","submenuStyle","submenuAlignOffset","alignOffsetLTR","rtlSubmenuAlignOffset","alignOffsetRTL","scrollArrowIncrementType","fadeDuration","fadeTransitionFunction","itemStyle","itemExpandedStyle","inTriangleWaitDelay","useMouseInTriangleCheck","string","array","bool","number","padding","oneOfType","border","borderRadius","rowActiveStyle","rowOverStyle","rowStyle","minSize","shape","height","width","maxSize","func","oneOf","itemActiveClassName","itemOverClassName","itemExpandedClassName","itemFocusedStyle","itemFocusedClassName","itemOverFocusedStyle","arrayOf","childrenLength","depthSet","overStyle","activeStyle","disabledStyle","expandedStyle","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactClass = _interopRequireDefault(require(\"../../../packages/react-class\"));\n\nvar _regionAlign = _interopRequireDefault(require(\"../../../packages/region-align\"));\n\nvar _uglified = _interopRequireDefault(require(\"../../../packages/uglified\"));\n\nvar _shallowequal = _interopRequireDefault(require(\"../../../common/shallowequal\"));\n\nvar _ArrowScroller = _interopRequireDefault(require(\"../../ArrowScroller\"));\n\nvar _MenuItem = _interopRequireDefault(require(\"./MenuItem\"));\n\nvar _MenuSeparator = _interopRequireDefault(require(\"./MenuSeparator\"));\n\nvar _containsNode = _interopRequireDefault(require(\"../../../common/containsNode\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nvar _join = _interopRequireDefault(require(\"../../../common/join\"));\n\nvar _assign = _interopRequireDefault(require(\"../../../common/assign\"));\n\nvar _getConstrainRegion = _interopRequireDefault(require(\"../../../common/getConstrainRegion\"));\n\nvar _isMobile = _interopRequireDefault(require(\"../../../common/isMobile\"));\n\nvar _prepareStyle = _interopRequireDefault(require(\"./utils/prepareStyle\"));\n\nvar _getFirstNonDisabledItem = _interopRequireDefault(require(\"./utils/getFirstNonDisabledItem\"));\n\nvar _getNextNavigableItem = _interopRequireDefault(require(\"./utils/getNextNavigableItem\"));\n\nvar _getSeparatorIndexes = _interopRequireDefault(require(\"./utils/getSeparatorIndexes\"));\n\nvar _prepareAlignOffset = _interopRequireDefault(require(\"./utils/prepareAlignOffset\"));\n\nvar _getSingleSelectNames = _interopRequireDefault(require(\"./utils/getSingleSelectNames\"));\n\nvar _increaseColSpan = require(\"./utils/increaseColSpan\");\n\nvar _getRegionRelativeToParent = _interopRequireDefault(require(\"./getRegionRelativeToParent\"));\n\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"../../../common/shouldComponentUpdate\"));\n\nvar _getSubMenuStyle = _interopRequireDefault(require(\"./getSubMenuStyle\"));\n\nvar _getItemStyleProps = _interopRequireDefault(require(\"./utils/getItemStyleProps\"));\n\nvar _submenuAlignPositions = require(\"./submenuAlignPositions\");\n\nvar _ua = require(\"../../../common/ua\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction emptyFn() {}\n\nvar raf = global.requestAnimationFrame;\n\nvar getAlignToRegion = function getAlignToRegion(alignTo, node) {\n  if (typeof alignTo === 'function') {\n    alignTo = alignTo(node);\n  }\n\n  if (typeof alignTo == 'string') {\n    alignTo = global.document ? global.document.querySelector(alignTo) : alignTo;\n  }\n\n  return _regionAlign.default.from(alignTo);\n};\n\nvar InovuaMenu = function (_Component) {\n  (0, _inherits2.default)(InovuaMenu, _Component);\n\n  var _super = _createSuper(InovuaMenu);\n\n  function InovuaMenu(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaMenu);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"updatePosition\", function () {\n      _this.checkAlignment(undefined, true);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleDocumentScroll\", function () {\n      if (_this.props.updatePositionOnScroll) {\n        _this.updatePosition();\n      }\n    });\n    _this.state = {\n      mouseOver: false,\n      hidden: true,\n      enableAnimation: false,\n      transitionEnded: false,\n      hasScroll: false,\n      activeSubMenuIndex: null,\n      nextActiveSubMenuIndex: null,\n      showUpArrow: false,\n      showDownArrow: true,\n      focusedItem: props.enableKeyboardNavigation ? props.defaultFocusedItem : null,\n      selected: props.defaultSelected\n    };\n\n    _this.setupShowHideDelay();\n\n    _this.setRootRef = function (ref) {\n      _this.node = ref;\n    };\n\n    _this.setItemRef = function (index) {\n      return function (ref) {\n        if (!_this.childrenRefs) {\n          _this.childrenRefs = [];\n        }\n\n        _this.childrenRefs[index] = ref;\n      };\n    };\n\n    _this.setSubMenuRef = function (ref) {\n      _this.subMenu = ref;\n    };\n\n    _this.setSubMenuWrapRef = function (ref) {\n      _this.subMenuWrap = ref;\n    };\n\n    _this.setScrollerRef = function (ref) {\n      _this.scroller = ref;\n    };\n\n    _this.setTableRef = function (ref) {\n      _this.table = ref;\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaMenu, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return (0, _shouldComponentUpdate2.default)(this, nextProps, nextProps);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.componentIsMounted = false;\n      this.chidrenRefs = null;\n      this.props.componentWillUnmount(this, {\n        hasFocus: this.hasFocus(),\n        depth: this.props.depth\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.autoFocus && prevState.hidden && !this.state.hidden) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.componentIsMounted = true;\n\n      if (this.props.visible === false) {\n        return;\n      }\n\n      if (this.props.componentDidMount) {\n        this.props.componentDidMount(this);\n      }\n\n      this.checkAlignment();\n      this.setupEnterAnimation();\n\n      if (this.props.autoFocus) {\n        requestAnimationFrame(function () {\n          _this2.focus();\n        });\n      }\n\n      if (this.props.updatePositionOnScroll) {\n        window.addEventListener('scroll', this.handleDocumentScroll, {\n          passive: true\n        });\n      }\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps, nextState) {\n      if (this.props.visible && !nextProps.visible) {\n        this.setState({\n          positionStyle: null\n        });\n      }\n\n      if (!this.props.visible && nextProps.visible || !(0, _shallowequal.default)(this.props.alignTo, nextProps.alignTo) || nextProps.constrainTo != this.props.constrainTo) {\n        this.checkAlignment(nextProps);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = this.state,\n          props = this.props;\n      var style = (0, _prepareStyle.default)(props, state);\n      var className = this.prepareClassName(props, state);\n      var table = this.renderTable();\n      var scrollerArrow = props.showScrollArrows === undefined ? 'auto' : !!props.showScrollArrows;\n      return _react.default.createElement(\"div\", (0, _extends2.default)({\n        tabIndex: 0\n      }, (0, _cleanProps.default)(props, InovuaMenu.propTypes), {\n        ref: this.setRootRef,\n        onMouseLeave: this.handleMouseLeave,\n        onMouseEnter: this.handleMouseEnter,\n        onKeyDown: this.handleKeyDown,\n        onBlur: this.handleOnBlur,\n        className: className,\n        style: style\n      }), this.state.activeSubMenuIndex !== null && this.renderSubMenu(props, state), props.disableScroller ? table : _react.default.createElement(_ArrowScroller.default, (0, _extends2.default)({\n        scroller: scrollerArrow\n      }, this.getScrollerProps()), table));\n    }\n  }, {\n    key: \"renderTable\",\n    value: function renderTable() {\n      var props = this.props,\n          state = this.state;\n      var className = (0, _join.default)(\"\".concat(props.rootClassName, \"__table\"), props.tableClassName);\n      return _react.default.createElement(\"table\", {\n        cellSpacing: 0,\n        cellPadding: 0,\n        className: className,\n        ref: this.setTableRef\n      }, _react.default.createElement(\"tbody\", null, this.renderItems()));\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this3 = this;\n\n      var props = this.props,\n          state = this.state;\n\n      if (!props.items) {\n        return null;\n      }\n\n      var commonProps = this.getCommonItemProps();\n      var siblingItemHasSubMenu = this.doesAnyItemHasSubMenu();\n      var siblingItemHasSelectInput = this.dosAnyItemHaveSelectInput();\n      var hasDescription = props.items.filter(function (item) {\n        return !!item.secondaryLabel;\n      }).length;\n      var hasIcon = props.items.filter(function (item) {\n        return !!item.icon;\n      }).length;\n      return props.items.map(function (item, index, items) {\n        if (item === '-') {\n          return _react.default.createElement(_MenuSeparator.default, {\n            style: props.menuSeparatorStyle,\n            key: index,\n            rootClassName: props.rootClassName\n          });\n        }\n\n        var columns = props.columns;\n\n        if (hasDescription) {\n          columns = [].concat((0, _toConsumableArray2.default)(columns), [{\n            name: 'secondaryLabel',\n            isDescription: true,\n            style: _objectSpread(_objectSpread({}, props.secondaryLabelStyle), item.secondaryLabelStyle)\n          }]);\n        }\n\n        if (hasIcon) {\n          columns = [{\n            name: 'icon',\n            isIcon: true\n          }].concat((0, _toConsumableArray2.default)(columns));\n        }\n\n        if (props.labelStyle || item.labelStyle) {\n          columns = columns.map(function (column) {\n            if (!column) {\n              return column;\n            }\n\n            if (typeof column === 'string' && column === 'label') {\n              return {\n                name: 'label',\n                style: _objectSpread(_objectSpread({}, props.labelStyle), item.labelStyle)\n              };\n            }\n\n            if (column && column.name && column.name === 'label') {\n              return _objectSpread(_objectSpread({}, column), {}, {\n                style: _objectSpread(_objectSpread({}, columns.style), props.labelStyle)\n              });\n            }\n\n            return column;\n          });\n        }\n\n        var hasSubMenu = item.items && !!item.items.length || item.children && !!item.children.length;\n        var focused = state.focusedItem === index;\n        var expanded = commonProps.expandedIndex === index;\n        var className = props.itemClassName;\n\n        var selectionProps = _this3.getSelectionProps(item);\n\n        if (props.enableSelection && siblingItemHasSelectInput && !selectionProps) {\n          if (props.selectionInputPosition === 'start') {\n            columns = (0, _increaseColSpan.increaseFirstColumnColSpan)(columns);\n          } else {\n            columns = (0, _increaseColSpan.increaseLastColumnColSpan)(columns);\n          }\n        }\n\n        if (!hasSubMenu && siblingItemHasSubMenu) {\n          columns = (0, _increaseColSpan.increaseLastColumnColSpan)(columns);\n        }\n\n        var itemProps = _objectSpread(_objectSpread(_objectSpread({\n          index: index,\n          item: item,\n          hasSubMenu: hasSubMenu,\n          items: items,\n          focused: focused,\n          expanded: expanded,\n          className: className,\n          columns: columns,\n          key: index,\n          disabled: item.disabled,\n          theme: props.theme,\n          ref: _this3.setItemRef(index)\n        }, commonProps), selectionProps), item.props);\n\n        var Component = props.itemFactory || _MenuItem.default;\n        return _react.default.createElement(Component, itemProps);\n      });\n    }\n  }, {\n    key: \"getSelectionProps\",\n    value: function getSelectionProps(item) {\n      var props = this.props;\n\n      if (!props.items || props.items && !props.items.length) {\n        return null;\n      }\n\n      var selected = this.getSelected();\n      var singleSelectNames = (0, _getSingleSelectNames.default)({\n        items: props.items,\n        nameProperty: props.nameProperty\n      });\n      var selectionProps;\n\n      if (props.enableSelection) {\n        var value = item[props.valueProperty];\n        var name = item[props.nameProperty];\n        var multiple = singleSelectNames && !singleSelectNames[name];\n        var checked = multiple ? value !== undefined ? selected[name] === value : selected[name] === name : selected[name] === value;\n\n        if (name) {\n          selectionProps = {\n            name: name,\n            value: value,\n            checked: checked,\n            multiple: multiple,\n            allowUnselect: props.allowUnselect,\n            enableSelection: true,\n            browserNativeSelectInputs: props.browserNativeSelectInputs,\n            renderCheckInput: item.renderCheckInput !== undefined ? item.renderCheckInput : props.renderCheckInput,\n            renderRadioInput: item.renderRadioInput !== undefined ? item.renderRadioInput : props.renderRadioInput,\n            selectionInputPosition: item.selectionInputPosition !== undefined ? item.selectionInputPosition : props.selectionInputPosition\n          };\n        }\n      }\n\n      return selectionProps;\n    }\n  }, {\n    key: \"getCommonItemProps\",\n    value: function getCommonItemProps() {\n      var _objectSpread2;\n\n      var props = this.props;\n      var menuHasSubmenu = !!props.items.filter(function (item) {\n        return item.items && item.items.length;\n      }).length;\n      var itemStyleProps = (0, _getItemStyleProps.default)(props);\n      return _objectSpread((_objectSpread2 = {\n        menuHasSubmenu: menuHasSubmenu,\n        expanderStyle: props.expanderStyle,\n        expanderSize: props.expanderSize,\n        globalCellStyle: props.cellStyle,\n        itemDisabledStyle: props.itemDisabledStyle,\n        itemDisabledClassName: props.itemDisabledClassName,\n        itemOverStyle: props.itemOverStyle,\n        itemActiveStyle: props.itemActiveStyle\n      }, (0, _defineProperty2.default)(_objectSpread2, \"menuHasSubmenu\", props.menuHasSubmenu), (0, _defineProperty2.default)(_objectSpread2, \"rootClassName\", props.rootClassName), (0, _defineProperty2.default)(_objectSpread2, \"showWarnings\", props.showWarnings), (0, _defineProperty2.default)(_objectSpread2, \"titleStyle\", props.titleStyle), (0, _defineProperty2.default)(_objectSpread2, \"onClick\", this.onMenuItemClick), (0, _defineProperty2.default)(_objectSpread2, \"onMouseOver\", this.onMenuItemMouseEnter), (0, _defineProperty2.default)(_objectSpread2, \"onMouseOut\", this.onMenuItemMouseLeave), (0, _defineProperty2.default)(_objectSpread2, \"submenuWillUnmount\", this.onSubmenuWillUnmount), (0, _defineProperty2.default)(_objectSpread2, \"onExpanderClick\", this.onMenuItemExpanderClick), (0, _defineProperty2.default)(_objectSpread2, \"onSelectChange\", this.handleSelectionChange), (0, _defineProperty2.default)(_objectSpread2, \"selectOnClick\", props.selectOnClick), (0, _defineProperty2.default)(_objectSpread2, \"expander\", props.expander), (0, _defineProperty2.default)(_objectSpread2, \"rtl\", props.rtl), (0, _defineProperty2.default)(_objectSpread2, \"height\", props.itemHeight), (0, _defineProperty2.default)(_objectSpread2, \"checkIconSize\", props.checkIconSize), (0, _defineProperty2.default)(_objectSpread2, \"radioIconSize\", props.radioIconSize), (0, _defineProperty2.default)(_objectSpread2, \"closeSubmenuRecursively\", this.closeSubmenuRecursively), (0, _defineProperty2.default)(_objectSpread2, \"closeSubMenu\", this.closeSubMenu), (0, _defineProperty2.default)(_objectSpread2, \"expandedIndex\", this.getExpandedIndex()), _objectSpread2), itemStyleProps);\n    }\n  }, {\n    key: \"renderSubMenu\",\n    value: function renderSubMenu(props, state) {\n      var domNode = this.node;\n      var menuProps = this.getSubMenuProps();\n\n      var wrapperStyle = _getSubMenuStyle.default.bind(this)(_objectSpread(_objectSpread({}, props), {}, {\n        alignPositions: this.getDefaultAlignPositions()\n      }), state, domNode);\n\n      var wrapperClassName = \"\".concat(this.props.rootClassName, \"__submenu-wrapper\");\n      return _react.default.createElement(\"div\", {\n        className: wrapperClassName,\n        ref: this.setSubMenuWrapRef,\n        style: wrapperStyle,\n        onMouseEnter: this.handleSubMenuMouseEnter,\n        onMouseLeave: this.handleSubMenuMouseLeave\n      }, _react.default.createElement(InovuaMenu, (0, _extends2.default)({\n        key: state.activeSubMenuIndex\n      }, menuProps)));\n    }\n  }, {\n    key: \"hasItemSubMenu\",\n    value: function hasItemSubMenu(index) {\n      var items = this.getItemsByIndex(index);\n      return items && items.length;\n    }\n  }, {\n    key: \"getItemsByIndex\",\n    value: function getItemsByIndex(index) {\n      var item = this.props.items && this.props.items[index];\n\n      if (!item) {\n        return null;\n      }\n\n      var items = item && item.items;\n      return items;\n    }\n  }, {\n    key: \"getSubMenuProps\",\n    value: function getSubMenuProps() {\n      var props = this.props,\n          state = this.state;\n      var index = this.state.activeSubMenuIndex;\n      var items = this.getItemsByIndex(index);\n      var item = this.props.items[index];\n\n      var overridingProps = _objectSpread(_objectSpread({}, this.props.submenuProps), item.menuProps);\n\n      if (overridingProps.selected === undefined && overridingProps.defaultSelected === undefined) {\n        overridingProps.selected = this.getSelected();\n      }\n\n      var menuProps = _objectSpread(_objectSpread(_objectSpread({}, this.props), {}, {\n        onDismiss: emptyFn\n      }, overridingProps), {}, {\n        items: items,\n        depth: props.depth + 1,\n        ref: this.setSubMenuRef,\n        subMenu: true,\n        parentMenu: this,\n        closeSubMenu: this.closeSubMenu,\n        closeSubmenuRecursively: this.closeSubmenuRecursively,\n        componentWillUnmount: this.submenuWillUnmount,\n        parentIndex: index,\n        maxHeight: state.submenuMaxHeight || props.submenuMaxHeight || state.maxHeight || props.maxHeight,\n        onActivate: this.onSubMenuActivate,\n        onInactivate: this.onSubMenuInactivate,\n        scrollerProps: props.scrollerProps,\n        constrainTo: props.constrainTo,\n        expander: props.expander,\n        onSelectionChange: this.handleSubmenuSelectionChange,\n        alignPosition: state.submenuAlignPosition\n      });\n\n      delete menuProps.autoFocus;\n      delete menuProps.className;\n      delete menuProps.onClick;\n      delete menuProps.defaultFocusedItem;\n      delete menuProps.onChildClick;\n      delete menuProps.visible;\n      return menuProps;\n    }\n  }, {\n    key: \"getAlignPositions\",\n    value: function getAlignPositions(props) {\n      if (props.alignPositions == null) {\n        return this.getDefaultAlignPositions();\n      }\n\n      return props.alignPositions;\n    }\n  }, {\n    key: \"getDefaultAlignPositions\",\n    value: function getDefaultAlignPositions() {\n      var props = this.props;\n      return props.rtl ? _submenuAlignPositions.alignPositionRTL : _submenuAlignPositions.alignPositionLTR;\n    }\n  }, {\n    key: \"getScrollerProps\",\n    value: function getScrollerProps() {\n      var _this4 = this;\n\n      var props = this.props,\n          state = this.state;\n      var className = (0, _join.default)(props.scrollerProps.className, \"\".concat(props.rootClassName, \"__scroll-container\"));\n      var style = (0, _assign.default)({}, props.scrollerProps.style);\n      var maxHeight = state.maxHeight != undefined && props.submenu ? state.maxHeight : props.maxHeight;\n\n      if (maxHeight != null) {\n        (0, _assign.default)(style, {\n          maxHeight: maxHeight\n        });\n      }\n\n      var scrollProps = _objectSpread(_objectSpread({}, props.scrollerProps), {}, {\n        renderScroller: props.renderScroller,\n        nativeScroll: props.nativeScroll,\n        scrollContainerProps: props.scrollContainerProps,\n        className: className,\n        notifyResizeDelay: props.notifyResizeDelay,\n        ref: this.setScrollerRef,\n        style: style,\n        vertical: true,\n        theme: props.theme,\n        scrollOnMouseEnter: props.scrollOnMouseEnter,\n        onHasScrollChange: function onHasScrollChange(hasScroll) {\n          return _this4.setState({\n            hasScroll: hasScroll\n          });\n        }\n      });\n\n      return scrollProps;\n    }\n  }, {\n    key: \"prepareClassName\",\n    value: function prepareClassName(props, state) {\n      var hidden = props.visible != undefined ? !props.visible : state.hidden;\n      var className = (0, _join.default)(props.rootClassName, props.theme && \"\".concat(props.rootClassName, \"--theme-\").concat(props.theme), props.className, !props.visible || props.items && !props.items.length && \"\".concat(props.rootClassName, \"--no-display\"), props.absolute && \"\".concat(props.rootClassName, \"--absolute\"), !props.rtl ? \"\".concat(props.rootClassName, \"--ltr\") : \"\".concat(props.rootClassName, \"--rtl\"), hidden && \"\".concat(props.rootClassName, \"--hidden\"), _isMobile.default && \"\".concat(props.rootClassName, \"--mobile\"), props.subMenu && \"\".concat(props.rootClassName, \"__submenu\"), \"\".concat(props.rootClassName, \"--depth-\").concat(props.depth), state.hasScroll && \"\".concat(props.rootClassName, \"--has-overflow\"), props.shadow && \"\".concat(props.rootClassName, \"--shadow\"), state.hasScroll && \"\".concat(props.rootClassName, \"--has-scroll\"));\n\n      if (props.alignPosition !== undefined) {\n        var position = props.alignPosition === 1 ? 'up' : 'down';\n        className = (0, _join.default)(className, \"\".concat(props.rootClassName, \"--position-\").concat(position));\n      }\n\n      if (state.enableAnimation) {\n        className = (0, _join.default)(className, \"\".concat(props.rootClassName, \"--animation-enabled\"), state.transitionEnded && \"\".concat(props.rootClassName, \"--transition-end\"), state.transitionStart && \"\".concat(props.rootClassName, \"--transition-start\"));\n      }\n\n      return className;\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter(event) {\n      if (typeof this.props.onMouseEnter === 'function') {\n        this.props.onMouseEnter(event);\n      }\n\n      this.setState({\n        mouseInside: true\n      });\n      this.onActivate();\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave(event) {\n      if (typeof this.props.onMouseLeave === 'function') {\n        this.props.onMouseLeave(event);\n      }\n\n      this.setNextSubmenu();\n      this.setState({\n        mouseInside: false\n      });\n\n      if (!this.state.activeSubMenuIndex && !this.state.nextActiveSubMenuIndex) {\n        this.onInactivate({\n          hasFocus: this.hasFocus(),\n          parentIndex: this.props.parentIndex\n        });\n      }\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      if (typeof this.props.onKeyDown === 'function') {\n        this.props.onKeyDown(event);\n      }\n\n      if (!this.props.enableKeyboardNavigation) {\n        return;\n      }\n\n      var stop = function stop(event) {\n        event.stopPropagation();\n      };\n\n      stop(event);\n\n      switch (event.key) {\n        case 'ArrowUp':\n          this.handleArrowUp(event);\n          break;\n\n        case 'ArrowDown':\n          this.handleArrowDown(event);\n          break;\n\n        case 'ArrowLeft':\n          this.handleArrowLeft(event);\n          break;\n\n        case 'ArrowRight':\n          this.handleArrowRight(event);\n          break;\n\n        case 'Enter':\n          this.handleEnterOnFocusedItem(event);\n          break;\n\n        case ' ':\n          this.handleSpaceOnFocusedItem(event);\n          break;\n      }\n    }\n  }, {\n    key: \"handleArrowUp\",\n    value: function handleArrowUp(event) {\n      var lastItemIndex = this.props.items && this.props.items.length ? this.props.items.length : null;\n      var props = this.props;\n      var focusedItemIndex = this.state.focusedItem != null ? this.state.focusedItem : lastItemIndex;\n      var newFocusedItemIndex = (0, _getNextNavigableItem.default)(props.items, focusedItemIndex, -1);\n\n      if (newFocusedItemIndex == null) {\n        return;\n      }\n\n      this.setFocusedIndex(newFocusedItemIndex);\n    }\n  }, {\n    key: \"handleArrowDown\",\n    value: function handleArrowDown(event) {\n      var props = this.props;\n      var focusedItemIndex = this.state.focusedItem != null ? this.state.focusedItem : -1;\n      var newFocusedItemIndex = (0, _getNextNavigableItem.default)(props.items, focusedItemIndex, 1);\n\n      if (newFocusedItemIndex == null) {\n        return;\n      }\n\n      this.setFocusedIndex(newFocusedItemIndex);\n    }\n  }, {\n    key: \"handleArrowLeft\",\n    value: function handleArrowLeft(event) {\n      if (this.props.rtl) {\n        this.openSubMenuAction(this.state.focusedItem);\n      } else {\n        this.closeSubMenuAction();\n      }\n    }\n  }, {\n    key: \"handleArrowRight\",\n    value: function handleArrowRight(event) {\n      if (this.props.rtl) {\n        this.closeSubMenuAction();\n      } else {\n        this.openSubMenuAction(this.state.focusedItem);\n      }\n    }\n  }, {\n    key: \"handleEnterOnFocusedItem\",\n    value: function handleEnterOnFocusedItem(event) {\n      var focusedItem = this.getFocusedItem();\n\n      if (this.props.simulateClickOnEnterKeyPress && focusedItem != null && typeof focusedItem.handleClick === 'function') {\n        focusedItem.handleClick({\n          stopPropagation: function stopPropagation() {}\n        });\n      }\n    }\n  }, {\n    key: \"handleSpaceOnFocusedItem\",\n    value: function handleSpaceOnFocusedItem() {\n      var activeItemProps = this.getFocusedItemProps();\n\n      if (!activeItemProps) {\n        return;\n      }\n\n      this.handleSelectionChange({\n        name: activeItemProps.name,\n        value: activeItemProps.value,\n        checked: !activeItemProps.checked,\n        multiple: activeItemProps.multiple\n      });\n    }\n  }, {\n    key: \"handleOnBlur\",\n    value: function handleOnBlur(event) {\n      var _this5 = this;\n\n      if (typeof this.props.onBlur === 'function') {\n        this.props.onBlur(event);\n      }\n\n      event.stopPropagation();\n\n      if (this.preventOnBlurRecursiveClose) {\n        return;\n      }\n\n      this.dismissTriggeredByBlur = true;\n      setTimeout(function () {\n        if (!_this5.hasGeneralFocus()) {\n          _this5.dismiss(event);\n        }\n      }, _ua.IS_IE ? this.props.hideSubMenuDelay : 20);\n    }\n  }, {\n    key: \"dismiss\",\n    value: function dismiss(event) {\n      this.closeSubmenuRecursively();\n      this.props.onDismiss(event);\n    }\n  }, {\n    key: \"scrollItemIntoView\",\n    value: function scrollItemIntoView(index) {\n      var itemNode = this.getItemDOMNodeByIndex(index);\n\n      if (!this.scroller || !itemNode) {\n        return;\n      }\n\n      this.scroller.scrollIntoView(itemNode);\n    }\n  }, {\n    key: \"closeSubmenuRecursively\",\n    value: function closeSubmenuRecursively() {\n      this.closeSubMenu();\n      this.props.closeSubmenuRecursively();\n    }\n  }, {\n    key: \"closeSubMenuAction\",\n    value: function closeSubMenuAction() {\n      if (this.hasSubMenuOpened()) {\n        this.closeSubMenu();\n      } else if (this.isSubMenu()) {\n        this.preventOnBlurRecursiveClose = true;\n        this.props.closeSubMenu({\n          autoFocus: true\n        });\n      }\n    }\n  }, {\n    key: \"openSubMenuAction\",\n    value: function openSubMenuAction(focusedItemIndex) {\n      var focusedItem = this.getItemByIndex(focusedItemIndex);\n\n      if (!focusedItem) {\n        return;\n      }\n\n      if (focusedItem && !focusedItem.hasSubmenu()) {\n        return;\n      }\n\n      if (focusedItemIndex === this.state.activeSubMenuIndex) {\n        this.subMenu && this.subMenu.focusFirstItem();\n        return;\n      }\n\n      var menuOffset = focusedItem && focusedItem.getOffset();\n      this.setSubMenu({\n        menuOffset: menuOffset,\n        index: focusedItemIndex\n      });\n    }\n  }, {\n    key: \"onActivate\",\n    value: function onActivate() {\n      if (!this.state.activated) {\n        this.setState({\n          activated: true\n        });\n\n        if (this.props.onActivate) {\n          this.props.onActivate();\n        }\n      }\n    }\n  }, {\n    key: \"onInactivate\",\n    value: function onInactivate(options) {\n      if (this.state.activated) {\n        this.setState({\n          activated: false\n        });\n\n        if (this.props.onInactivate) {\n          this.props.onInactivate(options);\n        }\n      }\n    }\n  }, {\n    key: \"handleSubMenuMouseEnter\",\n    value: function handleSubMenuMouseEnter() {\n      this.setState({\n        mouseOverSubMenu: true\n      });\n    }\n  }, {\n    key: \"handleSubMenuMouseLeave\",\n    value: function handleSubMenuMouseLeave() {\n      this.setState({\n        mouseOverSubMenu: false\n      });\n    }\n  }, {\n    key: \"isSubMenuActive\",\n    value: function isSubMenuActive() {\n      return this.state.subMenuActive;\n    }\n  }, {\n    key: \"onSubMenuActivate\",\n    value: function onSubMenuActivate() {\n      this.setState({\n        subMenuActive: true\n      });\n\n      if (this.closeSubmenuTimeout) {\n        clearTimeout(this.closeSubmenuTimeout);\n      }\n    }\n  }, {\n    key: \"onSubMenuInactivate\",\n    value: function onSubMenuInactivate(submenuConfig) {\n      var _this6 = this;\n\n      var ts = +new Date();\n      var nextItem = this.state.nextItem;\n      var nextTimestamp = this.state.nextTimestamp || 0;\n      this.setState({\n        subMenuActive: false,\n        timestamp: ts\n      }, function () {\n        setTimeout(function () {\n          if (ts != _this6.state.timestamp || nextItem && ts - nextTimestamp < 100) {\n            _this6.setSubMenu({\n              menuOffset: _this6.state.nextOffset,\n              index: _this6.state.nextActiveSubMenuIndex\n            }, function () {\n              _this6.focus();\n            });\n\n            return;\n          } else {\n            _this6.focus();\n          }\n\n          var mouseHasEnteredSubmenuParentItem = submenuConfig && submenuConfig.parentIndex === _this6.itemOverIndex;\n\n          if (!_this6.isSubMenuActive() && !mouseHasEnteredSubmenuParentItem) {\n            _this6.closeSubMenu({\n              autoFocus: submenuConfig && submenuConfig.hasFocus\n            });\n          }\n        }, 10);\n      });\n    }\n  }, {\n    key: \"onMenuItemMouseEnter\",\n    value: function onMenuItemMouseEnter(_ref) {\n      var menuOffset = _ref.menuOffset,\n          index = _ref.index,\n          hasSubMenu = _ref.hasSubMenu;\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      this.itemOverIndex = index;\n\n      if (!hasSubMenu) {\n        if (this.state.activeSubMenuIndex != null) {\n          this.setNextSubmenu({\n            menuOffset: null,\n            index: null\n          });\n        }\n\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex == null) {\n        this.setSubMenu({\n          menuOffset: menuOffset,\n          index: index\n        });\n      } else {\n        this.setNextSubmenu({\n          menuOffset: menuOffset,\n          index: index\n        });\n      }\n    }\n  }, {\n    key: \"onMenuItemMouseLeave\",\n    value: function onMenuItemMouseLeave(_ref2) {\n      var leaveOffset = _ref2.leaveOffset,\n          index = _ref2.index,\n          event = _ref2.event;\n\n      if (this.itemOverIndex === index) {\n        this.itemOverIndex = null;\n      }\n\n      if (!leaveOffset) {\n        return;\n      }\n\n      var elementAtMousePosition = global.document.elementFromPoint(leaveOffset.x, leaveOffset.y);\n\n      if (elementAtMousePosition === this.subMenuWrap || (0, _containsNode.default)(this.subMenuWrap, elementAtMousePosition)) {\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex !== null) {\n        this.delayCloseSubmenu(leaveOffset);\n      }\n\n      if (this.showTimeout) {\n        clearTimeout(this.showTimeout);\n      }\n    }\n  }, {\n    key: \"delayCloseSubmenu\",\n    value: function delayCloseSubmenu() {\n      var _this7 = this;\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      if (this.closeSubmenuTimeoutId) {\n        return;\n      }\n\n      this.closeSubmenuTimeout = setTimeout(function () {\n        _this7.closeSubmenuTimeout = null;\n\n        _this7.setSubMenu({\n          menuOffset: _this7.state.nextOffset,\n          index: _this7.state.nextActiveSubMenuIndex\n        });\n      }, 100);\n    }\n  }, {\n    key: \"removeMouseMoveListener\",\n    value: function removeMouseMoveListener() {\n      if (this.onWindowMouseMove) {\n        global.removeEventListener('mousemove', this.onWindowMouseMove);\n        this.onWindowMouseMove = null;\n      }\n    }\n  }, {\n    key: \"setSubMenu\",\n    value: function setSubMenu() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          menuOffset = _ref3.menuOffset,\n          _ref3$index = _ref3.index,\n          index = _ref3$index === void 0 ? null : _ref3$index;\n\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      this.removeMouseMoveListener();\n\n      if (!this.componentIsMounted) {\n        return;\n      }\n\n      if (this.state.activeSubMenuIndex === index) {\n        if (callback) {\n          callback();\n        }\n\n        return;\n      }\n\n      if (this.hasItemSubMenu(index) && !this.state.mouseInside) {\n        this.onInactivate();\n      }\n\n      this.setState({\n        menuOffset: menuOffset,\n        activeSubMenuIndex: index,\n        nextOffset: null,\n        nextTimestamp: null,\n        timestamp: +new Date()\n      }, callback);\n    }\n  }, {\n    key: \"setNextSubmenu\",\n    value: function setNextSubmenu() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$menuOffset = _ref4.menuOffset,\n          menuOffset = _ref4$menuOffset === void 0 ? null : _ref4$menuOffset,\n          _ref4$index = _ref4.index,\n          index = _ref4$index === void 0 ? null : _ref4$index;\n\n      var ts = +new Date();\n      this.setState({\n        timestamp: ts,\n        nextOffset: menuOffset,\n        nextActiveSubMenuIndex: index,\n        nextTimestamp: +new Date()\n      });\n    }\n  }, {\n    key: \"closeSubMenu\",\n    value: function closeSubMenu(options) {\n      return;\n      this.setSubMenu();\n\n      if (options && options.autoFocus) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"onMenuItemExpanderClick\",\n    value: function onMenuItemExpanderClick(event) {\n      event.nativeEvent.expanderClick = true;\n    }\n  }, {\n    key: \"onMenuItemClick\",\n    value: function onMenuItemClick() {\n      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var itemProps = arguments.length > 1 ? arguments[1] : undefined;\n      var index = arguments.length > 2 ? arguments[2] : undefined;\n      var props = this.props;\n      var stopped = event && event.isPropagationStopped ? event.isPropagationStopped() : false;\n\n      if (props.stopClickPropagation && event.stopPropagation) {\n        event.stopPropagation();\n      }\n\n      if (_isMobile.default && itemProps && event && event.nativeEvent && event.nativeEvent.expanderClick) {\n        var offset = {\n          x: event.pageX,\n          y: event.pageY\n        };\n        var menuOffset = (0, _getRegionRelativeToParent.default)(event.currentTarget, props.rootClassName);\n        this.onMenuItemMouseEnter({\n          hasSubMenu: itemProps.hasSubMenu,\n          menuOffset: menuOffset,\n          index: itemProps.index\n        });\n        return;\n      }\n\n      if (!stopped) {\n        props.onClick(event, itemProps, index);\n\n        if (_isMobile.default && props.onTouchStart) {\n          props.onTouchStart(event, itemProps, index);\n        }\n\n        var dismissOnClick = itemProps && itemProps.item && itemProps.item.dismissOnClick !== undefined ? itemProps.item.dismissOnClick : props.dismissOnClick;\n\n        if (props.autoDismiss) {\n          if (!itemProps.hasSubMenu) {\n            this.dismiss();\n          } else if (dismissOnClick) {\n            props.closeSubmenuRecursively();\n          }\n        } else if (dismissOnClick) {\n          props.closeSubmenuRecursively();\n        }\n\n        if (props.selectOnClick && itemProps.name !== undefined) {\n          this.handleSelectionChange({\n            name: itemProps.name,\n            value: itemProps.value,\n            checked: !itemProps.checked,\n            multiple: itemProps.multiple\n          });\n        }\n\n        this.onChildClick(event, itemProps);\n      }\n\n      if (!this.isSeparator(index)) {\n        this.setFocusedIndex(index);\n      }\n    }\n  }, {\n    key: \"onChildClick\",\n    value: function onChildClick(event, props) {\n      if (this.props.onChildClick) {\n        this.props.onChildClick(event, props);\n      }\n\n      if (this.props.parentMenu) {\n        this.props.parentMenu.onChildClick(event, props);\n      }\n    }\n  }, {\n    key: \"setupShowHideDelay\",\n    value: function setupShowHideDelay() {\n      var _this8 = this;\n\n      var setSubMenu = this.setSubMenu;\n\n      this.setSubMenu = function () {\n        var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            menuOffset = _ref5.menuOffset,\n            index = _ref5.index;\n\n        var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n        if (_this8.showTimeout) {\n          clearTimeout(_this8.showTimeout);\n        }\n\n        if (_this8.hideTimeout) {\n          clearTimeout(_this8.hideTimeout);\n        }\n\n        if (index != null) {\n          if (_this8.props.showSubMenuDelay) {\n            _this8.showTimeout = setTimeout(function () {\n              return setSubMenu({\n                menuOffset: menuOffset,\n                index: index\n              }, callback);\n            }, _this8.props.showSubMenuDelay);\n          } else {\n            setSubMenu({\n              menuOffset: menuOffset,\n              index: index\n            }, callback);\n          }\n        } else {\n          if (_this8.props.hideSubMenuDelay) {\n            _this8.hideTimeout = setTimeout(function () {\n              return setSubMenu({\n                menuOffset: menuOffset,\n                index: index\n              }, callback);\n            }, _this8.props.hideSubMenuDelay);\n          } else {\n            setSubMenu({\n              menuOffset: menuOffset,\n              index: index\n            }, callback);\n          }\n        }\n      };\n    }\n  }, {\n    key: \"setupEnterAnimation\",\n    value: function setupEnterAnimation() {\n      var _this9 = this;\n\n      setTimeout(function () {\n        var enableAnimation = _this9.props.enableAnimation && _this9.props.subMenu || _this9.props.enableRootAnimation && !_this9.props.subMenu;\n\n        if (_this9.componentIsMounted) {\n          _this9.setState({\n            hidden: false,\n            enableAnimation: enableAnimation\n          });\n        }\n\n        if (enableAnimation) {\n          setTimeout(function () {\n            if (_this9.componentIsMounted) {\n              _this9.setState({\n                transitionStart: true\n              });\n            }\n\n            setTimeout(function () {\n              if (_this9.componentIsMounted) {\n                _this9.setState({\n                  transitionEnded: true\n                });\n              }\n            }, 16);\n          }, 16);\n        }\n      }, 0);\n    }\n  }, {\n    key: \"checkAlignment\",\n    value: function checkAlignment(props, skipReset) {\n      var _this10 = this;\n\n      props = props || this.props;\n\n      if (props.visible === false) {\n        return;\n      }\n\n      if ((props.constrainTo || props.alignTo) && !props.subMenu) {\n        var doAlign = function doAlign() {\n          var props = _this10.props;\n\n          var alignPositions = _this10.getAlignPositions(props);\n\n          var domNode = _this10.node;\n\n          if (!domNode) {\n            return;\n          }\n\n          domNode.style.visibility = '';\n          var alignOffset = (0, _prepareAlignOffset.default)(props.alignOffset);\n\n          var domRegion = _regionAlign.default.from(domNode);\n\n          var actualRegion = domRegion.clone();\n          var constrainRegion = props.constrainTo ? (0, _getConstrainRegion.default)(props.constrainTo, domNode) : null;\n          var positionStyle;\n\n          if (props.alignTo) {\n            var alignRegion = getAlignToRegion(props.alignTo, domNode);\n            actualRegion.alignTo(alignRegion, alignPositions, {\n              offset: alignOffset,\n              constrain: constrainRegion\n            });\n            var offsetParent = domNode.offsetParent;\n\n            if (_ua.IS_FF && offsetParent === document.body && getComputedStyle(domNode).position === 'fixed') {\n              offsetParent = null;\n            }\n\n            var offsetParentRect = offsetParent ? null : domNode.getBoundingClientRect();\n\n            var offsetParentRegion = _regionAlign.default.from(offsetParent || {\n              top: offsetParentRect.top,\n              left: offsetParentRect.left\n            });\n\n            var newTop = actualRegion.top - offsetParentRegion.top;\n            var newLeft = actualRegion.left - offsetParentRegion.left;\n            var transform = \"translate3d(\".concat(Math.floor(newLeft), \"px, \").concat(Math.floor(newTop), \"px, 0px)\");\n            positionStyle = {\n              transform: transform,\n              top: 0,\n              left: 0\n            };\n          }\n\n          if (constrainRegion) {\n            positionStyle = positionStyle || {};\n\n            if (actualRegion.bottom >= constrainRegion.bottom) {\n              positionStyle.maxHeight = constrainRegion.bottom - actualRegion.top;\n            }\n          }\n\n          if (positionStyle) {\n            _this10.setState({\n              positionStyle: positionStyle\n            });\n          }\n        };\n\n        if (!skipReset) {\n          this.node.style.transform = 'translate3d(0px, 0px, 0px)';\n          this.node.style.visibility = 'hidden';\n          this.node.style.top = '0px';\n          this.node.style.left = '0px';\n        }\n\n        raf(doAlign);\n      }\n    }\n  }, {\n    key: \"setFocusedIndex\",\n    value: function setFocusedIndex(newFocusedItem) {\n      if (this.props.enableKeyboardNavigation) {\n        var focusedItem = this.state.focusedItem;\n\n        if (focusedItem === newFocusedItem) {\n          newFocusedItem = null;\n        }\n\n        this.scrollItemIntoView(newFocusedItem);\n        this.setState({\n          focusedItem: newFocusedItem\n        });\n      }\n    }\n  }, {\n    key: \"getItemDOMNodeByIndex\",\n    value: function getItemDOMNodeByIndex(index) {\n      var item = this.getItemByIndex(index);\n      var itemNode = item && item.getDOMNode();\n      return itemNode;\n    }\n  }, {\n    key: \"getItemByIndex\",\n    value: function getItemByIndex(index) {\n      return this.childrenRefs[index];\n    }\n  }, {\n    key: \"getItemPropsByIndex\",\n    value: function getItemPropsByIndex(index) {\n      var item = this.getItemByIndex(index);\n      return item && item.props;\n    }\n  }, {\n    key: \"getFocusedItemProps\",\n    value: function getFocusedItemProps() {\n      var focusedItemIndex = this.state.focusedItem;\n      var focusedItemProps = this.getItemPropsByIndex(focusedItemIndex);\n      return focusedItemProps;\n    }\n  }, {\n    key: \"getFocusedItem\",\n    value: function getFocusedItem() {\n      return this.state.focusedItem != null && this.getItemByIndex(this.state.focusedItem);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      if (!this.node) {\n        return;\n      }\n\n      if (this.node.focus) {\n        this.node.focus();\n      }\n    }\n  }, {\n    key: \"hasSubMenuOpened\",\n    value: function hasSubMenuOpened() {\n      return this.state.activeSubMenuIndex != null;\n    }\n  }, {\n    key: \"isSubMenu\",\n    value: function isSubMenu() {\n      return !!this.props.subMenu;\n    }\n  }, {\n    key: \"doesAnyItemHasSubMenu\",\n    value: function doesAnyItemHasSubMenu() {\n      var props = this.props;\n      return props.items && !!props.items.filter(function (item) {\n        return item.items && item.items.length;\n      }).length;\n    }\n  }, {\n    key: \"dosAnyItemHaveSelectInput\",\n    value: function dosAnyItemHaveSelectInput() {\n      var _this11 = this;\n\n      var props = this.props;\n      return props.items && !!props.items.filter(function (item) {\n        return item[_this11.props.nameProperty];\n      }).length;\n    }\n  }, {\n    key: \"hasGeneralFocus\",\n    value: function hasGeneralFocus() {\n      var hasFocus = this.hasFocus();\n\n      if (hasFocus) {\n        return hasFocus;\n      }\n\n      if (this.hasSubMenuOpened()) {\n        return this.hasSubMenuFocus();\n      }\n\n      return this.hasChildFocus();\n    }\n  }, {\n    key: \"hasSubMenuFocus\",\n    value: function hasSubMenuFocus() {\n      if (this.subMenu) {\n        return this.subMenu.hasFocus();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"hasFocus\",\n    value: function hasFocus() {\n      return global.document ? this.node === global.document.activeElement : false;\n    }\n  }, {\n    key: \"hasChildFocus\",\n    value: function hasChildFocus() {\n      if (!global.document) {\n        return false;\n      }\n\n      return (0, _containsNode.default)(this.node, global.document.activeElement);\n    }\n  }, {\n    key: \"onSubmenuWillUnmount\",\n    value: function onSubmenuWillUnmount(instance, config) {\n      var _this12 = this;\n\n      if (config && config.hasFocus) {\n        setTimeout(function () {\n          _this12.focus();\n        }, 0);\n      }\n    }\n  }, {\n    key: \"focusFirstItem\",\n    value: function focusFirstItem() {\n      var fistNonDisabledItem = (0, _getFirstNonDisabledItem.default)(this.props.items);\n      this.focusItem(fistNonDisabledItem);\n    }\n  }, {\n    key: \"focusItem\",\n    value: function focusItem(index) {\n      this.focus();\n      this.setFocusedIndex(index);\n    }\n  }, {\n    key: \"getSubmenuNode\",\n    value: function getSubmenuNode() {\n      return this.subMenu && this.subMenu.getNode();\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode() {\n      return this.node;\n    }\n  }, {\n    key: \"getSelected\",\n    value: function getSelected() {\n      return this.isSelectedControlled() ? this.props.selected : this.state.selected;\n    }\n  }, {\n    key: \"isSelectedControlled\",\n    value: function isSelectedControlled() {\n      return this.props.selected !== undefined;\n    }\n  }, {\n    key: \"handleSelectionChange\",\n    value: function handleSelectionChange(_ref6) {\n      var name = _ref6.name,\n          value = _ref6.value,\n          checked = _ref6.checked,\n          multiple = _ref6.multiple;\n\n      var newSelected = _objectSpread({}, this.getSelected());\n\n      if (!multiple) {\n        newSelected[name] = value;\n      } else if (checked) {\n        newSelected[name] = value === undefined ? name : value;\n      }\n\n      if (!checked) {\n        if (multiple || this.props.allowUnselect) {\n          delete newSelected[name];\n        }\n      }\n\n      this.setSelected(newSelected);\n    }\n  }, {\n    key: \"setSelected\",\n    value: function setSelected(newSelected) {\n      if (!this.isSelectedControlled()) {\n        this.setState({\n          selected: newSelected\n        });\n      }\n\n      this.props.onSelectionChange(newSelected);\n    }\n  }, {\n    key: \"handleSubmenuSelectionChange\",\n    value: function handleSubmenuSelectionChange(selected) {\n      this.setSelected(selected);\n    }\n  }, {\n    key: \"getExpandedIndex\",\n    value: function getExpandedIndex() {\n      return this.state.activeSubMenuIndex;\n    }\n  }, {\n    key: \"isSeparator\",\n    value: function isSeparator(index) {\n      var props = this.props;\n      var separatorIndexes = (0, _getSeparatorIndexes.default)(props.items);\n      return separatorIndexes.indexOf(index) !== -1;\n    }\n  }]);\n  return InovuaMenu;\n}(_reactClass.default);\n\nInovuaMenu.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-menu',\n  depth: 0,\n  rtl: false,\n  isMenu: true,\n  enableScroll: true,\n  submenuStyle: null,\n  scrollerProps: {},\n  theme: 'default',\n  dismissOnClick: true,\n  disableScroller: false,\n  shadow: true,\n  submenuAlignOffset: _submenuAlignPositions.alignOffsetLTR,\n  rtlSubmenuAlignOffset: _submenuAlignPositions.alignOffsetRTL,\n  showSubMenuDelay: 150,\n  hideSubMenuDelay: 150,\n  expanderSize: 10,\n  scrollOnMouseEnter: true,\n  onClick: function onClick() {},\n  onSelectionChange: function onSelectionChange() {},\n  columns: ['label'],\n  items: null,\n  maxHeight: 'none',\n  scrollArrowIncrementType: 'step',\n  enableAnimation: true,\n  fadeDuration: 100,\n  fadeTransitionFunction: 'ease',\n  enableRootAnimation: false,\n  itemStyle: {},\n  itemOverStyle: {},\n  itemDisabledStyle: {},\n  itemExpandedStyle: {},\n  cellStyle: {},\n  stopClickPropagation: true,\n  scrollProps: {},\n  inTriangleWaitDelay: 300,\n  alignOffset: {\n    x: 0,\n    y: 0\n  },\n  simulateClickOnEnterKeyPress: true,\n  enableKeyboardNavigation: true,\n  defaultFocusedItem: null,\n  autoFocus: false,\n  closeSubMenu: function closeSubMenu() {},\n  closeSubmenuRecursively: function closeSubmenuRecursively() {},\n  onDismiss: function onDismiss() {},\n  componentWillUnmount: function componentWillUnmount() {},\n  componentDidMount: function componentDidMount() {},\n  useMouseInTriangleCheck: false,\n  allowUnselect: false,\n  enableSelection: false,\n  nameProperty: 'name',\n  valueProperty: 'value',\n  selectionInputPosition: 'start',\n  defaultSelected: {},\n  selectOnClick: true,\n  checkIconSize: 16,\n  radioIconSize: 16,\n  notifyResizeDelay: 16,\n  browserNativeSelectInputs: false,\n  showWarnings: !_uglified.default\n};\nInovuaMenu.propTypes = {\n  rootClassName: _propTypes.default.string,\n  items: _propTypes.default.array,\n  columns: _propTypes.default.array,\n  dismissOnClick: _propTypes.default.bool,\n  autoDismiss: _propTypes.default.bool,\n  disableScroller: _propTypes.default.bool,\n  showSubMenuDelay: _propTypes.default.number,\n  hideSubMenuDelay: _propTypes.default.number,\n  notifyResizeDelay: _propTypes.default.number,\n  scrollOnMouseEnter: _propTypes.default.bool,\n  padding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  border: _propTypes.default.string,\n  borderRadius: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  rowActiveStyle: _propTypes.default.object,\n  rowOverStyle: _propTypes.default.object,\n  rowStyle: _propTypes.default.object,\n  maxHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  submenuMaxHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  minSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  maxSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  onClick: _propTypes.default.func,\n  showScrollArrows: _propTypes.default.bool,\n  scrollProps: _propTypes.default.object,\n  scrollArrowIncrementType: _propTypes.default.oneOf(['step', 'page']),\n  renderScroller: _propTypes.default.func,\n  enableAnimation: _propTypes.default.bool,\n  fadeDuration: _propTypes.default.number,\n  fadeTransitionFunction: _propTypes.default.string,\n  enableRootAnimation: _propTypes.default.bool,\n  itemStyle: _propTypes.default.object,\n  itemClassName: _propTypes.default.string,\n  itemActiveStyle: _propTypes.default.object,\n  itemActiveClassName: _propTypes.default.string,\n  itemOverStyle: _propTypes.default.object,\n  itemOverClassName: _propTypes.default.string,\n  itemDisabledStyle: _propTypes.default.object,\n  itemDisabledClassName: _propTypes.default.string,\n  itemExpandedStyle: _propTypes.default.object,\n  itemExpandedClassName: _propTypes.default.string,\n  itemFocusedStyle: _propTypes.default.object,\n  itemFocusedClassName: _propTypes.default.string,\n  itemOverFocusedStyle: _propTypes.default.object,\n  visible: _propTypes.default.bool,\n  itemHeight: _propTypes.default.number,\n  cellStyle: _propTypes.default.object,\n  secondaryLabelStyle: _propTypes.default.object,\n  labelStyle: _propTypes.default.object,\n  titleStyle: _propTypes.default.object,\n  alignTo: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func, _propTypes.default.string]),\n  inTriangleWaitDelay: _propTypes.default.number,\n  alignPositions: _propTypes.default.arrayOf(_propTypes.default.string),\n  alignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object, _propTypes.default.number]),\n  submenuAlignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.number]),\n  rtlSubmenuAlignOffset: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.number]),\n  alignPosition: _propTypes.default.oneOf([1, -1]),\n  rtl: _propTypes.default.bool,\n  enableKeyboardNavigation: _propTypes.default.bool,\n  defaultFocusedItem: _propTypes.default.number,\n  autoFocus: _propTypes.default.bool,\n  closeSubMenu: _propTypes.default.func,\n  closeSubmenuRecursively: _propTypes.default.func,\n  simulateClickOnEnterKeyPress: _propTypes.default.bool,\n  onChildClick: _propTypes.default.func,\n  onDismiss: _propTypes.default.func,\n  expanderStyle: _propTypes.default.object,\n  depth: _propTypes.default.number,\n  isMenu: _propTypes.default.bool,\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.string, _propTypes.default.bool, _propTypes.default.func]),\n  enableScroll: _propTypes.default.bool,\n  submenuStyle: _propTypes.default.object,\n  scrollerProps: _propTypes.default.object,\n  theme: _propTypes.default.string,\n  stopClickPropagation: _propTypes.default.bool,\n  componentWillUnmount: _propTypes.default.func,\n  componentDidMount: _propTypes.default.func,\n  itemStyleProps: _propTypes.default.object,\n  childrenLength: _propTypes.default.number,\n  separatorIndexes: _propTypes.default.string,\n  tableClassName: _propTypes.default.string,\n  shadow: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.string]),\n  submenuProps: _propTypes.default.object,\n  menuHasSubmenu: _propTypes.default.bool,\n  depthSet: _propTypes.default.bool,\n  subMenu: _propTypes.default.bool,\n  parentIndex: _propTypes.default.number,\n  parentMenu: _propTypes.default.object,\n  onActivate: _propTypes.default.func,\n  onInactivate: _propTypes.default.func,\n  expander: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool, _propTypes.default.func]),\n  expanderSize: _propTypes.default.number,\n  overStyle: _propTypes.default.object,\n  activeStyle: _propTypes.default.object,\n  disabledStyle: _propTypes.default.object,\n  expandedStyle: _propTypes.default.object,\n  menuSeparatorStyle: _propTypes.default.object,\n  useMouseInTriangleCheck: _propTypes.default.bool,\n  selected: _propTypes.default.object,\n  defaultSelected: _propTypes.default.object,\n  allowUnselect: _propTypes.default.bool,\n  enableSelection: _propTypes.default.bool,\n  nativeScroll: _propTypes.default.bool,\n  scrollContainerProps: _propTypes.default.object,\n  nameProperty: _propTypes.default.string,\n  valueProperty: _propTypes.default.string,\n  renderCheckInput: _propTypes.default.func,\n  renderRadioInput: _propTypes.default.func,\n  onSelectionChange: _propTypes.default.func,\n  selectionInputPosition: _propTypes.default.oneOf(['start', 'end']),\n  selectOnClick: _propTypes.default.bool,\n  checkIconSize: _propTypes.default.number,\n  radioIconSize: _propTypes.default.number,\n  showWarnings: _propTypes.default.bool,\n  updatePositionOnScroll: _propTypes.default.bool,\n  browserNativeSelectInputs: _propTypes.default.bool\n};\nvar _default = InovuaMenu;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}