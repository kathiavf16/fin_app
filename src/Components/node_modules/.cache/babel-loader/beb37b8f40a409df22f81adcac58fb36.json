{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _regionAlign = _interopRequireDefault(require(\"../../../packages/region-align\"));\n\nvar _join = _interopRequireDefault(require(\"../../../common/join\"));\n\nvar _Menu = _interopRequireDefault(require(\"../../Menu\"));\n\nvar _Button = _interopRequireDefault(require(\"../../Button\"));\n\nvar _ToggleIcon = _interopRequireDefault(require(\"../../../common/ToggleIcon\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nvar _containsNode = _interopRequireDefault(require(\"../../../common/containsNode\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar ALIGN_OFFSET = {\n  top: 5\n};\n\nvar returnFalse = function returnFalse() {\n  return false;\n};\n\nvar InovuaDropDownButton = function (_Component) {\n  (0, _inherits2.default)(InovuaDropDownButton, _Component);\n\n  var _super = _createSuper(InovuaDropDownButton);\n\n  function InovuaDropDownButton(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDropDownButton);\n    _this = _super.call(this, props);\n    _this.state = {\n      expanded: props.defaultExpanded,\n      focused: false\n    };\n    _this.handleClick = _this.handleClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleFocus = _this.handleFocus.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleBlur = _this.handleBlur.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleClickOutside = _this.handleClickOutside.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleWindowScroll = _this.handleWindowScroll.bind((0, _assertThisInitialized2.default)(_this));\n    _this.onMenuDismiss = _this.onMenuDismiss.bind((0, _assertThisInitialized2.default)(_this));\n\n    _this.rootRef = function (ref) {\n      _this.rootNode = ref;\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaDropDownButton, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextProps.shouldComponentUpdate) {\n        return nextProps.shouldComponentUpdate(nextProps, nextState, this);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"onMenuDismiss\",\n    value: function onMenuDismiss() {\n      this.props.onDismiss();\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      var key = event.key;\n\n      if (this.props.hideMenuOnEscape && this.getExpanded()) {\n        this.collapse();\n        event.preventDefault();\n      }\n\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(event);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateComponentReferenceRegion();\n\n      if (this.props.dismissOnScroll) {\n        window.addEventListener('scroll', this.handleWindowScroll, {\n          capture: true\n        });\n        window.addEventListener('scroll', this.handleWindowScroll, {\n          capture: false\n        });\n      }\n\n      global.addEventListener('click', this.handleClickOutside);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      global.removeEventListener('click', this.handleClickOutside);\n      global.removeEventListener('scroll', this.handleWindowScroll, {\n        capture: true\n      });\n      global.removeEventListener('scroll', this.handleWindowScroll, {\n        capture: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var className = (0, _join.default)(props.rootClassName, props.className, props.theme && \"\".concat(props.rootClassName, \"--theme-\").concat(props.theme), this.state.focused && \"\".concat(props.rootClassName, \"--focused\"), props.disabled && \"\".concat(props.rootClassName, \"--disabled\"), this.getExpanded() && \"\".concat(props.rootClassName, \"--expanded\"), props.rtl ? \"\".concat(props.rootClassName, \"--rtl\") : \"\".concat(props.rootClassName, \"--ltr\"));\n      return _react.default.createElement(\"div\", (0, _extends2.default)({}, (0, _cleanProps.default)(props, InovuaDropDownButton.propTypes), {\n        ref: this.rootRef,\n        className: className\n      }), this.renderButton(), this.renderMenu());\n    }\n  }, {\n    key: \"renderButton\",\n    value: function renderButton() {\n      var _objectSpread2;\n\n      var props = this.props;\n      var className = \"\".concat(props.rootClassName, \"__button\");\n\n      var buttonProps = _objectSpread(_objectSpread(_objectSpread({}, this.getCommonProps()), {}, {\n        key: 'button',\n        iconPosition: this.props.iconPosition || this.props.arrowPosition,\n        style: _objectSpread({}, props.buttonProps)\n      }, props.buttonProps), {}, (_objectSpread2 = {\n        className: className,\n        icon: props.icon,\n        disabled: props.disabled,\n        onClick: this.handleClick,\n        rtl: props.rtl,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onKeyDown: this.handleKeyDown\n      }, (0, _defineProperty2.default)(_objectSpread2, \"icon\", [props.icon && props.icon.type ? (0, _react.cloneElement)(props.icon, {\n        key: 'inovua-ddbuttonicon'\n      }) : props.icon, this.renderArrow()]), (0, _defineProperty2.default)(_objectSpread2, \"children\", props.children), (0, _defineProperty2.default)(_objectSpread2, \"tagName\", 'div'), _objectSpread2));\n\n      var result;\n\n      if (typeof props.renderButton === 'function') {\n        result = props.renderButton(buttonProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(_Button.default, buttonProps);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      if (this.props.hideMenuOnClick) {\n        this.toggle();\n      } else {\n        this.expand();\n      }\n\n      this.props.onClick(event);\n    }\n  }, {\n    key: \"handleFocus\",\n    value: function handleFocus(event) {\n      if (this.props.disabled) {\n        return;\n      }\n\n      this.setState({\n        focused: true\n      });\n      this.props.onFocus(event);\n    }\n  }, {\n    key: \"handleBlur\",\n    value: function handleBlur(event) {\n      if (this.props.disabled) {\n        return;\n      }\n\n      this.setState({\n        focused: false\n      });\n      this.props.onBlur(event);\n    }\n  }, {\n    key: \"expand\",\n    value: function expand() {\n      this.setExpanded(true);\n    }\n  }, {\n    key: \"collapse\",\n    value: function collapse() {\n      this.setExpanded(false);\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var expanded = this.getExpanded();\n      this.setExpanded(!expanded);\n    }\n  }, {\n    key: \"isExpandedControlled\",\n    value: function isExpandedControlled() {\n      return this.props.expanded != undefined;\n    }\n  }, {\n    key: \"setExpanded\",\n    value: function setExpanded(expanded) {\n      if (expanded === this.getExpanded()) {\n        return null;\n      }\n\n      if (!this.isExpandedControlled()) {\n        this.setState({\n          expanded: expanded\n        });\n        this.updateComponentReferenceRegion();\n      }\n\n      if (!expanded) {\n        this.props.onDismiss();\n      }\n\n      this.props.onExpandedChange(expanded);\n    }\n  }, {\n    key: \"getExpanded\",\n    value: function getExpanded() {\n      return this.isExpandedControlled() ? this.props.expanded : this.state.expanded;\n    }\n  }, {\n    key: \"updateComponentReferenceRegion\",\n    value: function updateComponentReferenceRegion() {\n      var node = this.props.getAlignNode ? this.props.getAlignNode() : this.rootNode;\n\n      if (!node) {\n        return null;\n      }\n\n      var referenceRegion = _regionAlign.default.from(node);\n\n      this.setState({\n        referenceRegion: referenceRegion\n      });\n    }\n  }, {\n    key: \"renderMenu\",\n    value: function renderMenu() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var expanded = this.getExpanded();\n\n      if (!expanded && !this.props.renderMenuWhenCollapsed) {\n        return;\n      }\n\n      if (!props.items || !props.items.length) {\n        return null;\n      }\n\n      var style = _objectSpread({}, props.menuProps.style);\n\n      if (!expanded) {\n        style.display = 'none';\n      }\n\n      var menuProps = _objectSpread(_objectSpread(_objectSpread({}, this.getCommonProps()), {}, {\n        key: 'menu',\n        items: props.items,\n        alignOffset: ALIGN_OFFSET,\n        constrainTo: props.constrainTo\n      }, props.menuProps), {}, {\n        alignTo: this.state.referenceRegion,\n        alignPositions: props.alignPositions,\n        onChildClick: props.onMenuClick,\n        rtl: props.rtl,\n        style: style,\n        visible: expanded,\n        theme: 'default',\n        className: \"\".concat(props.rootClassName, \"__menu\"),\n        onDismiss: this.onMenuDismiss\n      });\n\n      if (!expanded && !this.prevExpanded && this.props.optimizeMenuSCUWhenCollapsed) {\n        menuProps.shouldComponentUpdate = returnFalse;\n      }\n\n      this.prevExpanded = expanded;\n      var MenuComp = this.props.menu ? this.props.menu : _Menu.default;\n\n      if (!MenuComp) {\n        return null;\n      }\n\n      var result;\n\n      if (typeof props.renderMenu === 'function') {\n        result = props.renderMenu(menuProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(MenuComp, menuProps);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"renderArrow\",\n    value: function renderArrow() {\n      var props = this.props;\n      var result = null;\n\n      if (props.arrow !== true) {\n        if (typeof props.arrow === 'function') {\n          result = props.arrow(this.getExpanded());\n        } else {\n          result = props.arrow;\n        }\n      }\n\n      if (result === null) {\n        result = _react.default.createElement(_ToggleIcon.default, {\n          key: \"icon\",\n          className: \"\".concat(props.rootClassName, \"__arrow\"),\n          expanded: this.getExpanded()\n        });\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getCommonProps\",\n    value: function getCommonProps() {\n      var props = this.props;\n      return {\n        theme: props.theme\n      };\n    }\n  }, {\n    key: \"handleClickOutside\",\n    value: function handleClickOutside(event) {\n      var node = this.rootNode;\n      var target = event.target;\n\n      if (!node || !target) {\n        return null;\n      }\n\n      if (node !== target && !node.contains(target)) {\n        if (this.props.hideMenuOnClickOutside) {\n          this.collapse();\n        }\n      }\n    }\n  }, {\n    key: \"handleWindowScroll\",\n    value: function handleWindowScroll(event) {\n      if (this.getExpanded() && !(0, _containsNode.default)(this.rootNode, event.target)) {\n        this.setExpanded(false);\n      }\n    }\n  }]);\n  return InovuaDropDownButton;\n}(_react.Component);\n\nfunction emptyFn() {}\n\nInovuaDropDownButton.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-dropdown-button',\n  theme: 'default',\n  menuProps: {},\n  rtl: false,\n  menu: null,\n  alignPositions: ['tl-bl', 'tr-br', 'bl-tl', 'br-tr', 'tl-tr', 'bl-br', 'tr-tl', 'tr-br'],\n  arrow: true,\n  arrowPosition: 'end',\n  constrainTo: true,\n  disabled: false,\n  hideMenuOnClick: true,\n  hideMenuOnClickOutside: true,\n  hideMenuOnEscape: true,\n  onExpandedChange: emptyFn,\n  onMenuClick: emptyFn,\n  optimizeMenuSCUWhenCollapsed: false,\n  onClick: emptyFn,\n  onFocus: emptyFn,\n  onBlur: emptyFn,\n  onDismiss: emptyFn,\n  defaultExpanded: false,\n  dismissOnScroll: false,\n  isInovuaButton: true\n};\nInovuaDropDownButton.propTypes = {\n  theme: _propTypes.default.string,\n  rtl: _propTypes.default.bool,\n  dismissOnScroll: _propTypes.default.bool,\n  icon: _propTypes.default.node,\n  iconPosition: _propTypes.default.oneOf(['left', 'right', 'start', 'end']),\n  rootClassName: _propTypes.default.string,\n  menuProps: _propTypes.default.object,\n  buttonProps: _propTypes.default.object,\n  disabled: _propTypes.default.bool,\n  menu: _propTypes.default.func,\n  arrow: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool, _propTypes.default.func]),\n  alignPositions: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.arrayOf(_propTypes.default.string)]),\n  onDismiss: _propTypes.default.func,\n  arrowPosition: _propTypes.default.oneOf(['left', 'right', 'start', 'end']),\n  hideMenuOnClick: _propTypes.default.bool,\n  hideMenuOnEscape: _propTypes.default.bool,\n  hideMenuOnClickOutside: _propTypes.default.bool,\n  renderMenuWhenCollapsed: _propTypes.default.bool,\n  optimizeMenuSCUWhenCollapsed: _propTypes.default.bool,\n  onExpandedChange: _propTypes.default.func,\n  onMenuClick: _propTypes.default.func,\n  onClick: _propTypes.default.func,\n  getAlignNode: _propTypes.default.func,\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.string, _propTypes.default.bool, _propTypes.default.func]),\n  items: _propTypes.default.array,\n  expanded: _propTypes.default.bool,\n  defaultExpanded: _propTypes.default.bool,\n  pressed: _propTypes.default.bool,\n  renderMenu: _propTypes.default.func,\n  renderButton: _propTypes.default.func,\n  isInovuaButton: _propTypes.default.bool\n};\nvar _default = InovuaDropDownButton;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/packages/DropdownButton/src/DropdownButton.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_defineProperty2","_extends2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_react","_propTypes","_regionAlign","_join","_Menu","_Button","_ToggleIcon","_cleanProps","_containsNode","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","ALIGN_OFFSET","top","returnFalse","InovuaDropDownButton","_Component","_super","props","_this","state","expanded","defaultExpanded","focused","handleClick","bind","handleFocus","handleBlur","handleKeyDown","handleClickOutside","handleWindowScroll","onMenuDismiss","rootRef","ref","rootNode","shouldComponentUpdate","nextProps","nextState","onDismiss","event","hideMenuOnEscape","getExpanded","collapse","preventDefault","onKeyDown","componentDidMount","updateComponentReferenceRegion","dismissOnScroll","window","addEventListener","capture","global","componentWillUnmount","removeEventListener","render","className","rootClassName","theme","concat","disabled","rtl","createElement","propTypes","renderButton","renderMenu","_objectSpread2","buttonProps","getCommonProps","iconPosition","arrowPosition","style","icon","onClick","onFocus","onBlur","type","cloneElement","renderArrow","children","undefined","hideMenuOnClick","toggle","expand","setState","setExpanded","isExpandedControlled","onExpandedChange","node","getAlignNode","referenceRegion","from","renderMenuWhenCollapsed","items","menuProps","display","alignOffset","constrainTo","alignTo","alignPositions","onChildClick","onMenuClick","visible","prevExpanded","optimizeMenuSCUWhenCollapsed","MenuComp","menu","arrow","contains","hideMenuOnClickOutside","Component","emptyFn","defaultProps","isInovuaButton","string","bool","oneOf","func","oneOfType","arrayOf","array","pressed","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _regionAlign = _interopRequireDefault(require(\"../../../packages/region-align\"));\n\nvar _join = _interopRequireDefault(require(\"../../../common/join\"));\n\nvar _Menu = _interopRequireDefault(require(\"../../Menu\"));\n\nvar _Button = _interopRequireDefault(require(\"../../Button\"));\n\nvar _ToggleIcon = _interopRequireDefault(require(\"../../../common/ToggleIcon\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nvar _containsNode = _interopRequireDefault(require(\"../../../common/containsNode\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar ALIGN_OFFSET = {\n  top: 5\n};\n\nvar returnFalse = function returnFalse() {\n  return false;\n};\n\nvar InovuaDropDownButton = function (_Component) {\n  (0, _inherits2.default)(InovuaDropDownButton, _Component);\n\n  var _super = _createSuper(InovuaDropDownButton);\n\n  function InovuaDropDownButton(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDropDownButton);\n    _this = _super.call(this, props);\n    _this.state = {\n      expanded: props.defaultExpanded,\n      focused: false\n    };\n    _this.handleClick = _this.handleClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleFocus = _this.handleFocus.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleBlur = _this.handleBlur.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleKeyDown = _this.handleKeyDown.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleClickOutside = _this.handleClickOutside.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleWindowScroll = _this.handleWindowScroll.bind((0, _assertThisInitialized2.default)(_this));\n    _this.onMenuDismiss = _this.onMenuDismiss.bind((0, _assertThisInitialized2.default)(_this));\n\n    _this.rootRef = function (ref) {\n      _this.rootNode = ref;\n    };\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaDropDownButton, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      if (nextProps.shouldComponentUpdate) {\n        return nextProps.shouldComponentUpdate(nextProps, nextState, this);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"onMenuDismiss\",\n    value: function onMenuDismiss() {\n      this.props.onDismiss();\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(event) {\n      var key = event.key;\n\n      if (this.props.hideMenuOnEscape && this.getExpanded()) {\n        this.collapse();\n        event.preventDefault();\n      }\n\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(event);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateComponentReferenceRegion();\n\n      if (this.props.dismissOnScroll) {\n        window.addEventListener('scroll', this.handleWindowScroll, {\n          capture: true\n        });\n        window.addEventListener('scroll', this.handleWindowScroll, {\n          capture: false\n        });\n      }\n\n      global.addEventListener('click', this.handleClickOutside);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      global.removeEventListener('click', this.handleClickOutside);\n      global.removeEventListener('scroll', this.handleWindowScroll, {\n        capture: true\n      });\n      global.removeEventListener('scroll', this.handleWindowScroll, {\n        capture: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var className = (0, _join.default)(props.rootClassName, props.className, props.theme && \"\".concat(props.rootClassName, \"--theme-\").concat(props.theme), this.state.focused && \"\".concat(props.rootClassName, \"--focused\"), props.disabled && \"\".concat(props.rootClassName, \"--disabled\"), this.getExpanded() && \"\".concat(props.rootClassName, \"--expanded\"), props.rtl ? \"\".concat(props.rootClassName, \"--rtl\") : \"\".concat(props.rootClassName, \"--ltr\"));\n      return _react.default.createElement(\"div\", (0, _extends2.default)({}, (0, _cleanProps.default)(props, InovuaDropDownButton.propTypes), {\n        ref: this.rootRef,\n        className: className\n      }), this.renderButton(), this.renderMenu());\n    }\n  }, {\n    key: \"renderButton\",\n    value: function renderButton() {\n      var _objectSpread2;\n\n      var props = this.props;\n      var className = \"\".concat(props.rootClassName, \"__button\");\n\n      var buttonProps = _objectSpread(_objectSpread(_objectSpread({}, this.getCommonProps()), {}, {\n        key: 'button',\n        iconPosition: this.props.iconPosition || this.props.arrowPosition,\n        style: _objectSpread({}, props.buttonProps)\n      }, props.buttonProps), {}, (_objectSpread2 = {\n        className: className,\n        icon: props.icon,\n        disabled: props.disabled,\n        onClick: this.handleClick,\n        rtl: props.rtl,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onKeyDown: this.handleKeyDown\n      }, (0, _defineProperty2.default)(_objectSpread2, \"icon\", [props.icon && props.icon.type ? (0, _react.cloneElement)(props.icon, {\n        key: 'inovua-ddbuttonicon'\n      }) : props.icon, this.renderArrow()]), (0, _defineProperty2.default)(_objectSpread2, \"children\", props.children), (0, _defineProperty2.default)(_objectSpread2, \"tagName\", 'div'), _objectSpread2));\n\n      var result;\n\n      if (typeof props.renderButton === 'function') {\n        result = props.renderButton(buttonProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(_Button.default, buttonProps);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      if (this.props.hideMenuOnClick) {\n        this.toggle();\n      } else {\n        this.expand();\n      }\n\n      this.props.onClick(event);\n    }\n  }, {\n    key: \"handleFocus\",\n    value: function handleFocus(event) {\n      if (this.props.disabled) {\n        return;\n      }\n\n      this.setState({\n        focused: true\n      });\n      this.props.onFocus(event);\n    }\n  }, {\n    key: \"handleBlur\",\n    value: function handleBlur(event) {\n      if (this.props.disabled) {\n        return;\n      }\n\n      this.setState({\n        focused: false\n      });\n      this.props.onBlur(event);\n    }\n  }, {\n    key: \"expand\",\n    value: function expand() {\n      this.setExpanded(true);\n    }\n  }, {\n    key: \"collapse\",\n    value: function collapse() {\n      this.setExpanded(false);\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var expanded = this.getExpanded();\n      this.setExpanded(!expanded);\n    }\n  }, {\n    key: \"isExpandedControlled\",\n    value: function isExpandedControlled() {\n      return this.props.expanded != undefined;\n    }\n  }, {\n    key: \"setExpanded\",\n    value: function setExpanded(expanded) {\n      if (expanded === this.getExpanded()) {\n        return null;\n      }\n\n      if (!this.isExpandedControlled()) {\n        this.setState({\n          expanded: expanded\n        });\n        this.updateComponentReferenceRegion();\n      }\n\n      if (!expanded) {\n        this.props.onDismiss();\n      }\n\n      this.props.onExpandedChange(expanded);\n    }\n  }, {\n    key: \"getExpanded\",\n    value: function getExpanded() {\n      return this.isExpandedControlled() ? this.props.expanded : this.state.expanded;\n    }\n  }, {\n    key: \"updateComponentReferenceRegion\",\n    value: function updateComponentReferenceRegion() {\n      var node = this.props.getAlignNode ? this.props.getAlignNode() : this.rootNode;\n\n      if (!node) {\n        return null;\n      }\n\n      var referenceRegion = _regionAlign.default.from(node);\n\n      this.setState({\n        referenceRegion: referenceRegion\n      });\n    }\n  }, {\n    key: \"renderMenu\",\n    value: function renderMenu() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var expanded = this.getExpanded();\n\n      if (!expanded && !this.props.renderMenuWhenCollapsed) {\n        return;\n      }\n\n      if (!props.items || !props.items.length) {\n        return null;\n      }\n\n      var style = _objectSpread({}, props.menuProps.style);\n\n      if (!expanded) {\n        style.display = 'none';\n      }\n\n      var menuProps = _objectSpread(_objectSpread(_objectSpread({}, this.getCommonProps()), {}, {\n        key: 'menu',\n        items: props.items,\n        alignOffset: ALIGN_OFFSET,\n        constrainTo: props.constrainTo\n      }, props.menuProps), {}, {\n        alignTo: this.state.referenceRegion,\n        alignPositions: props.alignPositions,\n        onChildClick: props.onMenuClick,\n        rtl: props.rtl,\n        style: style,\n        visible: expanded,\n        theme: 'default',\n        className: \"\".concat(props.rootClassName, \"__menu\"),\n        onDismiss: this.onMenuDismiss\n      });\n\n      if (!expanded && !this.prevExpanded && this.props.optimizeMenuSCUWhenCollapsed) {\n        menuProps.shouldComponentUpdate = returnFalse;\n      }\n\n      this.prevExpanded = expanded;\n      var MenuComp = this.props.menu ? this.props.menu : _Menu.default;\n\n      if (!MenuComp) {\n        return null;\n      }\n\n      var result;\n\n      if (typeof props.renderMenu === 'function') {\n        result = props.renderMenu(menuProps);\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(MenuComp, menuProps);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"renderArrow\",\n    value: function renderArrow() {\n      var props = this.props;\n      var result = null;\n\n      if (props.arrow !== true) {\n        if (typeof props.arrow === 'function') {\n          result = props.arrow(this.getExpanded());\n        } else {\n          result = props.arrow;\n        }\n      }\n\n      if (result === null) {\n        result = _react.default.createElement(_ToggleIcon.default, {\n          key: \"icon\",\n          className: \"\".concat(props.rootClassName, \"__arrow\"),\n          expanded: this.getExpanded()\n        });\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getCommonProps\",\n    value: function getCommonProps() {\n      var props = this.props;\n      return {\n        theme: props.theme\n      };\n    }\n  }, {\n    key: \"handleClickOutside\",\n    value: function handleClickOutside(event) {\n      var node = this.rootNode;\n      var target = event.target;\n\n      if (!node || !target) {\n        return null;\n      }\n\n      if (node !== target && !node.contains(target)) {\n        if (this.props.hideMenuOnClickOutside) {\n          this.collapse();\n        }\n      }\n    }\n  }, {\n    key: \"handleWindowScroll\",\n    value: function handleWindowScroll(event) {\n      if (this.getExpanded() && !(0, _containsNode.default)(this.rootNode, event.target)) {\n        this.setExpanded(false);\n      }\n    }\n  }]);\n  return InovuaDropDownButton;\n}(_react.Component);\n\nfunction emptyFn() {}\n\nInovuaDropDownButton.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-dropdown-button',\n  theme: 'default',\n  menuProps: {},\n  rtl: false,\n  menu: null,\n  alignPositions: ['tl-bl', 'tr-br', 'bl-tl', 'br-tr', 'tl-tr', 'bl-br', 'tr-tl', 'tr-br'],\n  arrow: true,\n  arrowPosition: 'end',\n  constrainTo: true,\n  disabled: false,\n  hideMenuOnClick: true,\n  hideMenuOnClickOutside: true,\n  hideMenuOnEscape: true,\n  onExpandedChange: emptyFn,\n  onMenuClick: emptyFn,\n  optimizeMenuSCUWhenCollapsed: false,\n  onClick: emptyFn,\n  onFocus: emptyFn,\n  onBlur: emptyFn,\n  onDismiss: emptyFn,\n  defaultExpanded: false,\n  dismissOnScroll: false,\n  isInovuaButton: true\n};\nInovuaDropDownButton.propTypes = {\n  theme: _propTypes.default.string,\n  rtl: _propTypes.default.bool,\n  dismissOnScroll: _propTypes.default.bool,\n  icon: _propTypes.default.node,\n  iconPosition: _propTypes.default.oneOf(['left', 'right', 'start', 'end']),\n  rootClassName: _propTypes.default.string,\n  menuProps: _propTypes.default.object,\n  buttonProps: _propTypes.default.object,\n  disabled: _propTypes.default.bool,\n  menu: _propTypes.default.func,\n  arrow: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool, _propTypes.default.func]),\n  alignPositions: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.arrayOf(_propTypes.default.string)]),\n  onDismiss: _propTypes.default.func,\n  arrowPosition: _propTypes.default.oneOf(['left', 'right', 'start', 'end']),\n  hideMenuOnClick: _propTypes.default.bool,\n  hideMenuOnEscape: _propTypes.default.bool,\n  hideMenuOnClickOutside: _propTypes.default.bool,\n  renderMenuWhenCollapsed: _propTypes.default.bool,\n  optimizeMenuSCUWhenCollapsed: _propTypes.default.bool,\n  onExpandedChange: _propTypes.default.func,\n  onMenuClick: _propTypes.default.func,\n  onClick: _propTypes.default.func,\n  getAlignNode: _propTypes.default.func,\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.string, _propTypes.default.bool, _propTypes.default.func]),\n  items: _propTypes.default.array,\n  expanded: _propTypes.default.bool,\n  defaultExpanded: _propTypes.default.bool,\n  pressed: _propTypes.default.bool,\n  renderMenu: _propTypes.default.func,\n  renderButton: _propTypes.default.func,\n  isInovuaButton: _propTypes.default.bool\n};\nvar _default = InovuaDropDownButton;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}