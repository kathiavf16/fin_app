{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"getCellHeader\", {\n  enumerable: true,\n  get: function get() {\n    return _getCellHeader.default;\n  }\n});\nexports.default = exports.getParentGroups = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactCleanProps = _interopRequireDefault(require(\"../../../../packages/react-clean-props\"));\n\nvar _uglified = _interopRequireDefault(require(\"../../../../packages/uglified\"));\n\nvar _Cell = _interopRequireDefault(require(\"../../Cell\"));\n\nvar _HeaderGroup = _interopRequireDefault(require(\"./HeaderGroup\"));\n\nvar _renderCellsMaybeLocked = _interopRequireDefault(require(\"../../Content/renderCellsMaybeLocked\"));\n\nvar _join = _interopRequireDefault(require(\"../../../../packages/join\"));\n\nvar _getCellHeader = _interopRequireDefault(require(\"./getCellHeader\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar notEmpty = function notEmpty(x) {\n  return !!x;\n};\n\nvar emptyFn = function emptyFn() {};\n\nvar getParentGroups = function getParentGroups(groupName, groups) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    includeSelf: false\n  },\n      includeSelf = _ref.includeSelf;\n\n  var parentGroups = [];\n\n  if (!groups) {\n    return parentGroups;\n  }\n\n  var nextGroup = groups[groupName] ? groups[groups[groupName].group] : null;\n\n  if (includeSelf && groups[groupName]) {\n    parentGroups.push(groups[groupName]);\n  }\n\n  while (nextGroup) {\n    parentGroups.push(nextGroup);\n    nextGroup = groups[nextGroup.group];\n  }\n\n  return parentGroups;\n};\n\nexports.getParentGroups = getParentGroups;\n\nvar InovuaDataGridHeader = function (_React$Component) {\n  (0, _inherits2.default)(InovuaDataGridHeader, _React$Component);\n\n  var _super = _createSuper(InovuaDataGridHeader);\n\n  function InovuaDataGridHeader(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDataGridHeader);\n    _this = _super.call(this, props);\n\n    _this.onCellMount = function (cellProps, c) {\n      if (cellProps.dragging) {\n        return;\n      }\n\n      if (_this.props.virtualizeColumns && !cellProps.computedLocked) {\n        _this.unlockedCells.push(c);\n      }\n\n      _this.cells.push(c);\n    };\n\n    _this.onCellUnmount = function (cellProps, cell) {\n      if (cellProps.dragging) {\n        return;\n      }\n\n      if (_this.props.virtualizeColumns && !cellProps.computedLocked) {\n        if (_this.unlockedCells) {\n          _this.unlockedCells = _this.unlockedCells.filter(function (c) {\n            return c !== cell;\n          });\n        }\n      }\n\n      if (_this.cells) {\n        _this.cells = _this.cells.filter(function (c) {\n          return c !== cell;\n        });\n      }\n    };\n\n    _this.findCellById = function (cellId) {\n      var cellsArray = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.cells;\n      return cellsArray.filter(function (c) {\n        return c.getProps().id === cellId;\n      })[0];\n    };\n\n    _this.getCells = function () {\n      var result = [];\n\n      _this.props.columns.forEach(function (c) {\n        var cell = _this.findCellById(c.id);\n\n        if (cell) {\n          var _props = cell.getProps();\n\n          result[_props.computedVisibleIndex] = cell;\n        }\n      });\n\n      return result;\n    };\n\n    _this.getGroupsAndCells = function () {\n      var cells = _this.getCells();\n\n      var result = [];\n\n      var add = function add(item) {\n        if (result.indexOf(item) == -1) {\n          result.push(item);\n        }\n      };\n\n      cells.forEach(function (cell) {\n        var target = cell;\n\n        while (target && target.props.parent) {\n          add(target);\n          target = target.props.parent;\n        }\n\n        if (target) {\n          add(target);\n        }\n      });\n      return result;\n    };\n\n    _this.setCellIndex = function (cell, index) {\n      var cellProps = _this.getPropsForCells(index)[0];\n\n      cell.setStateProps(cellProps);\n    };\n\n    _this.getCellIndex = function (cell) {\n      return cell.getProps().index;\n    };\n\n    _this.sortCells = function (cells) {\n      return cells.sort(function (cell1, cell2) {\n        return _this.getCellIndex(cell1) - _this.getCellIndex(cell2);\n      });\n    };\n\n    _this.getUnlockedCells = function () {\n      var _this$props = _this.props,\n          columns = _this$props.columns,\n          lockedStartColumns = _this$props.lockedStartColumns;\n      var result = [];\n\n      _this.props.columns.forEach(function (c) {\n        var cell = _this.findCellById(c.id, _this.unlockedCells);\n\n        if (cell) {\n          var _props2 = cell.getProps();\n\n          var index = _props2.computedVisibleIndex - lockedStartColumns.length;\n          result[index] = cell;\n        }\n      });\n\n      return result;\n    };\n\n    _this.getSortedCells = function () {\n      return _this.sortCells(_this.getUnlockedCells());\n    };\n\n    _this.getGaps = function (startIndex, endIndex) {\n      var visibleCellPositions = {};\n\n      _this.getSortedCells().forEach(function (cell) {\n        visibleCellPositions[_this.getCellIndex(cell)] = true;\n      });\n\n      var gaps = [];\n\n      for (; startIndex <= endIndex; startIndex++) {\n        if (!visibleCellPositions[startIndex]) {\n          gaps.push(startIndex);\n        }\n      }\n\n      return gaps;\n    };\n\n    _this.setColumnRenderStartIndex = function (columnRenderStartIndex) {\n      _this.columnRenderStartIndex = columnRenderStartIndex;\n\n      var renderRange = _this.getColumnRenderRange();\n\n      if (!renderRange) {\n        return;\n      }\n\n      var start = renderRange.start,\n          end = renderRange.end;\n\n      var gaps = _this.getGaps(start, end);\n\n      if (!gaps.length) {\n        return;\n      }\n\n      _this.getUnlockedCells().forEach(function (cell) {\n        var cellProps = cell.getProps();\n        var cellIndex = cellProps.computedVisibleIndex,\n            computedLocked = cellProps.computedLocked;\n\n        if (computedLocked) {\n          return;\n        }\n\n        var outOfView = cellIndex < start || cellIndex > end;\n        var newIndex;\n\n        if (outOfView && gaps.length) {\n          newIndex = gaps[gaps.length - 1];\n\n          _this.setCellIndex(cell, newIndex);\n\n          gaps.length -= 1;\n        }\n      });\n    };\n\n    _this.getColumnRenderRange = function () {\n      var _this$props2 = _this.props,\n          columnRenderCount = _this$props2.columnRenderCount,\n          lockedStartColumns = _this$props2.lockedStartColumns,\n          lockedEndColumns = _this$props2.lockedEndColumns,\n          virtualizeColumns = _this$props2.virtualizeColumns,\n          columns = _this$props2.columns;\n\n      if (!virtualizeColumns) {\n        return null;\n      }\n\n      var minStartIndex = lockedStartColumns.length;\n      var maxEndIndex = columns.length - lockedEndColumns.length - 1;\n      var columnRenderStartIndex = _this.columnRenderStartIndex == null ? _this.props.columnRenderStartIndex || 0 : _this.columnRenderStartIndex;\n      columnRenderStartIndex = Math.max(columnRenderStartIndex, minStartIndex);\n\n      if (columnRenderCount != null) {\n        var columnRenderEndIndex = columnRenderStartIndex + columnRenderCount;\n        columnRenderEndIndex = Math.min(columnRenderEndIndex, maxEndIndex);\n\n        if (columnRenderEndIndex - columnRenderCount != columnRenderStartIndex) {\n          columnRenderStartIndex = Math.max(columnRenderEndIndex - columnRenderCount, minStartIndex);\n        }\n\n        return {\n          start: columnRenderStartIndex,\n          end: columnRenderEndIndex\n        };\n      }\n\n      return null;\n    };\n\n    _this.prepareStyle = function (props) {\n      var headerHeight = props.headerHeight,\n          width = props.width,\n          minWidth = props.minWidth,\n          index = props.index,\n          scrollbarWidth = props.scrollbarWidth;\n\n      var style = _objectSpread({}, props.style);\n\n      if (width || minWidth) {\n        if (width) {\n          style.width = Math.max(width, minWidth || 0);\n        }\n\n        if (minWidth) {\n          style.minWidth = minWidth;\n        }\n      }\n\n      if (headerHeight) {\n        style.height = headerHeight;\n      }\n\n      style.zIndex = style.zIndex || 100 - (index || 0);\n      var scrollLeft = _this.props.scrollLeft != null ? _this.props.scrollLeft : _this.scrollLeft;\n      var transformPos = _this.props.rtl ? _this.props.getScrollLeftMax() - scrollLeft : -scrollLeft;\n      style.transform = \"translate3d(\".concat(transformPos || 0, \"px, 0px, 0px)\");\n      return style;\n    };\n\n    _this.notifyScrollLeftMax = function (scrollLeftMax) {\n      var resizerClassName = 'InovuaReactDataGrid__column-resizer';\n\n      var lastUnlockedResizer = _this.getDOMNode().querySelector(\".\".concat(resizerClassName, \"--last-unlocked\"));\n\n      if (lastUnlockedResizer) {\n        var columnResizeHandleWidth = _this.props.columnResizeHandleWidth;\n        var remaining = scrollLeftMax - (_this.scrollLeft + columnResizeHandleWidth / 2);\n        var visible = remaining <= 0;\n        lastUnlockedResizer.style.pointerEvents = visible ? 'auto' : 'none';\n        var classList = lastUnlockedResizer.classList;\n\n        if (classList && classList.add && classList.remove) {\n          if (visible) {\n            classList.add(\"\".concat(resizerClassName, \"--active\"));\n          } else {\n            classList.remove(\"\".concat(resizerClassName, \"--active\"));\n          }\n        } else {\n          lastUnlockedResizer.style.zIndex = visible ? 5000 : 2000;\n        }\n      }\n    };\n\n    _this.setScrollLeft = function (scrollLeft) {\n      _this.scrollLeft = scrollLeft;\n      var node = _this.props.hasLocked ? _this.getDOMNode().querySelector('.InovuaReactDataGrid__unlocked-wrapper') : _this.getDOMNode();\n\n      if (node) {\n        var transformPos = _this.props.rtl ? _this.props.getScrollLeftMax() - scrollLeft : -scrollLeft;\n        node.style.transform = \"translate3d(\".concat(transformPos, \"px, 0px, 0px)\");\n      }\n\n      if (_this.props.updateLockedWrapperPositions) {\n        _this.props.updateLockedWrapperPositions.call((0, _assertThisInitialized2.default)(_this), _this.props, scrollLeft, {\n          isHeader: true\n        });\n      }\n    };\n\n    _this.getPropsForCells = function (startIndex) {\n      var endIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : startIndex + 1;\n      var props = _this.props;\n      var renderInPortal = props.renderInPortal,\n          columnHeaderUserSelect = props.columnHeaderUserSelect,\n          columnResizeHandleWidth = props.columnResizeHandleWidth,\n          columnUserSelect = props.columnUserSelect,\n          data = props.data,\n          showColumnContextMenu = props.showColumnContextMenu,\n          showColumnFilterContextMenu = props.showColumnFilterContextMenu,\n          deselectAll = props.deselectAll,\n          firstLockedEndIndex = props.firstLockedEndIndex,\n          firstUnlockedIndex = props.firstUnlockedIndex,\n          filterable = props.filterable,\n          computedShowHeaderBorderRight = props.computedShowHeaderBorderRight,\n          hasLockedEnd = props.hasLockedEnd,\n          hasLockedStart = props.hasLockedStart,\n          lockedStartColumns = props.lockedStartColumns,\n          lockedEndColumns = props.lockedEndColumns,\n          nativeScroll = props.nativeScroll,\n          resizeProxyStyle = props.resizeProxyStyle,\n          rtl = props.rtl,\n          i18n = props.i18n,\n          scrollbarWidth = props.scrollbarWidth,\n          selectAll = props.selectAll,\n          selectedCount = props.selectedCount,\n          filterTypes = props.filterTypes,\n          computedSortable = props.computedSortable,\n          totalCount = props.totalCount,\n          renderSortTool = props.renderSortTool,\n          unselectedCount = props.unselectedCount,\n          virtualizeColumns = props.virtualizeColumns,\n          showColumnMenuTool = props.showColumnMenuTool,\n          showColumnMenuToolOnHover = props.showColumnMenuToolOnHover,\n          lastUnlockedIndex = props.lastUnlockedIndex,\n          lastLockedStartIndex = props.lastLockedStartIndex,\n          lastLockedEndIndex = props.lastLockedEndIndex,\n          theme = props.theme;\n      var columns = props.columns;\n\n      if (startIndex !== undefined) {\n        columns = columns.slice(startIndex, endIndex);\n      }\n\n      var firstLockedIndex = hasLockedEnd ? props.columns.length - lockedEndColumns.length : -1;\n      return columns.map(function (column, i) {\n        var sortableColumn = column.computedSortable,\n            resizableColumn = column.computedResizable;\n        var isSortable = sortableColumn;\n        var isResizable = resizableColumn;\n        var cellStyle = column.style;\n\n        if (props.headerHeight) {\n          if (column.style) {\n            cellStyle = Object.assign({}, cellStyle);\n          }\n\n          if (!cellStyle) {\n            cellStyle = {};\n          }\n\n          cellStyle.height = props.headerHeight;\n        }\n\n        var defaults = {\n          filterable: filterable,\n          renderSortTool: renderSortTool,\n          showColumnMenuTool: showColumnMenuTool,\n          showColumnMenuToolOnHover: showColumnMenuToolOnHover\n        };\n\n        if (columnUserSelect !== undefined) {\n          defaults.userSelect = columnUserSelect;\n        }\n\n        if (columnHeaderUserSelect !== undefined) {\n          defaults.headerUserSelect = columnHeaderUserSelect;\n        }\n\n        var cellProps = Object.assign(defaults, column, {\n          headerCell: true,\n          headerHeight: props.headerHeight,\n          i18n: i18n,\n          selectedCount: selectedCount,\n          unselectedCount: unselectedCount,\n          totalCount: totalCount,\n          showColumnContextMenu: showColumnContextMenu,\n          showColumnFilterContextMenu: showColumnFilterContextMenu,\n          selectAll: selectAll,\n          deselectAll: deselectAll,\n          style: cellStyle,\n          resizeProxyStyle: resizeProxyStyle,\n          renderInPortal: renderInPortal,\n          lastUnlockedIndex: lastUnlockedIndex,\n          lastLockedStartIndex: lastLockedStartIndex,\n          lastLockedEndIndex: lastLockedEndIndex,\n          filterTypes: filterTypes,\n          onFilterValueChange: _this.onFilterValueChange,\n          lastUnlocked: column.computedVisibleIndex === firstLockedIndex - 1,\n          columnResizeHandleWidth: columnResizeHandleWidth,\n          virtualizeColumns: virtualizeColumns,\n          rtl: rtl,\n          onResizeMouseDown: props.onResizeMouseDown,\n          onResizeTouchStart: props.onResizeTouchStart,\n          onMouseDown: _this.onCellMouseDown,\n          onTouchStart: _this.onCellTouchStart,\n          computedSortable: isSortable,\n          computedResizable: isResizable,\n          hasLockedStart: hasLockedStart,\n          nativeScroll: nativeScroll,\n          scrollbarWidth: scrollbarWidth,\n          data: data,\n          theme: theme\n        });\n        cellProps.onFocus = _this.onHeaderCellFocus.bind((0, _assertThisInitialized2.default)(_this), cellProps, column);\n\n        if (cellProps.group) {\n          cellProps.parentGroups = getParentGroups(cellProps.group, _this.props.computedGroupsMap, {\n            includeSelf: true\n          });\n        }\n\n        if (props.onCellClick) {\n          cellProps.onClick = props.onCellClick;\n        }\n\n        if (cellProps.visibilityTransitionDuration || cellProps.hideTransitionDuration || cellProps.showTransitionDuration) {\n          cellProps.onTransitionEnd = _this.onTransitionEnd.bind((0, _assertThisInitialized2.default)(_this), cellProps, column);\n        }\n\n        cellProps.onSortClick = (props.onSortClick || emptyFn).bind(null, cellProps);\n        cellProps.value = (0, _getCellHeader.default)(cellProps, column, props);\n        cellProps.onUnmount = _this.onCellUnmount;\n        cellProps.onMount = _this.onCellMount;\n        var showBorderLeft = cellProps.showBorderLeft,\n            showBorderRight = cellProps.showBorderRight;\n        cellProps.showBorderRight = cellProps.computedLocked === 'start' && cellProps.computedVisibleIndex == firstUnlockedIndex - 1 || computedShowHeaderBorderRight && column.computedVisibleIndex === column.computedVisibleCount - 1;\n        cellProps.lastInSection = cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex === lastLockedStartIndex : cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex === lastLockedEndIndex : cellProps.computedVisibleIndex === lastUnlockedIndex;\n        cellProps.firstInSection = cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex == 0 : cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex === firstLockedEndIndex : cellProps.computedVisibleIndex === firstUnlockedIndex;\n        cellProps.showBorderLeft = cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex >= firstLockedEndIndex : cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex > 0 : cellProps.computedVisibleIndex > firstUnlockedIndex;\n        var prevColumn = columns[i - 1];\n        var nextColumn = columns[i + 1];\n\n        if (prevColumn && prevColumn.nextBorderLeft !== undefined) {\n          cellProps.showBorderLeft = prevColumn.nextBorderLeft;\n        }\n\n        if (nextColumn && nextColumn.prevBorderRight !== undefined) {\n          cellProps.showBorderRight = nextColumn.prevBorderRight;\n        }\n\n        if (showBorderLeft !== undefined) {\n          cellProps.showBorderLeft = showBorderLeft;\n        }\n\n        if (showBorderRight !== undefined) {\n          cellProps.showBorderRight = showBorderRight;\n        }\n\n        return cellProps;\n      });\n    };\n\n    _this.onHeaderCellFocus = function (headerCellProps, column, e) {\n      if (_this.props.onColumnHeaderFocus) {\n        _this.props.onColumnHeaderFocus(headerCellProps, column, e);\n      }\n    };\n\n    _this.onTransitionEnd = function (cellProps, column, e) {\n      e.stopPropagation();\n\n      if (column.onTransitionEnd) {\n        column.onTransitionEnd(e);\n      }\n\n      if (_this.props.onTransitionEnd) {\n        _this.props.onTransitionEnd(e, cellProps);\n      }\n    };\n\n    _this.onCellMouseDown = function (headerCellProps, event) {\n      if (_this.props.onCellMouseDown) {\n        _this.props.onCellMouseDown(headerCellProps, event);\n      }\n    };\n\n    _this.onCellTouchStart = function (headerCellProps, event) {\n      if (_this.props.onCellTouchStart) {\n        _this.props.onCellTouchStart(headerCellProps, event);\n      }\n    };\n\n    _this.renderColumns = function () {\n      var _result2;\n\n      var props = _this.props;\n      var groups = props.computedGroupsMap,\n          hasLockedStart = props.hasLockedStart,\n          hasLockedEnd = props.hasLockedEnd,\n          lockedStartColumns = props.lockedStartColumns,\n          lockedEndColumns = props.lockedEndColumns,\n          columns = props.columns;\n\n      var renderRange = _this.getColumnRenderRange();\n\n      var cellProps = renderRange ? _this.getPropsForCells(renderRange.start, renderRange.end + 1) : _this.getPropsForCells();\n      var lockedStartCells;\n      var lockedEndCells;\n\n      if (renderRange) {\n        if (hasLockedStart) {\n          lockedStartCells = _this.getPropsForCells(0, lockedStartColumns.length);\n        }\n\n        if (hasLockedEnd) {\n          lockedEndCells = _this.getPropsForCells(columns.length - lockedEndColumns.length, columns.length);\n        }\n      }\n\n      if (groups) {\n        if (hasLockedStart || hasLockedEnd) {\n          if (hasLockedStart) {\n            lockedStartCells = lockedStartCells || _this.getPropsForCells(0, lockedStartColumns.length);\n            lockedStartCells = _this.renderGroupedCells(lockedStartCells);\n          }\n\n          if (hasLockedEnd) {\n            lockedEndCells = lockedEndCells || _this.getPropsForCells(columns.length - lockedEndColumns.length, columns.length);\n            lockedEndCells = _this.renderGroupedCells(lockedEndCells);\n          }\n\n          var unlockedCells = renderRange ? cellProps : _this.getPropsForCells(lockedStartColumns.length, columns.length - lockedEndColumns.length);\n          unlockedCells = _this.renderGroupedCells(unlockedCells);\n          return (0, _renderCellsMaybeLocked.default)([], _this.props, props.scrollLeft, {\n            lockedStartContent: lockedStartCells,\n            lockedEndContent: lockedEndCells,\n            unlockedContent: unlockedCells,\n            isHeader: true\n          });\n        }\n\n        return _this.renderGroupedCells(cellProps, groups);\n      }\n\n      var result = [];\n\n      if (hasLockedStart && lockedStartCells) {\n        var _result;\n\n        (_result = result).push.apply(_result, (0, _toConsumableArray2.default)(lockedStartCells));\n      }\n\n      (_result2 = result).push.apply(_result2, (0, _toConsumableArray2.default)(cellProps));\n\n      if (hasLockedEnd && lockedEndCells) {\n        var _result3;\n\n        (_result3 = result).push.apply(_result3, (0, _toConsumableArray2.default)(lockedEndCells));\n      }\n\n      result = result.map(function (cProps, index) {\n        return _react.default.createElement(_Cell.default, Object.assign({}, cProps, {\n          key: index\n        }));\n      });\n      return (0, _renderCellsMaybeLocked.default)(result, _this.props, props.scrollLeft, {\n        isHeader: true\n      });\n    };\n\n    _this.getCellDOMNodeAt = function (index) {\n      var _this$props3 = _this.props,\n          columns = _this$props3.columns,\n          showWarnings = _this$props3.showWarnings,\n          virtualizeColumns = _this$props3.virtualizeColumns;\n      var column = columns[index];\n\n      if (!column) {\n        return null;\n      }\n\n      var arr = column.computedLocked || !virtualizeColumns ? _this.getCells() : _this.getUnlockedCells();\n      var cell = arr.filter(function (c) {\n        return c.getProps().computedVisibleIndex === index;\n      })[0];\n\n      if (!cell && showWarnings) {\n        console.error(\"Cannot find dom cell at \".concat(index, \".\"));\n      }\n\n      return cell.getDOMNode ? cell.getDOMNode() : cell.domRef ? cell.domRef.current : null;\n    };\n\n    _this.renderHeaderGroup = function (groupName, groupItems) {\n      var _this$props4 = _this.props,\n          groups = _this$props4.computedGroupsMap,\n          columnsMap = _this$props4.columnsMap,\n          hasLockedStart = _this$props4.hasLockedStart,\n          hasLockedEnd = _this$props4.hasLockedEnd,\n          lockedStartColumns = _this$props4.lockedStartColumns,\n          lockedEndColumns = _this$props4.lockedEndColumns,\n          firstLockedEndIndex = _this$props4.firstLockedEndIndex,\n          lastLockedStartIndex = _this$props4.lastLockedStartIndex,\n          lastLockedEndIndex = _this$props4.lastLockedEndIndex,\n          firstUnlockedIndex = _this$props4.firstUnlockedIndex,\n          lastUnlockedIndex = _this$props4.lastUnlockedIndex,\n          resizeProxyStyle = _this$props4.resizeProxyStyle,\n          rtl = _this$props4.rtl;\n      var group = groups[groupName];\n      var parentGroups = getParentGroups(groupName, groups);\n      var depth = group ? group.computedDepth : 0;\n      var columns = groupItems.filter(function (x) {\n        return !!x;\n      }).reduce(function (acc, item) {\n        if (item.type == _HeaderGroup.default) {\n          acc.push.apply(acc, (0, _toConsumableArray2.default)(item.props.columns));\n        } else {\n          acc.push(item.props.id);\n        }\n\n        return acc;\n      }, []);\n      var style = {\n        width: columns.reduce(function (width, colId) {\n          return width + columnsMap[colId].computedWidth;\n        }, 0)\n      };\n      var resizable = group && group.resizable !== undefined ? group.resizable : _this.props.resizable;\n      var allColumnsUnresizable = columns.reduce(function (acc, colId) {\n        return acc && columnsMap[colId].computedResizable === false;\n      }, true);\n\n      if (allColumnsUnresizable) {\n        resizable = false;\n      }\n\n      var firstColumn = columnsMap[columns[0]];\n      var lastColumn = columnsMap[columns[columns.length - 1]];\n      var firstIndex = firstColumn.computedVisibleIndex;\n      var lastIndex = lastColumn.computedVisibleIndex;\n      var showBorderLeft = firstIndex >= lockedStartColumns.length ? firstIndex > lockedStartColumns.length || firstColumn.computedLocked === 'end' : firstIndex > 0;\n      var containsLastColumn = lastColumn.computedVisibleIndex === _this.props.columns.length - 1;\n      var showBorderRight = lastColumn.computedVisibleIndex === lockedStartColumns.length - 1;\n      var adjustResizer = hasLockedEnd && lastColumn.computedVisibleIndex === _this.props.columns.length - lockedEndColumns.length - 1;\n      var firstInSection = firstColumn.computedLocked === 'start' ? firstIndex === 0 : firstColumn.computedLocked === 'end' ? firstIndex == firstLockedEndIndex : firstIndex === firstUnlockedIndex;\n      var lastInSection = lastColumn.computedLocked === 'start' ? lastIndex === lastLockedStartIndex : lastColumn.computedLocked === 'end' ? lastIndex == lastLockedEndIndex : lastIndex === lastUnlockedIndex;\n\n      if (firstColumn.inTransition) {\n        var duration = firstColumn.inShowTransition ? firstColumn.showTransitionDuration : firstColumn.hideTransitionDuration;\n        duration = duration || firstColumn.visibilityTransitionDuration;\n        style.transitionDuration = typeof duration == 'number' ? \"\".concat(duration, \"ms\") : duration;\n      }\n\n      var key = \"\".concat(groupName, \"-\").concat(depth, \"-\").concat(columns.join('-'));\n      return _react.default.createElement(_HeaderGroup.default, {\n        key: key,\n        depth: depth,\n        group: group,\n        style: style,\n        rtl: rtl,\n        firstIndex: firstIndex,\n        lastUnlockedIndex: _this.props.lastUnlockedIndex,\n        lastLockedStartIndex: _this.props.lastLockedStartIndex,\n        lastLockedEndIndex: _this.props.lastLockedEndIndex,\n        filterable: _this.props.filterable,\n        inTransition: firstColumn.inTransition,\n        inShowTransition: firstColumn.inShowTransition,\n        inHideTransition: firstColumn.inHideTransition,\n        showTransitionDuration: firstColumn.showTransitionDuration,\n        hideTransitionDuration: firstColumn.hideTransitionDuration,\n        visibilityTransitionDuration: firstColumn.visibilityTransitionDuration,\n        onMouseDown: _this.props.onGroupMouseDown,\n        columns: columns,\n        resizeProxyStyle: resizeProxyStyle,\n        locked: lastColumn.computedLocked === 'start' ? 'start' : firstColumn.computedLocked === 'end' ? 'end' : false,\n        parentGroups: parentGroups,\n        containsLastColumn: containsLastColumn,\n        firstInSection: firstInSection,\n        lastInSection: lastInSection,\n        adjustResizer: adjustResizer,\n        showBorderLeft: showBorderLeft,\n        showBorderRight: showBorderRight,\n        children: groupItems,\n        resizable: resizable,\n        columnResizeHandleWidth: _this.props.columnResizeHandleWidth,\n        onResizeMouseDown: _this.onResizeMouseDown,\n        onResizeTouchStart: _this.onResizeTouchStart\n      });\n    };\n\n    _this.onResizeMouseDown = function (groupProps, headerGroupInstance, event) {\n      if (_this.props.onResizeMouseDown) {\n        var colId = groupProps.columns[groupProps.columns.length - 1];\n        var visibleIndex = _this.props.columnsMap[colId].computedVisibleIndex;\n\n        _this.props.onResizeMouseDown({\n          visibleIndex: visibleIndex,\n          computedVisibleIndex: visibleIndex\n        }, {\n          colHeaderNode: headerGroupInstance.domRef ? headerGroupInstance.domRef.current : null,\n          event: event,\n          groupColumns: groupProps.columns\n        });\n      }\n    };\n\n    _this.onResizeTouchStart = function (groupProps, headerGroupInstance, event) {\n      if (_this.props.onResizeTouchStart) {\n        var colId = groupProps.columns[groupProps.columns.length - 1];\n        var visibleIndex = _this.props.columnsMap[colId].computedVisibleIndex;\n\n        _this.props.onResizeTouchStart({\n          visibleIndex: visibleIndex\n        }, {\n          colHeaderNode: headerGroupInstance.domRef ? headerGroupInstance.domRef.current : null,\n          event: event,\n          groupColumns: groupProps.columns\n        });\n      }\n    };\n\n    _this.getItemsForDepth = function (items, depth) {\n      return items.map(function (item) {\n        return item.props.depth === depth ? item : null;\n      });\n    };\n\n    _this.renderItems = function (items) {\n      var computedGroupsDepth = _this.props.computedGroupsDepth;\n      var currentDepth = computedGroupsDepth + 1;\n\n      while (currentDepth > 0) {\n        items = _this.groupItemsForDepth(items, currentDepth);\n        currentDepth--;\n      }\n\n      return items;\n    };\n\n    _this.groupItemsForDepth = function (items, depth) {\n      var depthItems = _this.getItemsForDepth(items, depth);\n\n      var index = 0;\n      var item = depthItems[index];\n\n      var currentGroupName = _this.getItemGroupName(item);\n\n      var itemGroupName;\n      var groupItems;\n      var headerGroup;\n      var groupStartIndex = 0;\n      var len = depthItems.length + 1;\n\n      while (index <= len) {\n        itemGroupName = _this.getItemGroupName(item);\n\n        if (currentGroupName == null && itemGroupName != null) {\n          groupStartIndex = index;\n          currentGroupName = itemGroupName;\n        } else if (itemGroupName != currentGroupName) {\n          groupItems = items.slice(groupStartIndex, index);\n          headerGroup = _this.renderHeaderGroup(currentGroupName, groupItems);\n          items.splice(groupStartIndex, groupItems.length, headerGroup);\n          depthItems.splice(groupStartIndex, groupItems.length, headerGroup);\n          index = groupStartIndex;\n          currentGroupName = null;\n        }\n\n        index++;\n        item = depthItems[index];\n      }\n\n      return items;\n    };\n\n    _this.getItemGroupName = function (item) {\n      if (!item) {\n        return null;\n      }\n\n      var groups = _this.props.computedGroupsMap;\n      var groupName;\n\n      if (item.type == _HeaderGroup.default) {\n        groupName = item.props.group ? item.props.group.group : null;\n      } else {\n        groupName = item.props.group;\n      }\n\n      var group = groups[groupName];\n      return group ? group.name || '' : '';\n    };\n\n    _this.fixDepth = function (item, depthDiff) {\n      while (depthDiff >= 0) {\n        item = _this.renderHeaderGroup(_this.getItemGroupName(item), [item], {\n          depth: item.props.depth - 1,\n          forceHeader: true\n        });\n        depthDiff--;\n      }\n\n      return item;\n    };\n\n    _this.renderGroupedCells = function (cellProps) {\n      var _this$props5 = _this.props,\n          groups = _this$props5.computedGroupsMap,\n          showWarnings = _this$props5.showWarnings;\n      var items = cellProps.map(function (props, index) {\n        var group = groups[props.group];\n\n        if (showWarnings && props.group && !group) {\n          _this.warn(\"Column \\\"\".concat(props.id, \"\\\" references group \\\"\").concat(props.group, \"\\\", but the group is never defined in the groups prop.\"));\n        }\n\n        var depth = group ? group.computedDepth + 1 : 0;\n        return _react.default.createElement(_Cell.default, Object.assign({}, props, {\n          key: props.id,\n          depth: depth\n        }));\n      });\n      return _this.renderItems(items);\n    };\n\n    _this.onFilterValueChange = function (filterValue, cellProps) {\n      if (_this.props.onFilterValueChange) {\n        _this.props.onFilterValueChange({\n          filterValue: filterValue,\n          columnId: cellProps.id,\n          columnIndex: cellProps.computedVisibleIndex,\n          cellProps: cellProps\n        });\n      }\n    };\n\n    _this.warn = function (msg) {\n      console.error(msg);\n    };\n\n    _this.cells = [];\n    _this.unlockedCells = [];\n    _this.domRef = _react.default.createRef();\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaDataGridHeader, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cells = null;\n      this.unlockedCells = null;\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.columnRenderCount < this.props.columnRenderCount) {\n        var newLength = Math.max(nextProps.columnRenderCount + 1, 0);\n        this.getUnlockedCells().forEach(function (cell) {\n          cell.setStateProps(null);\n        });\n      }\n    }\n  }, {\n    key: \"getDOMNode\",\n    value: function getDOMNode() {\n      return this.domRef.current;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var columns = props.columns,\n          rtl = props.rtl;\n      var className = (0, _join.default)('InovuaReactDataGrid__header', \"InovuaReactDataGrid__header--direction-\".concat(rtl ? 'rtl' : 'ltr'), props.className);\n      var style = this.prepareStyle(props);\n      var children = this.renderColumns(columns);\n      var cleanedProps = (0, _reactCleanProps.default)(props, InovuaDataGridHeader.propTypes);\n      return _react.default.createElement(\"div\", Object.assign({}, cleanedProps, {\n        className: className,\n        data: null,\n        style: style,\n        ref: this.domRef\n      }), children);\n    }\n  }]);\n  return InovuaDataGridHeader;\n}(_react.default.Component);\n\nexports.default = InovuaDataGridHeader;\nInovuaDataGridHeader.defaultProps = {\n  onResize: function onResize() {},\n  showWarnings: !_uglified.default\n};\nInovuaDataGridHeader.propTypes = {\n  availableWidth: _propTypes.default.number,\n  columnHeaderUserSelect: _propTypes.default.bool,\n  columnRenderCount: _propTypes.default.number,\n  columnResizeHandleWidth: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  columnUserSelect: _propTypes.default.bool,\n  columns: _propTypes.default.array,\n  columnsMap: _propTypes.default.object,\n  lockedStartColumns: _propTypes.default.array,\n  unlockedColumns: _propTypes.default.array,\n  lockedEndColumns: _propTypes.default.array,\n  deselectAll: _propTypes.default.func,\n  firstLockedEndIndex: _propTypes.default.number,\n  firstLockedStartIndex: _propTypes.default.number,\n  isMultiSort: _propTypes.default.bool,\n  onGroupMouseDown: _propTypes.default.func,\n  onResizeMouseDown: _propTypes.default.func,\n  onResizeTouchStart: _propTypes.default.func,\n  resizable: _propTypes.default.bool,\n  resizeProxyStyle: _propTypes.default.object,\n  scrollbarWidth: _propTypes.default.number,\n  selectAll: _propTypes.default.func,\n  selectedCount: _propTypes.default.number,\n  sortInfo: _propTypes.default.any,\n  sortable: _propTypes.default.bool,\n  totalCount: _propTypes.default.number,\n  unselectedCount: _propTypes.default.number,\n  virtualListBorderLeft: _propTypes.default.number,\n  virtualListBorderRight: _propTypes.default.number,\n  nativeScroll: _propTypes.default.bool,\n  computedShowHeaderBorderRight: _propTypes.default.any,\n  hasLockedEnd: _propTypes.default.bool,\n  hasLockedStart: _propTypes.default.bool,\n  showColumnContextMenu: _propTypes.default.func,\n  showColumnFilterContextMenu: _propTypes.default.func,\n  onColumnHeaderFocus: _propTypes.default.func,\n  showColumnMenuTool: _propTypes.default.bool,\n  showColumnMenuToolOnHover: _propTypes.default.bool,\n  firstUnlockedIndex: _propTypes.default.number,\n  lockedRows: _propTypes.default.any,\n  i18n: _propTypes.default.any,\n  filterable: _propTypes.default.bool,\n  filterTypes: _propTypes.default.any,\n  computedGroupsDepth: _propTypes.default.number,\n  computedGroupsMap: _propTypes.default.objectOf(_propTypes.default.shape({\n    name: _propTypes.default.string.isRequired\n  })),\n  headerHeight: _propTypes.default.number,\n  maxWidth: _propTypes.default.number,\n  renderSortTool: _propTypes.default.func,\n  minWidth: _propTypes.default.number,\n  onCellMouseDown: _propTypes.default.func,\n  onCellTouchStart: _propTypes.default.func,\n  onCellClick: _propTypes.default.func,\n  computedOnColumnFilterValueChange: _propTypes.default.func,\n  onSortClick: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  scrollLeft: _propTypes.default.number,\n  showWarnings: _propTypes.default.bool,\n  unselected: _propTypes.default.any,\n  virtualizeColumns: _propTypes.default.bool,\n  width: _propTypes.default.number,\n  updateLockedWrapperPositions: _propTypes.default.func,\n  lastLockedEndIndex: _propTypes.default.number,\n  lastLockedStartIndex: _propTypes.default.number,\n  lastUnlockedIndex: _propTypes.default.number,\n  getScrollLeftMax: _propTypes.default.func,\n  rtl: _propTypes.default.bool,\n  renderLockedEndCells: _propTypes.default.func,\n  renderLockedStartCells: _propTypes.default.func,\n  renderInPortal: _propTypes.default.any,\n  onFilterValueChange: _propTypes.default.func\n};","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/Layout/ColumnLayout/HeaderLayout/Header/index.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","enumerable","get","_getCellHeader","default","getParentGroups","_toConsumableArray2","_defineProperty2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_react","_propTypes","_reactCleanProps","_uglified","_Cell","_HeaderGroup","_renderCellsMaybeLocked","_join","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","notEmpty","x","emptyFn","groupName","groups","_ref","undefined","includeSelf","parentGroups","nextGroup","group","InovuaDataGridHeader","_React$Component","_super","props","_this","onCellMount","cellProps","c","dragging","virtualizeColumns","computedLocked","unlockedCells","cells","onCellUnmount","cell","findCellById","cellId","cellsArray","getProps","id","getCells","columns","_props","computedVisibleIndex","getGroupsAndCells","add","item","indexOf","parent","setCellIndex","index","getPropsForCells","setStateProps","getCellIndex","sortCells","sort","cell1","cell2","getUnlockedCells","_this$props","lockedStartColumns","_props2","getSortedCells","getGaps","startIndex","endIndex","visibleCellPositions","gaps","setColumnRenderStartIndex","columnRenderStartIndex","renderRange","getColumnRenderRange","start","end","cellIndex","outOfView","newIndex","_this$props2","columnRenderCount","lockedEndColumns","minStartIndex","maxEndIndex","Math","max","columnRenderEndIndex","min","prepareStyle","headerHeight","width","minWidth","scrollbarWidth","style","height","zIndex","scrollLeft","transformPos","rtl","getScrollLeftMax","transform","concat","notifyScrollLeftMax","scrollLeftMax","resizerClassName","lastUnlockedResizer","getDOMNode","querySelector","columnResizeHandleWidth","remaining","visible","pointerEvents","classList","remove","setScrollLeft","node","hasLocked","updateLockedWrapperPositions","isHeader","renderInPortal","columnHeaderUserSelect","columnUserSelect","data","showColumnContextMenu","showColumnFilterContextMenu","deselectAll","firstLockedEndIndex","firstUnlockedIndex","filterable","computedShowHeaderBorderRight","hasLockedEnd","hasLockedStart","nativeScroll","resizeProxyStyle","i18n","selectAll","selectedCount","filterTypes","computedSortable","totalCount","renderSortTool","unselectedCount","showColumnMenuTool","showColumnMenuToolOnHover","lastUnlockedIndex","lastLockedStartIndex","lastLockedEndIndex","theme","slice","firstLockedIndex","map","column","sortableColumn","resizableColumn","computedResizable","isSortable","isResizable","cellStyle","assign","defaults","userSelect","headerUserSelect","headerCell","onFilterValueChange","lastUnlocked","onResizeMouseDown","onResizeTouchStart","onMouseDown","onCellMouseDown","onTouchStart","onCellTouchStart","onFocus","onHeaderCellFocus","bind","computedGroupsMap","onCellClick","onClick","visibilityTransitionDuration","hideTransitionDuration","showTransitionDuration","onTransitionEnd","onSortClick","onUnmount","onMount","showBorderLeft","showBorderRight","computedVisibleCount","lastInSection","firstInSection","prevColumn","nextColumn","nextBorderLeft","prevBorderRight","headerCellProps","onColumnHeaderFocus","stopPropagation","event","renderColumns","_result2","lockedStartCells","lockedEndCells","renderGroupedCells","lockedStartContent","lockedEndContent","unlockedContent","_result","_result3","cProps","createElement","getCellDOMNodeAt","_this$props3","showWarnings","arr","console","error","domRef","current","renderHeaderGroup","groupItems","_this$props4","columnsMap","depth","computedDepth","reduce","acc","type","colId","computedWidth","resizable","allColumnsUnresizable","firstColumn","lastColumn","firstIndex","lastIndex","containsLastColumn","adjustResizer","inTransition","duration","inShowTransition","transitionDuration","join","inHideTransition","onGroupMouseDown","locked","children","groupProps","headerGroupInstance","visibleIndex","colHeaderNode","groupColumns","getItemsForDepth","items","renderItems","computedGroupsDepth","currentDepth","groupItemsForDepth","depthItems","currentGroupName","getItemGroupName","itemGroupName","headerGroup","groupStartIndex","len","splice","name","fixDepth","depthDiff","forceHeader","_this$props5","warn","filterValue","columnId","columnIndex","msg","createRef","componentWillUnmount","UNSAFE_componentWillReceiveProps","nextProps","newLength","render","className","cleanedProps","propTypes","ref","Component","defaultProps","onResize","availableWidth","number","bool","oneOfType","string","array","unlockedColumns","func","firstLockedStartIndex","isMultiSort","sortInfo","any","sortable","virtualListBorderLeft","virtualListBorderRight","lockedRows","objectOf","shape","isRequired","maxWidth","computedOnColumnFilterValueChange","unselected","renderLockedEndCells","renderLockedStartCells"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"getCellHeader\", {\n  enumerable: true,\n  get: function get() {\n    return _getCellHeader.default;\n  }\n});\nexports.default = exports.getParentGroups = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactCleanProps = _interopRequireDefault(require(\"../../../../packages/react-clean-props\"));\n\nvar _uglified = _interopRequireDefault(require(\"../../../../packages/uglified\"));\n\nvar _Cell = _interopRequireDefault(require(\"../../Cell\"));\n\nvar _HeaderGroup = _interopRequireDefault(require(\"./HeaderGroup\"));\n\nvar _renderCellsMaybeLocked = _interopRequireDefault(require(\"../../Content/renderCellsMaybeLocked\"));\n\nvar _join = _interopRequireDefault(require(\"../../../../packages/join\"));\n\nvar _getCellHeader = _interopRequireDefault(require(\"./getCellHeader\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar notEmpty = function notEmpty(x) {\n  return !!x;\n};\n\nvar emptyFn = function emptyFn() {};\n\nvar getParentGroups = function getParentGroups(groupName, groups) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    includeSelf: false\n  },\n      includeSelf = _ref.includeSelf;\n\n  var parentGroups = [];\n\n  if (!groups) {\n    return parentGroups;\n  }\n\n  var nextGroup = groups[groupName] ? groups[groups[groupName].group] : null;\n\n  if (includeSelf && groups[groupName]) {\n    parentGroups.push(groups[groupName]);\n  }\n\n  while (nextGroup) {\n    parentGroups.push(nextGroup);\n    nextGroup = groups[nextGroup.group];\n  }\n\n  return parentGroups;\n};\n\nexports.getParentGroups = getParentGroups;\n\nvar InovuaDataGridHeader = function (_React$Component) {\n  (0, _inherits2.default)(InovuaDataGridHeader, _React$Component);\n\n  var _super = _createSuper(InovuaDataGridHeader);\n\n  function InovuaDataGridHeader(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, InovuaDataGridHeader);\n    _this = _super.call(this, props);\n\n    _this.onCellMount = function (cellProps, c) {\n      if (cellProps.dragging) {\n        return;\n      }\n\n      if (_this.props.virtualizeColumns && !cellProps.computedLocked) {\n        _this.unlockedCells.push(c);\n      }\n\n      _this.cells.push(c);\n    };\n\n    _this.onCellUnmount = function (cellProps, cell) {\n      if (cellProps.dragging) {\n        return;\n      }\n\n      if (_this.props.virtualizeColumns && !cellProps.computedLocked) {\n        if (_this.unlockedCells) {\n          _this.unlockedCells = _this.unlockedCells.filter(function (c) {\n            return c !== cell;\n          });\n        }\n      }\n\n      if (_this.cells) {\n        _this.cells = _this.cells.filter(function (c) {\n          return c !== cell;\n        });\n      }\n    };\n\n    _this.findCellById = function (cellId) {\n      var cellsArray = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _this.cells;\n      return cellsArray.filter(function (c) {\n        return c.getProps().id === cellId;\n      })[0];\n    };\n\n    _this.getCells = function () {\n      var result = [];\n\n      _this.props.columns.forEach(function (c) {\n        var cell = _this.findCellById(c.id);\n\n        if (cell) {\n          var _props = cell.getProps();\n\n          result[_props.computedVisibleIndex] = cell;\n        }\n      });\n\n      return result;\n    };\n\n    _this.getGroupsAndCells = function () {\n      var cells = _this.getCells();\n\n      var result = [];\n\n      var add = function add(item) {\n        if (result.indexOf(item) == -1) {\n          result.push(item);\n        }\n      };\n\n      cells.forEach(function (cell) {\n        var target = cell;\n\n        while (target && target.props.parent) {\n          add(target);\n          target = target.props.parent;\n        }\n\n        if (target) {\n          add(target);\n        }\n      });\n      return result;\n    };\n\n    _this.setCellIndex = function (cell, index) {\n      var cellProps = _this.getPropsForCells(index)[0];\n\n      cell.setStateProps(cellProps);\n    };\n\n    _this.getCellIndex = function (cell) {\n      return cell.getProps().index;\n    };\n\n    _this.sortCells = function (cells) {\n      return cells.sort(function (cell1, cell2) {\n        return _this.getCellIndex(cell1) - _this.getCellIndex(cell2);\n      });\n    };\n\n    _this.getUnlockedCells = function () {\n      var _this$props = _this.props,\n          columns = _this$props.columns,\n          lockedStartColumns = _this$props.lockedStartColumns;\n      var result = [];\n\n      _this.props.columns.forEach(function (c) {\n        var cell = _this.findCellById(c.id, _this.unlockedCells);\n\n        if (cell) {\n          var _props2 = cell.getProps();\n\n          var index = _props2.computedVisibleIndex - lockedStartColumns.length;\n          result[index] = cell;\n        }\n      });\n\n      return result;\n    };\n\n    _this.getSortedCells = function () {\n      return _this.sortCells(_this.getUnlockedCells());\n    };\n\n    _this.getGaps = function (startIndex, endIndex) {\n      var visibleCellPositions = {};\n\n      _this.getSortedCells().forEach(function (cell) {\n        visibleCellPositions[_this.getCellIndex(cell)] = true;\n      });\n\n      var gaps = [];\n\n      for (; startIndex <= endIndex; startIndex++) {\n        if (!visibleCellPositions[startIndex]) {\n          gaps.push(startIndex);\n        }\n      }\n\n      return gaps;\n    };\n\n    _this.setColumnRenderStartIndex = function (columnRenderStartIndex) {\n      _this.columnRenderStartIndex = columnRenderStartIndex;\n\n      var renderRange = _this.getColumnRenderRange();\n\n      if (!renderRange) {\n        return;\n      }\n\n      var start = renderRange.start,\n          end = renderRange.end;\n\n      var gaps = _this.getGaps(start, end);\n\n      if (!gaps.length) {\n        return;\n      }\n\n      _this.getUnlockedCells().forEach(function (cell) {\n        var cellProps = cell.getProps();\n        var cellIndex = cellProps.computedVisibleIndex,\n            computedLocked = cellProps.computedLocked;\n\n        if (computedLocked) {\n          return;\n        }\n\n        var outOfView = cellIndex < start || cellIndex > end;\n        var newIndex;\n\n        if (outOfView && gaps.length) {\n          newIndex = gaps[gaps.length - 1];\n\n          _this.setCellIndex(cell, newIndex);\n\n          gaps.length -= 1;\n        }\n      });\n    };\n\n    _this.getColumnRenderRange = function () {\n      var _this$props2 = _this.props,\n          columnRenderCount = _this$props2.columnRenderCount,\n          lockedStartColumns = _this$props2.lockedStartColumns,\n          lockedEndColumns = _this$props2.lockedEndColumns,\n          virtualizeColumns = _this$props2.virtualizeColumns,\n          columns = _this$props2.columns;\n\n      if (!virtualizeColumns) {\n        return null;\n      }\n\n      var minStartIndex = lockedStartColumns.length;\n      var maxEndIndex = columns.length - lockedEndColumns.length - 1;\n      var columnRenderStartIndex = _this.columnRenderStartIndex == null ? _this.props.columnRenderStartIndex || 0 : _this.columnRenderStartIndex;\n      columnRenderStartIndex = Math.max(columnRenderStartIndex, minStartIndex);\n\n      if (columnRenderCount != null) {\n        var columnRenderEndIndex = columnRenderStartIndex + columnRenderCount;\n        columnRenderEndIndex = Math.min(columnRenderEndIndex, maxEndIndex);\n\n        if (columnRenderEndIndex - columnRenderCount != columnRenderStartIndex) {\n          columnRenderStartIndex = Math.max(columnRenderEndIndex - columnRenderCount, minStartIndex);\n        }\n\n        return {\n          start: columnRenderStartIndex,\n          end: columnRenderEndIndex\n        };\n      }\n\n      return null;\n    };\n\n    _this.prepareStyle = function (props) {\n      var headerHeight = props.headerHeight,\n          width = props.width,\n          minWidth = props.minWidth,\n          index = props.index,\n          scrollbarWidth = props.scrollbarWidth;\n\n      var style = _objectSpread({}, props.style);\n\n      if (width || minWidth) {\n        if (width) {\n          style.width = Math.max(width, minWidth || 0);\n        }\n\n        if (minWidth) {\n          style.minWidth = minWidth;\n        }\n      }\n\n      if (headerHeight) {\n        style.height = headerHeight;\n      }\n\n      style.zIndex = style.zIndex || 100 - (index || 0);\n      var scrollLeft = _this.props.scrollLeft != null ? _this.props.scrollLeft : _this.scrollLeft;\n      var transformPos = _this.props.rtl ? _this.props.getScrollLeftMax() - scrollLeft : -scrollLeft;\n      style.transform = \"translate3d(\".concat(transformPos || 0, \"px, 0px, 0px)\");\n      return style;\n    };\n\n    _this.notifyScrollLeftMax = function (scrollLeftMax) {\n      var resizerClassName = 'InovuaReactDataGrid__column-resizer';\n\n      var lastUnlockedResizer = _this.getDOMNode().querySelector(\".\".concat(resizerClassName, \"--last-unlocked\"));\n\n      if (lastUnlockedResizer) {\n        var columnResizeHandleWidth = _this.props.columnResizeHandleWidth;\n        var remaining = scrollLeftMax - (_this.scrollLeft + columnResizeHandleWidth / 2);\n        var visible = remaining <= 0;\n        lastUnlockedResizer.style.pointerEvents = visible ? 'auto' : 'none';\n        var classList = lastUnlockedResizer.classList;\n\n        if (classList && classList.add && classList.remove) {\n          if (visible) {\n            classList.add(\"\".concat(resizerClassName, \"--active\"));\n          } else {\n            classList.remove(\"\".concat(resizerClassName, \"--active\"));\n          }\n        } else {\n          lastUnlockedResizer.style.zIndex = visible ? 5000 : 2000;\n        }\n      }\n    };\n\n    _this.setScrollLeft = function (scrollLeft) {\n      _this.scrollLeft = scrollLeft;\n      var node = _this.props.hasLocked ? _this.getDOMNode().querySelector('.InovuaReactDataGrid__unlocked-wrapper') : _this.getDOMNode();\n\n      if (node) {\n        var transformPos = _this.props.rtl ? _this.props.getScrollLeftMax() - scrollLeft : -scrollLeft;\n        node.style.transform = \"translate3d(\".concat(transformPos, \"px, 0px, 0px)\");\n      }\n\n      if (_this.props.updateLockedWrapperPositions) {\n        _this.props.updateLockedWrapperPositions.call((0, _assertThisInitialized2.default)(_this), _this.props, scrollLeft, {\n          isHeader: true\n        });\n      }\n    };\n\n    _this.getPropsForCells = function (startIndex) {\n      var endIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : startIndex + 1;\n      var props = _this.props;\n      var renderInPortal = props.renderInPortal,\n          columnHeaderUserSelect = props.columnHeaderUserSelect,\n          columnResizeHandleWidth = props.columnResizeHandleWidth,\n          columnUserSelect = props.columnUserSelect,\n          data = props.data,\n          showColumnContextMenu = props.showColumnContextMenu,\n          showColumnFilterContextMenu = props.showColumnFilterContextMenu,\n          deselectAll = props.deselectAll,\n          firstLockedEndIndex = props.firstLockedEndIndex,\n          firstUnlockedIndex = props.firstUnlockedIndex,\n          filterable = props.filterable,\n          computedShowHeaderBorderRight = props.computedShowHeaderBorderRight,\n          hasLockedEnd = props.hasLockedEnd,\n          hasLockedStart = props.hasLockedStart,\n          lockedStartColumns = props.lockedStartColumns,\n          lockedEndColumns = props.lockedEndColumns,\n          nativeScroll = props.nativeScroll,\n          resizeProxyStyle = props.resizeProxyStyle,\n          rtl = props.rtl,\n          i18n = props.i18n,\n          scrollbarWidth = props.scrollbarWidth,\n          selectAll = props.selectAll,\n          selectedCount = props.selectedCount,\n          filterTypes = props.filterTypes,\n          computedSortable = props.computedSortable,\n          totalCount = props.totalCount,\n          renderSortTool = props.renderSortTool,\n          unselectedCount = props.unselectedCount,\n          virtualizeColumns = props.virtualizeColumns,\n          showColumnMenuTool = props.showColumnMenuTool,\n          showColumnMenuToolOnHover = props.showColumnMenuToolOnHover,\n          lastUnlockedIndex = props.lastUnlockedIndex,\n          lastLockedStartIndex = props.lastLockedStartIndex,\n          lastLockedEndIndex = props.lastLockedEndIndex,\n          theme = props.theme;\n      var columns = props.columns;\n\n      if (startIndex !== undefined) {\n        columns = columns.slice(startIndex, endIndex);\n      }\n\n      var firstLockedIndex = hasLockedEnd ? props.columns.length - lockedEndColumns.length : -1;\n      return columns.map(function (column, i) {\n        var sortableColumn = column.computedSortable,\n            resizableColumn = column.computedResizable;\n        var isSortable = sortableColumn;\n        var isResizable = resizableColumn;\n        var cellStyle = column.style;\n\n        if (props.headerHeight) {\n          if (column.style) {\n            cellStyle = Object.assign({}, cellStyle);\n          }\n\n          if (!cellStyle) {\n            cellStyle = {};\n          }\n\n          cellStyle.height = props.headerHeight;\n        }\n\n        var defaults = {\n          filterable: filterable,\n          renderSortTool: renderSortTool,\n          showColumnMenuTool: showColumnMenuTool,\n          showColumnMenuToolOnHover: showColumnMenuToolOnHover\n        };\n\n        if (columnUserSelect !== undefined) {\n          defaults.userSelect = columnUserSelect;\n        }\n\n        if (columnHeaderUserSelect !== undefined) {\n          defaults.headerUserSelect = columnHeaderUserSelect;\n        }\n\n        var cellProps = Object.assign(defaults, column, {\n          headerCell: true,\n          headerHeight: props.headerHeight,\n          i18n: i18n,\n          selectedCount: selectedCount,\n          unselectedCount: unselectedCount,\n          totalCount: totalCount,\n          showColumnContextMenu: showColumnContextMenu,\n          showColumnFilterContextMenu: showColumnFilterContextMenu,\n          selectAll: selectAll,\n          deselectAll: deselectAll,\n          style: cellStyle,\n          resizeProxyStyle: resizeProxyStyle,\n          renderInPortal: renderInPortal,\n          lastUnlockedIndex: lastUnlockedIndex,\n          lastLockedStartIndex: lastLockedStartIndex,\n          lastLockedEndIndex: lastLockedEndIndex,\n          filterTypes: filterTypes,\n          onFilterValueChange: _this.onFilterValueChange,\n          lastUnlocked: column.computedVisibleIndex === firstLockedIndex - 1,\n          columnResizeHandleWidth: columnResizeHandleWidth,\n          virtualizeColumns: virtualizeColumns,\n          rtl: rtl,\n          onResizeMouseDown: props.onResizeMouseDown,\n          onResizeTouchStart: props.onResizeTouchStart,\n          onMouseDown: _this.onCellMouseDown,\n          onTouchStart: _this.onCellTouchStart,\n          computedSortable: isSortable,\n          computedResizable: isResizable,\n          hasLockedStart: hasLockedStart,\n          nativeScroll: nativeScroll,\n          scrollbarWidth: scrollbarWidth,\n          data: data,\n          theme: theme\n        });\n        cellProps.onFocus = _this.onHeaderCellFocus.bind((0, _assertThisInitialized2.default)(_this), cellProps, column);\n\n        if (cellProps.group) {\n          cellProps.parentGroups = getParentGroups(cellProps.group, _this.props.computedGroupsMap, {\n            includeSelf: true\n          });\n        }\n\n        if (props.onCellClick) {\n          cellProps.onClick = props.onCellClick;\n        }\n\n        if (cellProps.visibilityTransitionDuration || cellProps.hideTransitionDuration || cellProps.showTransitionDuration) {\n          cellProps.onTransitionEnd = _this.onTransitionEnd.bind((0, _assertThisInitialized2.default)(_this), cellProps, column);\n        }\n\n        cellProps.onSortClick = (props.onSortClick || emptyFn).bind(null, cellProps);\n        cellProps.value = (0, _getCellHeader.default)(cellProps, column, props);\n        cellProps.onUnmount = _this.onCellUnmount;\n        cellProps.onMount = _this.onCellMount;\n        var showBorderLeft = cellProps.showBorderLeft,\n            showBorderRight = cellProps.showBorderRight;\n        cellProps.showBorderRight = cellProps.computedLocked === 'start' && cellProps.computedVisibleIndex == firstUnlockedIndex - 1 || computedShowHeaderBorderRight && column.computedVisibleIndex === column.computedVisibleCount - 1;\n        cellProps.lastInSection = cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex === lastLockedStartIndex : cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex === lastLockedEndIndex : cellProps.computedVisibleIndex === lastUnlockedIndex;\n        cellProps.firstInSection = cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex == 0 : cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex === firstLockedEndIndex : cellProps.computedVisibleIndex === firstUnlockedIndex;\n        cellProps.showBorderLeft = cellProps.computedLocked === 'end' ? cellProps.computedVisibleIndex >= firstLockedEndIndex : cellProps.computedLocked === 'start' ? cellProps.computedVisibleIndex > 0 : cellProps.computedVisibleIndex > firstUnlockedIndex;\n        var prevColumn = columns[i - 1];\n        var nextColumn = columns[i + 1];\n\n        if (prevColumn && prevColumn.nextBorderLeft !== undefined) {\n          cellProps.showBorderLeft = prevColumn.nextBorderLeft;\n        }\n\n        if (nextColumn && nextColumn.prevBorderRight !== undefined) {\n          cellProps.showBorderRight = nextColumn.prevBorderRight;\n        }\n\n        if (showBorderLeft !== undefined) {\n          cellProps.showBorderLeft = showBorderLeft;\n        }\n\n        if (showBorderRight !== undefined) {\n          cellProps.showBorderRight = showBorderRight;\n        }\n\n        return cellProps;\n      });\n    };\n\n    _this.onHeaderCellFocus = function (headerCellProps, column, e) {\n      if (_this.props.onColumnHeaderFocus) {\n        _this.props.onColumnHeaderFocus(headerCellProps, column, e);\n      }\n    };\n\n    _this.onTransitionEnd = function (cellProps, column, e) {\n      e.stopPropagation();\n\n      if (column.onTransitionEnd) {\n        column.onTransitionEnd(e);\n      }\n\n      if (_this.props.onTransitionEnd) {\n        _this.props.onTransitionEnd(e, cellProps);\n      }\n    };\n\n    _this.onCellMouseDown = function (headerCellProps, event) {\n      if (_this.props.onCellMouseDown) {\n        _this.props.onCellMouseDown(headerCellProps, event);\n      }\n    };\n\n    _this.onCellTouchStart = function (headerCellProps, event) {\n      if (_this.props.onCellTouchStart) {\n        _this.props.onCellTouchStart(headerCellProps, event);\n      }\n    };\n\n    _this.renderColumns = function () {\n      var _result2;\n\n      var props = _this.props;\n      var groups = props.computedGroupsMap,\n          hasLockedStart = props.hasLockedStart,\n          hasLockedEnd = props.hasLockedEnd,\n          lockedStartColumns = props.lockedStartColumns,\n          lockedEndColumns = props.lockedEndColumns,\n          columns = props.columns;\n\n      var renderRange = _this.getColumnRenderRange();\n\n      var cellProps = renderRange ? _this.getPropsForCells(renderRange.start, renderRange.end + 1) : _this.getPropsForCells();\n      var lockedStartCells;\n      var lockedEndCells;\n\n      if (renderRange) {\n        if (hasLockedStart) {\n          lockedStartCells = _this.getPropsForCells(0, lockedStartColumns.length);\n        }\n\n        if (hasLockedEnd) {\n          lockedEndCells = _this.getPropsForCells(columns.length - lockedEndColumns.length, columns.length);\n        }\n      }\n\n      if (groups) {\n        if (hasLockedStart || hasLockedEnd) {\n          if (hasLockedStart) {\n            lockedStartCells = lockedStartCells || _this.getPropsForCells(0, lockedStartColumns.length);\n            lockedStartCells = _this.renderGroupedCells(lockedStartCells);\n          }\n\n          if (hasLockedEnd) {\n            lockedEndCells = lockedEndCells || _this.getPropsForCells(columns.length - lockedEndColumns.length, columns.length);\n            lockedEndCells = _this.renderGroupedCells(lockedEndCells);\n          }\n\n          var unlockedCells = renderRange ? cellProps : _this.getPropsForCells(lockedStartColumns.length, columns.length - lockedEndColumns.length);\n          unlockedCells = _this.renderGroupedCells(unlockedCells);\n          return (0, _renderCellsMaybeLocked.default)([], _this.props, props.scrollLeft, {\n            lockedStartContent: lockedStartCells,\n            lockedEndContent: lockedEndCells,\n            unlockedContent: unlockedCells,\n            isHeader: true\n          });\n        }\n\n        return _this.renderGroupedCells(cellProps, groups);\n      }\n\n      var result = [];\n\n      if (hasLockedStart && lockedStartCells) {\n        var _result;\n\n        (_result = result).push.apply(_result, (0, _toConsumableArray2.default)(lockedStartCells));\n      }\n\n      (_result2 = result).push.apply(_result2, (0, _toConsumableArray2.default)(cellProps));\n\n      if (hasLockedEnd && lockedEndCells) {\n        var _result3;\n\n        (_result3 = result).push.apply(_result3, (0, _toConsumableArray2.default)(lockedEndCells));\n      }\n\n      result = result.map(function (cProps, index) {\n        return _react.default.createElement(_Cell.default, Object.assign({}, cProps, {\n          key: index\n        }));\n      });\n      return (0, _renderCellsMaybeLocked.default)(result, _this.props, props.scrollLeft, {\n        isHeader: true\n      });\n    };\n\n    _this.getCellDOMNodeAt = function (index) {\n      var _this$props3 = _this.props,\n          columns = _this$props3.columns,\n          showWarnings = _this$props3.showWarnings,\n          virtualizeColumns = _this$props3.virtualizeColumns;\n      var column = columns[index];\n\n      if (!column) {\n        return null;\n      }\n\n      var arr = column.computedLocked || !virtualizeColumns ? _this.getCells() : _this.getUnlockedCells();\n      var cell = arr.filter(function (c) {\n        return c.getProps().computedVisibleIndex === index;\n      })[0];\n\n      if (!cell && showWarnings) {\n        console.error(\"Cannot find dom cell at \".concat(index, \".\"));\n      }\n\n      return cell.getDOMNode ? cell.getDOMNode() : cell.domRef ? cell.domRef.current : null;\n    };\n\n    _this.renderHeaderGroup = function (groupName, groupItems) {\n      var _this$props4 = _this.props,\n          groups = _this$props4.computedGroupsMap,\n          columnsMap = _this$props4.columnsMap,\n          hasLockedStart = _this$props4.hasLockedStart,\n          hasLockedEnd = _this$props4.hasLockedEnd,\n          lockedStartColumns = _this$props4.lockedStartColumns,\n          lockedEndColumns = _this$props4.lockedEndColumns,\n          firstLockedEndIndex = _this$props4.firstLockedEndIndex,\n          lastLockedStartIndex = _this$props4.lastLockedStartIndex,\n          lastLockedEndIndex = _this$props4.lastLockedEndIndex,\n          firstUnlockedIndex = _this$props4.firstUnlockedIndex,\n          lastUnlockedIndex = _this$props4.lastUnlockedIndex,\n          resizeProxyStyle = _this$props4.resizeProxyStyle,\n          rtl = _this$props4.rtl;\n      var group = groups[groupName];\n      var parentGroups = getParentGroups(groupName, groups);\n      var depth = group ? group.computedDepth : 0;\n      var columns = groupItems.filter(function (x) {\n        return !!x;\n      }).reduce(function (acc, item) {\n        if (item.type == _HeaderGroup.default) {\n          acc.push.apply(acc, (0, _toConsumableArray2.default)(item.props.columns));\n        } else {\n          acc.push(item.props.id);\n        }\n\n        return acc;\n      }, []);\n      var style = {\n        width: columns.reduce(function (width, colId) {\n          return width + columnsMap[colId].computedWidth;\n        }, 0)\n      };\n      var resizable = group && group.resizable !== undefined ? group.resizable : _this.props.resizable;\n      var allColumnsUnresizable = columns.reduce(function (acc, colId) {\n        return acc && columnsMap[colId].computedResizable === false;\n      }, true);\n\n      if (allColumnsUnresizable) {\n        resizable = false;\n      }\n\n      var firstColumn = columnsMap[columns[0]];\n      var lastColumn = columnsMap[columns[columns.length - 1]];\n      var firstIndex = firstColumn.computedVisibleIndex;\n      var lastIndex = lastColumn.computedVisibleIndex;\n      var showBorderLeft = firstIndex >= lockedStartColumns.length ? firstIndex > lockedStartColumns.length || firstColumn.computedLocked === 'end' : firstIndex > 0;\n      var containsLastColumn = lastColumn.computedVisibleIndex === _this.props.columns.length - 1;\n      var showBorderRight = lastColumn.computedVisibleIndex === lockedStartColumns.length - 1;\n      var adjustResizer = hasLockedEnd && lastColumn.computedVisibleIndex === _this.props.columns.length - lockedEndColumns.length - 1;\n      var firstInSection = firstColumn.computedLocked === 'start' ? firstIndex === 0 : firstColumn.computedLocked === 'end' ? firstIndex == firstLockedEndIndex : firstIndex === firstUnlockedIndex;\n      var lastInSection = lastColumn.computedLocked === 'start' ? lastIndex === lastLockedStartIndex : lastColumn.computedLocked === 'end' ? lastIndex == lastLockedEndIndex : lastIndex === lastUnlockedIndex;\n\n      if (firstColumn.inTransition) {\n        var duration = firstColumn.inShowTransition ? firstColumn.showTransitionDuration : firstColumn.hideTransitionDuration;\n        duration = duration || firstColumn.visibilityTransitionDuration;\n        style.transitionDuration = typeof duration == 'number' ? \"\".concat(duration, \"ms\") : duration;\n      }\n\n      var key = \"\".concat(groupName, \"-\").concat(depth, \"-\").concat(columns.join('-'));\n      return _react.default.createElement(_HeaderGroup.default, {\n        key: key,\n        depth: depth,\n        group: group,\n        style: style,\n        rtl: rtl,\n        firstIndex: firstIndex,\n        lastUnlockedIndex: _this.props.lastUnlockedIndex,\n        lastLockedStartIndex: _this.props.lastLockedStartIndex,\n        lastLockedEndIndex: _this.props.lastLockedEndIndex,\n        filterable: _this.props.filterable,\n        inTransition: firstColumn.inTransition,\n        inShowTransition: firstColumn.inShowTransition,\n        inHideTransition: firstColumn.inHideTransition,\n        showTransitionDuration: firstColumn.showTransitionDuration,\n        hideTransitionDuration: firstColumn.hideTransitionDuration,\n        visibilityTransitionDuration: firstColumn.visibilityTransitionDuration,\n        onMouseDown: _this.props.onGroupMouseDown,\n        columns: columns,\n        resizeProxyStyle: resizeProxyStyle,\n        locked: lastColumn.computedLocked === 'start' ? 'start' : firstColumn.computedLocked === 'end' ? 'end' : false,\n        parentGroups: parentGroups,\n        containsLastColumn: containsLastColumn,\n        firstInSection: firstInSection,\n        lastInSection: lastInSection,\n        adjustResizer: adjustResizer,\n        showBorderLeft: showBorderLeft,\n        showBorderRight: showBorderRight,\n        children: groupItems,\n        resizable: resizable,\n        columnResizeHandleWidth: _this.props.columnResizeHandleWidth,\n        onResizeMouseDown: _this.onResizeMouseDown,\n        onResizeTouchStart: _this.onResizeTouchStart\n      });\n    };\n\n    _this.onResizeMouseDown = function (groupProps, headerGroupInstance, event) {\n      if (_this.props.onResizeMouseDown) {\n        var colId = groupProps.columns[groupProps.columns.length - 1];\n        var visibleIndex = _this.props.columnsMap[colId].computedVisibleIndex;\n\n        _this.props.onResizeMouseDown({\n          visibleIndex: visibleIndex,\n          computedVisibleIndex: visibleIndex\n        }, {\n          colHeaderNode: headerGroupInstance.domRef ? headerGroupInstance.domRef.current : null,\n          event: event,\n          groupColumns: groupProps.columns\n        });\n      }\n    };\n\n    _this.onResizeTouchStart = function (groupProps, headerGroupInstance, event) {\n      if (_this.props.onResizeTouchStart) {\n        var colId = groupProps.columns[groupProps.columns.length - 1];\n        var visibleIndex = _this.props.columnsMap[colId].computedVisibleIndex;\n\n        _this.props.onResizeTouchStart({\n          visibleIndex: visibleIndex\n        }, {\n          colHeaderNode: headerGroupInstance.domRef ? headerGroupInstance.domRef.current : null,\n          event: event,\n          groupColumns: groupProps.columns\n        });\n      }\n    };\n\n    _this.getItemsForDepth = function (items, depth) {\n      return items.map(function (item) {\n        return item.props.depth === depth ? item : null;\n      });\n    };\n\n    _this.renderItems = function (items) {\n      var computedGroupsDepth = _this.props.computedGroupsDepth;\n      var currentDepth = computedGroupsDepth + 1;\n\n      while (currentDepth > 0) {\n        items = _this.groupItemsForDepth(items, currentDepth);\n        currentDepth--;\n      }\n\n      return items;\n    };\n\n    _this.groupItemsForDepth = function (items, depth) {\n      var depthItems = _this.getItemsForDepth(items, depth);\n\n      var index = 0;\n      var item = depthItems[index];\n\n      var currentGroupName = _this.getItemGroupName(item);\n\n      var itemGroupName;\n      var groupItems;\n      var headerGroup;\n      var groupStartIndex = 0;\n      var len = depthItems.length + 1;\n\n      while (index <= len) {\n        itemGroupName = _this.getItemGroupName(item);\n\n        if (currentGroupName == null && itemGroupName != null) {\n          groupStartIndex = index;\n          currentGroupName = itemGroupName;\n        } else if (itemGroupName != currentGroupName) {\n          groupItems = items.slice(groupStartIndex, index);\n          headerGroup = _this.renderHeaderGroup(currentGroupName, groupItems);\n          items.splice(groupStartIndex, groupItems.length, headerGroup);\n          depthItems.splice(groupStartIndex, groupItems.length, headerGroup);\n          index = groupStartIndex;\n          currentGroupName = null;\n        }\n\n        index++;\n        item = depthItems[index];\n      }\n\n      return items;\n    };\n\n    _this.getItemGroupName = function (item) {\n      if (!item) {\n        return null;\n      }\n\n      var groups = _this.props.computedGroupsMap;\n      var groupName;\n\n      if (item.type == _HeaderGroup.default) {\n        groupName = item.props.group ? item.props.group.group : null;\n      } else {\n        groupName = item.props.group;\n      }\n\n      var group = groups[groupName];\n      return group ? group.name || '' : '';\n    };\n\n    _this.fixDepth = function (item, depthDiff) {\n      while (depthDiff >= 0) {\n        item = _this.renderHeaderGroup(_this.getItemGroupName(item), [item], {\n          depth: item.props.depth - 1,\n          forceHeader: true\n        });\n        depthDiff--;\n      }\n\n      return item;\n    };\n\n    _this.renderGroupedCells = function (cellProps) {\n      var _this$props5 = _this.props,\n          groups = _this$props5.computedGroupsMap,\n          showWarnings = _this$props5.showWarnings;\n      var items = cellProps.map(function (props, index) {\n        var group = groups[props.group];\n\n        if (showWarnings && props.group && !group) {\n          _this.warn(\"Column \\\"\".concat(props.id, \"\\\" references group \\\"\").concat(props.group, \"\\\", but the group is never defined in the groups prop.\"));\n        }\n\n        var depth = group ? group.computedDepth + 1 : 0;\n        return _react.default.createElement(_Cell.default, Object.assign({}, props, {\n          key: props.id,\n          depth: depth\n        }));\n      });\n      return _this.renderItems(items);\n    };\n\n    _this.onFilterValueChange = function (filterValue, cellProps) {\n      if (_this.props.onFilterValueChange) {\n        _this.props.onFilterValueChange({\n          filterValue: filterValue,\n          columnId: cellProps.id,\n          columnIndex: cellProps.computedVisibleIndex,\n          cellProps: cellProps\n        });\n      }\n    };\n\n    _this.warn = function (msg) {\n      console.error(msg);\n    };\n\n    _this.cells = [];\n    _this.unlockedCells = [];\n    _this.domRef = _react.default.createRef();\n    return _this;\n  }\n\n  (0, _createClass2.default)(InovuaDataGridHeader, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cells = null;\n      this.unlockedCells = null;\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (nextProps.columnRenderCount < this.props.columnRenderCount) {\n        var newLength = Math.max(nextProps.columnRenderCount + 1, 0);\n        this.getUnlockedCells().forEach(function (cell) {\n          cell.setStateProps(null);\n        });\n      }\n    }\n  }, {\n    key: \"getDOMNode\",\n    value: function getDOMNode() {\n      return this.domRef.current;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var columns = props.columns,\n          rtl = props.rtl;\n      var className = (0, _join.default)('InovuaReactDataGrid__header', \"InovuaReactDataGrid__header--direction-\".concat(rtl ? 'rtl' : 'ltr'), props.className);\n      var style = this.prepareStyle(props);\n      var children = this.renderColumns(columns);\n      var cleanedProps = (0, _reactCleanProps.default)(props, InovuaDataGridHeader.propTypes);\n      return _react.default.createElement(\"div\", Object.assign({}, cleanedProps, {\n        className: className,\n        data: null,\n        style: style,\n        ref: this.domRef\n      }), children);\n    }\n  }]);\n  return InovuaDataGridHeader;\n}(_react.default.Component);\n\nexports.default = InovuaDataGridHeader;\nInovuaDataGridHeader.defaultProps = {\n  onResize: function onResize() {},\n  showWarnings: !_uglified.default\n};\nInovuaDataGridHeader.propTypes = {\n  availableWidth: _propTypes.default.number,\n  columnHeaderUserSelect: _propTypes.default.bool,\n  columnRenderCount: _propTypes.default.number,\n  columnResizeHandleWidth: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  columnUserSelect: _propTypes.default.bool,\n  columns: _propTypes.default.array,\n  columnsMap: _propTypes.default.object,\n  lockedStartColumns: _propTypes.default.array,\n  unlockedColumns: _propTypes.default.array,\n  lockedEndColumns: _propTypes.default.array,\n  deselectAll: _propTypes.default.func,\n  firstLockedEndIndex: _propTypes.default.number,\n  firstLockedStartIndex: _propTypes.default.number,\n  isMultiSort: _propTypes.default.bool,\n  onGroupMouseDown: _propTypes.default.func,\n  onResizeMouseDown: _propTypes.default.func,\n  onResizeTouchStart: _propTypes.default.func,\n  resizable: _propTypes.default.bool,\n  resizeProxyStyle: _propTypes.default.object,\n  scrollbarWidth: _propTypes.default.number,\n  selectAll: _propTypes.default.func,\n  selectedCount: _propTypes.default.number,\n  sortInfo: _propTypes.default.any,\n  sortable: _propTypes.default.bool,\n  totalCount: _propTypes.default.number,\n  unselectedCount: _propTypes.default.number,\n  virtualListBorderLeft: _propTypes.default.number,\n  virtualListBorderRight: _propTypes.default.number,\n  nativeScroll: _propTypes.default.bool,\n  computedShowHeaderBorderRight: _propTypes.default.any,\n  hasLockedEnd: _propTypes.default.bool,\n  hasLockedStart: _propTypes.default.bool,\n  showColumnContextMenu: _propTypes.default.func,\n  showColumnFilterContextMenu: _propTypes.default.func,\n  onColumnHeaderFocus: _propTypes.default.func,\n  showColumnMenuTool: _propTypes.default.bool,\n  showColumnMenuToolOnHover: _propTypes.default.bool,\n  firstUnlockedIndex: _propTypes.default.number,\n  lockedRows: _propTypes.default.any,\n  i18n: _propTypes.default.any,\n  filterable: _propTypes.default.bool,\n  filterTypes: _propTypes.default.any,\n  computedGroupsDepth: _propTypes.default.number,\n  computedGroupsMap: _propTypes.default.objectOf(_propTypes.default.shape({\n    name: _propTypes.default.string.isRequired\n  })),\n  headerHeight: _propTypes.default.number,\n  maxWidth: _propTypes.default.number,\n  renderSortTool: _propTypes.default.func,\n  minWidth: _propTypes.default.number,\n  onCellMouseDown: _propTypes.default.func,\n  onCellTouchStart: _propTypes.default.func,\n  onCellClick: _propTypes.default.func,\n  computedOnColumnFilterValueChange: _propTypes.default.func,\n  onSortClick: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  scrollLeft: _propTypes.default.number,\n  showWarnings: _propTypes.default.bool,\n  unselected: _propTypes.default.any,\n  virtualizeColumns: _propTypes.default.bool,\n  width: _propTypes.default.number,\n  updateLockedWrapperPositions: _propTypes.default.func,\n  lastLockedEndIndex: _propTypes.default.number,\n  lastLockedStartIndex: _propTypes.default.number,\n  lastUnlockedIndex: _propTypes.default.number,\n  getScrollLeftMax: _propTypes.default.func,\n  rtl: _propTypes.default.bool,\n  renderLockedEndCells: _propTypes.default.func,\n  renderLockedStartCells: _propTypes.default.func,\n  renderInPortal: _propTypes.default.any,\n  onFilterValueChange: _propTypes.default.func\n};"]},"metadata":{},"sourceType":"script"}