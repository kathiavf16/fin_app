{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _join = _interopRequireDefault(require(\"../packages/join\"));\n\nvar _usePrevious = _interopRequireDefault(require(\"../hooks/usePrevious\"));\n\nvar _getScrollbarWidth = _interopRequireDefault(require(\"../packages/getScrollbarWidth\"));\n\nvar CLASS_NAME = 'InovuaReactDataGrid__row';\nvar SCROLLBAR_WIDTH = (0, _getScrollbarWidth.default)();\nvar RTL_OFFSET = SCROLLBAR_WIDTH || 17;\n\nvar ActiveRowIndicator = function ActiveRowIndicator(props) {\n  var _style;\n\n  var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      offset = _useState2[0],\n      setOffset = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(0),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      _scrollLeft = _useState4[0],\n      setScrollLeft = _useState4[1];\n\n  var activeIndex = props.activeIndex,\n      rtl = props.rtl,\n      rtlOffset = props.rtlOffset;\n  var oldActiveIndex = (0, _usePrevious.default)(activeIndex, -1);\n\n  var _ref = props.activeRowRef.current || {},\n      _ref$instance = _ref.instance,\n      row = _ref$instance === void 0 ? {} : _ref$instance;\n\n  var hasBorderBottom = row.hasBorderBottom,\n      hasBorderTop = row.hasBorderTop;\n  var rowProps = row.props || {};\n  var groupColumn = rowProps.groupColumn,\n      data = rowProps.data,\n      depth = rowProps.depth,\n      groupNestingSize = rowProps.groupNestingSize;\n  var deps = [activeIndex, rtlOffset, oldActiveIndex, props.dataSourceCount, props.computedExpandedRows, props.computedExpandedNodes, props.computedRowHeights, row];\n\n  var updateLayout = function updateLayout(config) {\n    var node = (props.activeRowRef.current || {\n      node: null\n    }).node;\n    var instance = (props.activeRowRef.current || {\n      instance: null\n    }).instance;\n\n    if (!node || !node.parentNode || props.dataSourceCount < activeIndex) {\n      return setOffset('');\n    }\n\n    if (instance && instance.props.rowIndex !== props.activeIndex) {\n      requestAnimationFrame(function () {\n        return updateLayout({\n          raf: false\n        });\n      });\n      return;\n    }\n\n    var doSetOffset = function doSetOffset(left, top) {\n      return setOffset(\"translate3d(\".concat(left || 0, \"px, \").concat(top, \", 0px\"));\n    };\n\n    if (config && config.raf === false) {\n      doSetOffset(rtl ? -RTL_OFFSET : 0, node.style.top);\n    } else {\n      requestAnimationFrame(function () {\n        if (node && node.parentNode) {\n          doSetOffset(rtl ? -RTL_OFFSET : 0, node.style.top);\n        }\n      });\n    }\n  };\n\n  (0, _react.useLayoutEffect)(updateLayout, deps);\n  (0, _react.useEffect)(function () {\n    if (props.handle) {\n      props.handle({\n        setScrollLeft: setScrollLeft\n      });\n    }\n\n    return function () {\n      if (props.handle) {\n        props.handle(null);\n      }\n    };\n  }, [props.handle]);\n  var groupDepth = groupColumn ? 0 : data && data.__group ? data.depth - 1 : data && data.__summary ? rowProps.summaryProps.depth : depth || 0;\n  var left = (groupNestingSize || 0) * groupDepth;\n  var style = (_style = {}, (0, _defineProperty2.default)(_style, rtl ? 'right' : 'left', left), (0, _defineProperty2.default)(_style, \"width\", props.width - left), _style);\n  var transform;\n\n  if (!offset) {\n    style.opacity = 0;\n  } else {\n    style.willChange = 'transform';\n    transform = offset;\n    style.height = props.activeRowHeight;\n  }\n\n  if (transform) {\n    style.transform = transform;\n  }\n\n  return _react.default.createElement(\"div\", {\n    key: \"active-row-borders\",\n    className: (0, _join.default)(\"\".concat(CLASS_NAME, \"-active-borders\"), offset != '' ? \"\".concat(CLASS_NAME, \"-active-borders--active\") : '', hasBorderTop && \"\".concat(CLASS_NAME, \"-active-borders--has-border-top\"), hasBorderBottom && \"\".concat(CLASS_NAME, \"-active-borders--has-border-bottom\")),\n    style: style\n  }, _react.default.createElement(\"div\", {\n    className: \"\".concat(CLASS_NAME, \"-active-borders-inner\")\n  }));\n};\n\nvar _default = ActiveRowIndicator;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/ActiveRowIndicator/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_defineProperty2","_slicedToArray2","_react","_join","_usePrevious","_getScrollbarWidth","CLASS_NAME","SCROLLBAR_WIDTH","RTL_OFFSET","ActiveRowIndicator","props","_style","_useState","useState","_useState2","offset","setOffset","_useState3","_useState4","_scrollLeft","setScrollLeft","activeIndex","rtl","rtlOffset","oldActiveIndex","_ref","activeRowRef","current","_ref$instance","instance","row","hasBorderBottom","hasBorderTop","rowProps","groupColumn","data","depth","groupNestingSize","deps","dataSourceCount","computedExpandedRows","computedExpandedNodes","computedRowHeights","updateLayout","config","node","parentNode","rowIndex","requestAnimationFrame","raf","doSetOffset","left","top","concat","style","useLayoutEffect","useEffect","handle","groupDepth","__group","__summary","summaryProps","width","transform","opacity","willChange","height","activeRowHeight","createElement","key","className","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _join = _interopRequireDefault(require(\"../packages/join\"));\n\nvar _usePrevious = _interopRequireDefault(require(\"../hooks/usePrevious\"));\n\nvar _getScrollbarWidth = _interopRequireDefault(require(\"../packages/getScrollbarWidth\"));\n\nvar CLASS_NAME = 'InovuaReactDataGrid__row';\nvar SCROLLBAR_WIDTH = (0, _getScrollbarWidth.default)();\nvar RTL_OFFSET = SCROLLBAR_WIDTH || 17;\n\nvar ActiveRowIndicator = function ActiveRowIndicator(props) {\n  var _style;\n\n  var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      offset = _useState2[0],\n      setOffset = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(0),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      _scrollLeft = _useState4[0],\n      setScrollLeft = _useState4[1];\n\n  var activeIndex = props.activeIndex,\n      rtl = props.rtl,\n      rtlOffset = props.rtlOffset;\n  var oldActiveIndex = (0, _usePrevious.default)(activeIndex, -1);\n\n  var _ref = props.activeRowRef.current || {},\n      _ref$instance = _ref.instance,\n      row = _ref$instance === void 0 ? {} : _ref$instance;\n\n  var hasBorderBottom = row.hasBorderBottom,\n      hasBorderTop = row.hasBorderTop;\n  var rowProps = row.props || {};\n  var groupColumn = rowProps.groupColumn,\n      data = rowProps.data,\n      depth = rowProps.depth,\n      groupNestingSize = rowProps.groupNestingSize;\n  var deps = [activeIndex, rtlOffset, oldActiveIndex, props.dataSourceCount, props.computedExpandedRows, props.computedExpandedNodes, props.computedRowHeights, row];\n\n  var updateLayout = function updateLayout(config) {\n    var node = (props.activeRowRef.current || {\n      node: null\n    }).node;\n    var instance = (props.activeRowRef.current || {\n      instance: null\n    }).instance;\n\n    if (!node || !node.parentNode || props.dataSourceCount < activeIndex) {\n      return setOffset('');\n    }\n\n    if (instance && instance.props.rowIndex !== props.activeIndex) {\n      requestAnimationFrame(function () {\n        return updateLayout({\n          raf: false\n        });\n      });\n      return;\n    }\n\n    var doSetOffset = function doSetOffset(left, top) {\n      return setOffset(\"translate3d(\".concat(left || 0, \"px, \").concat(top, \", 0px\"));\n    };\n\n    if (config && config.raf === false) {\n      doSetOffset(rtl ? -RTL_OFFSET : 0, node.style.top);\n    } else {\n      requestAnimationFrame(function () {\n        if (node && node.parentNode) {\n          doSetOffset(rtl ? -RTL_OFFSET : 0, node.style.top);\n        }\n      });\n    }\n  };\n\n  (0, _react.useLayoutEffect)(updateLayout, deps);\n  (0, _react.useEffect)(function () {\n    if (props.handle) {\n      props.handle({\n        setScrollLeft: setScrollLeft\n      });\n    }\n\n    return function () {\n      if (props.handle) {\n        props.handle(null);\n      }\n    };\n  }, [props.handle]);\n  var groupDepth = groupColumn ? 0 : data && data.__group ? data.depth - 1 : data && data.__summary ? rowProps.summaryProps.depth : depth || 0;\n  var left = (groupNestingSize || 0) * groupDepth;\n  var style = (_style = {}, (0, _defineProperty2.default)(_style, rtl ? 'right' : 'left', left), (0, _defineProperty2.default)(_style, \"width\", props.width - left), _style);\n  var transform;\n\n  if (!offset) {\n    style.opacity = 0;\n  } else {\n    style.willChange = 'transform';\n    transform = offset;\n    style.height = props.activeRowHeight;\n  }\n\n  if (transform) {\n    style.transform = transform;\n  }\n\n  return _react.default.createElement(\"div\", {\n    key: \"active-row-borders\",\n    className: (0, _join.default)(\"\".concat(CLASS_NAME, \"-active-borders\"), offset != '' ? \"\".concat(CLASS_NAME, \"-active-borders--active\") : '', hasBorderTop && \"\".concat(CLASS_NAME, \"-active-borders--has-border-top\"), hasBorderBottom && \"\".concat(CLASS_NAME, \"-active-borders--has-border-bottom\")),\n    style: style\n  }, _react.default.createElement(\"div\", {\n    className: \"\".concat(CLASS_NAME, \"-active-borders-inner\")\n  }));\n};\n\nvar _default = ActiveRowIndicator;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}