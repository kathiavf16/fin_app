{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _autoBind = _interopRequireDefault(require(\"../../../packages/react-class/autoBind\"));\n\nvar _Field = _interopRequireDefault(require(\"../../Field\"));\n\nvar _join = _interopRequireDefault(require(\"../../../common/join\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar preventDefault = function preventDefault(e) {\n  return e.preventDefault();\n};\n\nvar getClearButtonClassNames = function getClearButtonClassNames(props) {\n  var clearButtonClassName = (0, _join.default)(\"\".concat(props.rootClassName, \"__clear-button\"), props.clearButtonClassName);\n  return {\n    clearButtonClassName: clearButtonClassName\n  };\n};\n\nvar isControlled = function isControlled(props) {\n  return props.value !== undefined;\n};\n\nvar emptyObject = {};\n\nvar TextInput = function (_Component) {\n  (0, _inherits2.default)(TextInput, _Component);\n\n  var _super = _createSuper(TextInput);\n\n  function TextInput(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, TextInput);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderClearIcon\", function (svgProps) {\n      var result;\n\n      if (_this.props.renderClearIcon && typeof _this.props.renderClearIcon === 'function') {\n        result = _this.props.renderClearIcon(_objectSpread({}, svgProps));\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"svg\", {\n          style: _objectSpread({}, svgProps),\n          viewBox: \"0 0 10 10\"\n        }, _react.default.createElement(\"path\", {\n          fill: \"none\",\n          fillRule: \"evenodd\",\n          strokeLinecap: \"round\",\n          strokeWidth: \"1.33\",\n          d: \"M1 1l8 8m0-8L1 9\"\n        }));\n      }\n\n      return result;\n    });\n\n    _this.fieldRef = function (field) {\n      _this.field = field;\n    };\n\n    _this.state = {\n      focused: false,\n      value: props.defaultValue == null ? '' : props.defaultValue\n    };\n    (0, _autoBind.default)((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(TextInput, [{\n    key: \"handleChange\",\n    value: function handleChange(value, event) {\n      this.setValue(value, event);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.field.focus();\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value, event) {\n      if (!isControlled(this.props)) {\n        this.setState({\n          value: value\n        });\n      }\n\n      if (this.props.inputProps && this.props.inputProps.onChange) {\n        this.props.inputProps.onChange(value, event);\n      }\n\n      if (this.props.onChange) {\n        this.props.onChange(value, event);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props,\n          state = this.state;\n      var wrapperProps = props.wrapperProps,\n          style = props.style,\n          enableClearButton = props.enableClearButton;\n      var inputProps = props.inputProps || emptyObject;\n      var inputClassName = (0, _join.default)(\"\".concat(props.rootClassName, \"__input\"), inputProps.className);\n      var value = isControlled(props) ? props.value : state.value;\n\n      var fieldProps = _objectSpread(_objectSpread({\n        size: 1\n      }, inputProps), {}, {\n        ref: this.fieldRef,\n        className: inputClassName,\n        onChange: this.handleChange,\n        value: value,\n        type: props.type,\n        stopChangePropagation: props.stopChangePropagation\n      });\n\n      if (props.hidden) {\n        fieldProps.hidden = props.hidden;\n      }\n\n      if (props.name) {\n        fieldProps.name = props.name;\n      }\n\n      if (props.placeholder) {\n        fieldProps.placeholder = props.placeholder;\n      }\n\n      if (props.required) {\n        fieldProps.required = props.required;\n      }\n\n      if (props.readOnly) {\n        fieldProps.readOnly = props.readOnly;\n      }\n\n      if (props.autoFocus) {\n        fieldProps.autoFocus = props.autoFocus;\n      }\n\n      if (props.maxLength != undefined) {\n        fieldProps.maxLength = props.maxLength;\n      }\n\n      if (props.minLength != undefined) {\n        fieldProps.minLength = props.minLength;\n      }\n\n      if (props.size != undefined) {\n        fieldProps.size = props.size;\n      }\n\n      if (props.disabled) {\n        fieldProps.disabled = props.disabled;\n      }\n\n      var className = (0, _join.default)(props.rootClassName, props.className, props.rtl ? \"\".concat(props.rootClassName, \"--rtl\") : \"\".concat(props.rootClassName, \"--ltr\"), props.theme && \"\".concat(props.rootClassName, \"--theme-\").concat(props.theme), enableClearButton && \"\".concat(props.rootClassName, \"--enable-clear-button\"), state.focused && \"\".concat(props.rootClassName, \"--focused\"), fieldProps.disabled && \"\".concat(props.rootClassName, \"--disabled\"));\n\n      var input = _react.default.createElement(_Field.default, fieldProps);\n\n      var wrapperDomProps = (0, _cleanProps.default)(wrapperProps, TextInput.propTypes);\n      var domProps = (0, _cleanProps.default)(props, TextInput.propTypes);\n      delete domProps.onChange;\n      return _react.default.createElement(\"div\", (0, _extends2.default)({}, domProps, wrapperDomProps, {\n        className: className,\n        style: style,\n        onBlur: this.onBlur,\n        onClick: this.onClick,\n        onFocus: this.onFocus\n      }), input, this.renderClearButtonWrapper(fieldProps));\n    }\n  }, {\n    key: \"handleClearButtonClick\",\n    value: function handleClearButtonClick(event) {\n      this.setState({\n        focused: true\n      });\n      this.setValue('');\n      this.focus();\n    }\n  }, {\n    key: \"renderClearButtonWrapper\",\n    value: function renderClearButtonWrapper(fieldProps) {\n      var props = this.props,\n          state = this.state;\n      var clearButtonColor = props.clearButtonColor,\n          clearButtonStyle = props.clearButtonStyle,\n          clearButtonSize = props.clearButtonSize,\n          enableClearButton = props.enableClearButton,\n          rootClassName = props.rootClassName;\n      var value = isControlled(props) ? props.value : state.value;\n      var emptyValue = value == '' || value == null;\n      var showButton = enableClearButton && !emptyValue && !fieldProps.disabled && !fieldProps.readOnly;\n      return _react.default.createElement(\"div\", {\n        key: \"clearButton\",\n        className: (0, _join.default)(\"\".concat(rootClassName, \"__clear-button-wrapper\"), !showButton && \"\".concat(rootClassName, \"__clear-button-wrapper--hidden\"))\n      }, this.renderClearButton(_objectSpread({\n        clearButtonColor: clearButtonColor,\n        clearButtonStyle: clearButtonStyle,\n        clearButtonSize: clearButtonSize\n      }, getClearButtonClassNames(props))));\n    }\n  }, {\n    key: \"renderClearButton\",\n    value: function renderClearButton(config) {\n      var clearButtonColor = config.clearButtonColor,\n          clearButtonStyle = config.clearButtonStyle,\n          clearButtonClassName = config.clearButtonClassName,\n          clearButtonSize = config.clearButtonSize;\n      var svgProps = {};\n      var tabIndex = this.props.acceptClearToolFocus ? 0 : -1;\n\n      if (clearButtonColor) {\n        svgProps.fill = clearButtonColor;\n      }\n\n      if (clearButtonSize) {\n        if (Array.isArray(clearButtonSize)) {\n          svgProps.width = clearButtonSize[0];\n          svgProps.height = clearButtonSize[1];\n        } else {\n          svgProps.width = clearButtonSize;\n          svgProps.height = clearButtonSize;\n        }\n      }\n\n      return _react.default.createElement(\"button\", {\n        key: \"clearButton\",\n        onClick: this.handleClearButtonClick,\n        onMouseDown: preventDefault,\n        className: clearButtonClassName,\n        style: _objectSpread({}, clearButtonStyle),\n        tabIndex: tabIndex\n      }, this.renderClearIcon(svgProps));\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      if (!this.state.focused) {\n        this.focus();\n      }\n\n      if (this.props.wrapperProps && this.props.wrapperProps.onClick) {\n        this.props.wrapperProps.onClick(event);\n      }\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur(event) {\n      this.setState({\n        focused: false\n      });\n\n      if (this.props.onBlur) {\n        this.props.onBlur(event);\n      }\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus(event) {\n      this.setState({\n        focused: true\n      });\n\n      if (this.props.onFocus) {\n        this.props.onFocus(event);\n      }\n    }\n  }]);\n  return TextInput;\n}(_react.Component);\n\nTextInput.defaultProps = {\n  hidden: false,\n  type: 'text',\n  theme: 'default',\n  rootClassName: 'inovua-react-toolkit-text-input',\n  enableClearButton: true,\n  clearButtonSize: 10,\n  stopChangePropagation: true,\n  acceptClearToolFocus: false\n};\nTextInput.propTypes = {\n  type: _propTypes.default.string,\n  theme: _propTypes.default.string,\n  name: _propTypes.default.string,\n  placeholder: _propTypes.default.string,\n  autoFocus: _propTypes.default.bool,\n  maxLength: _propTypes.default.number,\n  size: _propTypes.default.number,\n  minLength: _propTypes.default.number,\n  required: _propTypes.default.bool,\n  readOnly: _propTypes.default.bool,\n  disabled: _propTypes.default.bool,\n  hidden: _propTypes.default.bool,\n  stopChangePropagation: _propTypes.default.bool,\n  enableClearButton: _propTypes.default.bool,\n  acceptClearToolFocus: _propTypes.default.bool,\n  rtl: _propTypes.default.bool,\n  rootClassName: _propTypes.default.string,\n  clearButtonSize: _propTypes.default.number,\n  clearButtonColor: _propTypes.default.string,\n  clearButtonStyle: _propTypes.default.object,\n  clearButtonClassName: _propTypes.default.string,\n  renderClearIcon: _propTypes.default.func\n};\nvar _default = TextInput;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/packages/TextInput/src/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_extends2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_propTypes","_autoBind","_Field","_join","_cleanProps","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","preventDefault","getClearButtonClassNames","props","clearButtonClassName","concat","rootClassName","isControlled","undefined","emptyObject","TextInput","_Component","_super","_this","svgProps","renderClearIcon","createElement","style","viewBox","fill","fillRule","strokeLinecap","strokeWidth","d","fieldRef","field","state","focused","defaultValue","handleChange","event","setValue","focus","setState","inputProps","onChange","render","wrapperProps","enableClearButton","inputClassName","className","fieldProps","size","ref","type","stopChangePropagation","hidden","name","placeholder","required","readOnly","autoFocus","maxLength","minLength","disabled","rtl","theme","input","wrapperDomProps","propTypes","domProps","onBlur","onClick","onFocus","renderClearButtonWrapper","handleClearButtonClick","clearButtonColor","clearButtonStyle","clearButtonSize","emptyValue","showButton","renderClearButton","config","tabIndex","acceptClearToolFocus","Array","isArray","width","height","onMouseDown","Component","defaultProps","string","bool","number","func","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _autoBind = _interopRequireDefault(require(\"../../../packages/react-class/autoBind\"));\n\nvar _Field = _interopRequireDefault(require(\"../../Field\"));\n\nvar _join = _interopRequireDefault(require(\"../../../common/join\"));\n\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar preventDefault = function preventDefault(e) {\n  return e.preventDefault();\n};\n\nvar getClearButtonClassNames = function getClearButtonClassNames(props) {\n  var clearButtonClassName = (0, _join.default)(\"\".concat(props.rootClassName, \"__clear-button\"), props.clearButtonClassName);\n  return {\n    clearButtonClassName: clearButtonClassName\n  };\n};\n\nvar isControlled = function isControlled(props) {\n  return props.value !== undefined;\n};\n\nvar emptyObject = {};\n\nvar TextInput = function (_Component) {\n  (0, _inherits2.default)(TextInput, _Component);\n\n  var _super = _createSuper(TextInput);\n\n  function TextInput(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, TextInput);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"renderClearIcon\", function (svgProps) {\n      var result;\n\n      if (_this.props.renderClearIcon && typeof _this.props.renderClearIcon === 'function') {\n        result = _this.props.renderClearIcon(_objectSpread({}, svgProps));\n      }\n\n      if (result === undefined) {\n        result = _react.default.createElement(\"svg\", {\n          style: _objectSpread({}, svgProps),\n          viewBox: \"0 0 10 10\"\n        }, _react.default.createElement(\"path\", {\n          fill: \"none\",\n          fillRule: \"evenodd\",\n          strokeLinecap: \"round\",\n          strokeWidth: \"1.33\",\n          d: \"M1 1l8 8m0-8L1 9\"\n        }));\n      }\n\n      return result;\n    });\n\n    _this.fieldRef = function (field) {\n      _this.field = field;\n    };\n\n    _this.state = {\n      focused: false,\n      value: props.defaultValue == null ? '' : props.defaultValue\n    };\n    (0, _autoBind.default)((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(TextInput, [{\n    key: \"handleChange\",\n    value: function handleChange(value, event) {\n      this.setValue(value, event);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.field.focus();\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value, event) {\n      if (!isControlled(this.props)) {\n        this.setState({\n          value: value\n        });\n      }\n\n      if (this.props.inputProps && this.props.inputProps.onChange) {\n        this.props.inputProps.onChange(value, event);\n      }\n\n      if (this.props.onChange) {\n        this.props.onChange(value, event);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props,\n          state = this.state;\n      var wrapperProps = props.wrapperProps,\n          style = props.style,\n          enableClearButton = props.enableClearButton;\n      var inputProps = props.inputProps || emptyObject;\n      var inputClassName = (0, _join.default)(\"\".concat(props.rootClassName, \"__input\"), inputProps.className);\n      var value = isControlled(props) ? props.value : state.value;\n\n      var fieldProps = _objectSpread(_objectSpread({\n        size: 1\n      }, inputProps), {}, {\n        ref: this.fieldRef,\n        className: inputClassName,\n        onChange: this.handleChange,\n        value: value,\n        type: props.type,\n        stopChangePropagation: props.stopChangePropagation\n      });\n\n      if (props.hidden) {\n        fieldProps.hidden = props.hidden;\n      }\n\n      if (props.name) {\n        fieldProps.name = props.name;\n      }\n\n      if (props.placeholder) {\n        fieldProps.placeholder = props.placeholder;\n      }\n\n      if (props.required) {\n        fieldProps.required = props.required;\n      }\n\n      if (props.readOnly) {\n        fieldProps.readOnly = props.readOnly;\n      }\n\n      if (props.autoFocus) {\n        fieldProps.autoFocus = props.autoFocus;\n      }\n\n      if (props.maxLength != undefined) {\n        fieldProps.maxLength = props.maxLength;\n      }\n\n      if (props.minLength != undefined) {\n        fieldProps.minLength = props.minLength;\n      }\n\n      if (props.size != undefined) {\n        fieldProps.size = props.size;\n      }\n\n      if (props.disabled) {\n        fieldProps.disabled = props.disabled;\n      }\n\n      var className = (0, _join.default)(props.rootClassName, props.className, props.rtl ? \"\".concat(props.rootClassName, \"--rtl\") : \"\".concat(props.rootClassName, \"--ltr\"), props.theme && \"\".concat(props.rootClassName, \"--theme-\").concat(props.theme), enableClearButton && \"\".concat(props.rootClassName, \"--enable-clear-button\"), state.focused && \"\".concat(props.rootClassName, \"--focused\"), fieldProps.disabled && \"\".concat(props.rootClassName, \"--disabled\"));\n\n      var input = _react.default.createElement(_Field.default, fieldProps);\n\n      var wrapperDomProps = (0, _cleanProps.default)(wrapperProps, TextInput.propTypes);\n      var domProps = (0, _cleanProps.default)(props, TextInput.propTypes);\n      delete domProps.onChange;\n      return _react.default.createElement(\"div\", (0, _extends2.default)({}, domProps, wrapperDomProps, {\n        className: className,\n        style: style,\n        onBlur: this.onBlur,\n        onClick: this.onClick,\n        onFocus: this.onFocus\n      }), input, this.renderClearButtonWrapper(fieldProps));\n    }\n  }, {\n    key: \"handleClearButtonClick\",\n    value: function handleClearButtonClick(event) {\n      this.setState({\n        focused: true\n      });\n      this.setValue('');\n      this.focus();\n    }\n  }, {\n    key: \"renderClearButtonWrapper\",\n    value: function renderClearButtonWrapper(fieldProps) {\n      var props = this.props,\n          state = this.state;\n      var clearButtonColor = props.clearButtonColor,\n          clearButtonStyle = props.clearButtonStyle,\n          clearButtonSize = props.clearButtonSize,\n          enableClearButton = props.enableClearButton,\n          rootClassName = props.rootClassName;\n      var value = isControlled(props) ? props.value : state.value;\n      var emptyValue = value == '' || value == null;\n      var showButton = enableClearButton && !emptyValue && !fieldProps.disabled && !fieldProps.readOnly;\n      return _react.default.createElement(\"div\", {\n        key: \"clearButton\",\n        className: (0, _join.default)(\"\".concat(rootClassName, \"__clear-button-wrapper\"), !showButton && \"\".concat(rootClassName, \"__clear-button-wrapper--hidden\"))\n      }, this.renderClearButton(_objectSpread({\n        clearButtonColor: clearButtonColor,\n        clearButtonStyle: clearButtonStyle,\n        clearButtonSize: clearButtonSize\n      }, getClearButtonClassNames(props))));\n    }\n  }, {\n    key: \"renderClearButton\",\n    value: function renderClearButton(config) {\n      var clearButtonColor = config.clearButtonColor,\n          clearButtonStyle = config.clearButtonStyle,\n          clearButtonClassName = config.clearButtonClassName,\n          clearButtonSize = config.clearButtonSize;\n      var svgProps = {};\n      var tabIndex = this.props.acceptClearToolFocus ? 0 : -1;\n\n      if (clearButtonColor) {\n        svgProps.fill = clearButtonColor;\n      }\n\n      if (clearButtonSize) {\n        if (Array.isArray(clearButtonSize)) {\n          svgProps.width = clearButtonSize[0];\n          svgProps.height = clearButtonSize[1];\n        } else {\n          svgProps.width = clearButtonSize;\n          svgProps.height = clearButtonSize;\n        }\n      }\n\n      return _react.default.createElement(\"button\", {\n        key: \"clearButton\",\n        onClick: this.handleClearButtonClick,\n        onMouseDown: preventDefault,\n        className: clearButtonClassName,\n        style: _objectSpread({}, clearButtonStyle),\n        tabIndex: tabIndex\n      }, this.renderClearIcon(svgProps));\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(event) {\n      if (!this.state.focused) {\n        this.focus();\n      }\n\n      if (this.props.wrapperProps && this.props.wrapperProps.onClick) {\n        this.props.wrapperProps.onClick(event);\n      }\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur(event) {\n      this.setState({\n        focused: false\n      });\n\n      if (this.props.onBlur) {\n        this.props.onBlur(event);\n      }\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus(event) {\n      this.setState({\n        focused: true\n      });\n\n      if (this.props.onFocus) {\n        this.props.onFocus(event);\n      }\n    }\n  }]);\n  return TextInput;\n}(_react.Component);\n\nTextInput.defaultProps = {\n  hidden: false,\n  type: 'text',\n  theme: 'default',\n  rootClassName: 'inovua-react-toolkit-text-input',\n  enableClearButton: true,\n  clearButtonSize: 10,\n  stopChangePropagation: true,\n  acceptClearToolFocus: false\n};\nTextInput.propTypes = {\n  type: _propTypes.default.string,\n  theme: _propTypes.default.string,\n  name: _propTypes.default.string,\n  placeholder: _propTypes.default.string,\n  autoFocus: _propTypes.default.bool,\n  maxLength: _propTypes.default.number,\n  size: _propTypes.default.number,\n  minLength: _propTypes.default.number,\n  required: _propTypes.default.bool,\n  readOnly: _propTypes.default.bool,\n  disabled: _propTypes.default.bool,\n  hidden: _propTypes.default.bool,\n  stopChangePropagation: _propTypes.default.bool,\n  enableClearButton: _propTypes.default.bool,\n  acceptClearToolFocus: _propTypes.default.bool,\n  rtl: _propTypes.default.bool,\n  rootClassName: _propTypes.default.string,\n  clearButtonSize: _propTypes.default.number,\n  clearButtonColor: _propTypes.default.string,\n  clearButtonStyle: _propTypes.default.object,\n  clearButtonClassName: _propTypes.default.string,\n  renderClearIcon: _propTypes.default.func\n};\nvar _default = TextInput;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}