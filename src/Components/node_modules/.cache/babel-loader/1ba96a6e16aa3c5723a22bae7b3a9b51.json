{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.renderColumnFilterContextMenu = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _useProperty5 = _interopRequireDefault(require(\"../../../hooks/useProperty\"));\n\nvar _getFilterValueForColumns = _interopRequireDefault(require(\"../../../hooks/useDataSource/getFilterValueForColumns\"));\n\nvar _batchUpdate = _interopRequireDefault(require(\"../../../utils/batchUpdate\"));\n\nvar _mapColumns = _interopRequireDefault(require(\"../../../mapColumns\"));\n\nvar _ua = require(\"../../../common/ua\");\n\nvar _Menu = _interopRequireDefault(require(\"../../../packages/Menu\"));\n\nvar _renderGridMenu = _interopRequireDefault(require(\"../../../renderGridMenu\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar emptyArray = [];\nvar COLUMN_MENU_ALIGN_POSITIONS = ['tl-bl', 'tr-br', 'tl-tr', 'tr-tl', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\nvar COLUMN_MENU_ALIGN_POSITIONS_RTL = ['tr-br', 'tl-bl', 'tr-tl', 'tl-tr', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\n\nvar renderColumnFilterContextMenu = function renderColumnFilterContextMenu(computedProps, computedPropsRef) {\n  if (!computedProps) {\n    return null;\n  }\n\n  var cellProps = computedProps.columnFilterContextMenuProps;\n\n  if (!cellProps) {\n    return null;\n  }\n\n  var filterValue = computedProps.computedFilterValueMap ? computedProps.computedFilterValueMap[cellProps.id] : null;\n\n  if (!filterValue) {\n    return null;\n  }\n\n  var columnOperators = computedProps.initialProps.filterTypes[filterValue.type].operators || emptyArray;\n  var selected = {\n    operator: filterValue.operator\n  };\n  var showEnableButton = filterValue.active === false;\n  var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n  var isFiltered = computedProps.computedFiltered;\n\n  var items = function () {\n    var activationItems = ['-', {\n      label: computedProps.i18n('enable', 'Enable'),\n      itemId: 'enableFilter',\n      disabled: !showEnableButton,\n      onClick: function onClick() {\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: true\n        });\n\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          columnIndex: cellProps.computedVisibleIndex,\n          cellProps: cellProps,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('disable', 'Disable'),\n      disabled: showEnableButton,\n      itemId: 'disableFilter',\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: false\n        });\n\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          cellProps: cellProps,\n          columnIndex: cellProps.computedVisibleIndex,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, '-', {\n      label: computedProps.i18n('clear', 'Clear'),\n      itemId: 'clearFilter',\n      disabled: filterValue.value === filterType.emptyValue,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.clearColumnFilter(cellProps.id);\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('clearAll', 'Clear All'),\n      itemId: 'clearAllFilters',\n      disabled: !isFiltered,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.clearAllFilters();\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }];\n    var items = columnOperators.map(function (operator) {\n      return {\n        label: computedProps.i18n(operator.label, operator.label) || computedProps.i18n(operator.name, operator.name),\n        name: 'operator',\n        itemId: \"operator-\".concat(operator.name),\n        value: operator.name\n      };\n    });\n    items.push.apply(items, activationItems);\n    return items;\n  }();\n\n  var onSelectionChange = function onSelectionChange(selected) {\n    var operator = selected.operator;\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var filterTypes = computedProps.initialProps.filterTypes;\n    var filterTypeDescription = filterTypes[filterType.type] || {\n      operators: []\n    };\n    var operatorDescriptor = filterTypeDescription.operators.filter(function (op) {\n      return op.name === operator;\n    })[0];\n\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      operator: operator\n    });\n\n    if (operatorDescriptor && operatorDescriptor.valueOnOperatorSelect !== undefined) {\n      newFilterValue.value = operatorDescriptor.valueOnOperatorSelect;\n    }\n\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: cellProps.id,\n      cellProps: cellProps,\n      columnIndex: cellProps.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    computedProps.hideColumnFilterContextMenu();\n  };\n\n  var rtl = computedProps.rtl;\n  var menuProps = {\n    autoFocus: true,\n    items: items,\n    theme: computedProps.theme,\n    updatePositionOnScroll: computedProps.updateMenuPositionOnScroll,\n    nativeScroll: !_ua.IS_MS_BROWSER,\n    enableSelection: true,\n    maxHeight: computedProps.columnFilterContextMenuConstrainTo ? null : computedProps.getMenuAvailableHeight(),\n    style: {\n      zIndex: 10000,\n      position: computedProps.columnFilterContextMenuPosition || 'absolute'\n    },\n    selected: selected,\n    onSelectionChange: onSelectionChange,\n    onDismiss: computedProps.hideColumnFilterContextMenu,\n    constrainTo: computedProps.columnFilterContextMenuConstrainTo,\n    alignPositions: computedProps.columnFilterContextMenuAlignPositions || rtl ? COLUMN_MENU_ALIGN_POSITIONS_RTL : COLUMN_MENU_ALIGN_POSITIONS,\n    alignTo: computedProps.columnFilterContextMenuAlignToRef.current\n  };\n  var result;\n\n  if (computedProps.initialProps.renderColumnFilterContextMenu) {\n    result = computedProps.initialProps.renderColumnFilterContextMenu(menuProps, {\n      cellProps: cellProps,\n      grid: computedPropsRef,\n      props: computedProps\n    });\n  }\n\n  if (result === undefined) {\n    result = _react.default.createElement(_Menu.default, Object.assign({}, menuProps));\n  }\n\n  if (computedProps.initialProps.renderGridMenu) {\n    return computedProps.initialProps.renderGridMenu(result, computedProps);\n  }\n\n  return (0, _renderGridMenu.default)(result, computedProps);\n};\n\nexports.renderColumnFilterContextMenu = renderColumnFilterContextMenu;\n\nvar useFilterValue = function useFilterValue(props, _ref, computedPropsRef) {\n  var columnsMap = _ref.columnsMap,\n      enableFiltering = _ref.enableFiltering;\n\n  var _useProperty = (0, _useProperty5.default)(props, 'filterValue'),\n      _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n      filterValue = _useProperty2[0],\n      doSetFilterValue = _useProperty2[1];\n\n  filterValue = (0, _react.useMemo)(function () {\n    return (0, _getFilterValueForColumns.default)(filterValue || [], columnsMap);\n  }, [filterValue || [], columnsMap]);\n\n  if (!filterValue.length) {\n    filterValue = null;\n  }\n\n  var setFilterValue = (0, _react.useCallback)(function (filterValue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    filterValue = (0, _getFilterValueForColumns.default)(filterValue, computedProps.columnsMap);\n    var queue = (0, _batchUpdate.default)();\n    queue.commit(function () {\n      computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n        return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['filterValue']);\n      });\n      doSetFilterValue(filterValue);\n    });\n  }, [doSetFilterValue]);\n  return [filterValue, setFilterValue];\n};\n\nvar isFilterable = function isFilterable(_ref2) {\n  var enableFiltering = _ref2.enableFiltering,\n      filterValue = _ref2.filterValue;\n\n  if (enableFiltering !== undefined) {\n    return enableFiltering;\n  }\n\n  if (!Array.isArray(filterValue) || !filterValue.length) {\n    return false;\n  }\n\n  return true;\n};\n\nvar useFilters = function useFilters(props, computedProps, computedPropsRef) {\n  var _useProperty3 = (0, _useProperty5.default)(props, 'enableFiltering'),\n      _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n      enableFiltering = _useProperty4[0],\n      setEnableFiltering = _useProperty4[1];\n\n  var isColumnFiltered = (0, _react.useCallback)(function (col) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return false;\n    }\n\n    var column = computedProps.getColumnBy(col);\n    var filterValue = computedProps.getColumnFilterValue(col.id);\n\n    if (!filterValue) {\n      return false;\n    }\n\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterValue.value !== filterType.emptyValue;\n  }, []);\n  var columnsMap = (0, _react.useMemo)(function () {\n    return (0, _mapColumns.default)(props.columns, {\n      showWarnings: false\n    });\n  }, [props.columns]);\n\n  var _useFilterValue = useFilterValue(props, {\n    enableFiltering: enableFiltering,\n    columnsMap: columnsMap\n  }, computedPropsRef),\n      _useFilterValue2 = (0, _slicedToArray2.default)(_useFilterValue, 2),\n      computedFilterValue = _useFilterValue2[0],\n      setFilterValue = _useFilterValue2[1];\n\n  var getMenuAvailableHeight = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return undefined;\n    }\n\n    var filtersHeight = 0;\n\n    if (computedProps.computedFilterable) {\n      var filterNode = computedProps.getDOMNode().querySelector('.InovuaReactDataGrid__column-header__filter-wrapper');\n\n      if (filterNode) {\n        filtersHeight = filterNode.offsetHeight;\n      }\n    }\n\n    return computedProps.size ? computedProps.size.height - 5 + filtersHeight : undefined;\n  }, []);\n  var clearAllFilters = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n\n    var allFiltersValue = [];\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    computedProps.allColumns.forEach(function (column) {\n      var filterValue = computedProps.computedFilterValueMap[column.id];\n\n      if (!filterValue) {\n        return;\n      }\n\n      var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n      var headerCell = headerCells[column.computedVisibleIndex];\n\n      var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n        value: filterType.emptyValue\n      });\n\n      if (headerCell && headerCell.filter) {\n        headerCell.filter.setValue(newFilterValue.value);\n      }\n\n      allFiltersValue.push(newFilterValue);\n    });\n    setFilterValue(allFiltersValue);\n  }, [setFilterValue]);\n  var columnFilterContextMenuAlignToRef = (0, _react.useRef)(null);\n  var columnFilterContextMenuConstrainToRef = (0, _react.useRef)(null);\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      columnFilterContextMenuProps = _useState2[0],\n      setColumnFilterContextMenuProps = _useState2[1];\n\n  var showColumnFilterContextMenu = (0, _react.useCallback)(function (alignTo, cellProps) {\n    var computedProps = computedPropsRef.current;\n\n    if (columnFilterContextMenuProps || !computedProps) {\n      return;\n    }\n\n    columnFilterContextMenuAlignToRef.current = alignTo;\n    columnFilterContextMenuConstrainToRef.current = computedProps.columnFilterContextMenuConstrainTo || computedProps.getDOMNode();\n\n    if (computedProps.hideColumnContextMenu) {\n      computedProps.hideColumnContextMenu();\n    }\n\n    setColumnFilterContextMenuProps(cellProps);\n  }, [setColumnFilterContextMenuProps]);\n  var hideColumnFilterContextMenu = (0, _react.useCallback)(function () {\n    if (columnFilterContextMenuProps) {\n      setColumnFilterContextMenuProps(null);\n    }\n  }, [columnFilterContextMenuProps]);\n  var shouldShowFilteringMenuItems = (0, _react.useCallback)(function () {\n    if (props.showFilteringMenuItems) {\n      return true;\n    }\n\n    if (computedFilterValue) {\n      return true;\n    }\n\n    if (enableFiltering) {\n      return true;\n    }\n\n    return false;\n  }, [computedFilterValue, enableFiltering, props.showFilteringMenuItems]);\n  var computedFilterValueMap = (0, _react.useMemo)(function () {\n    return computedFilterValue ? computedFilterValue.reduce(function (acc, columnFilterValue) {\n      acc[columnFilterValue.name] = columnFilterValue;\n      return acc;\n    }, {}) : null;\n  }, [computedFilterValue]);\n  var computedOnColumnFilterValueChange = (0, _react.useCallback)(function (columnFilterValue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var isBinaryOperator = computedProps.isBinaryOperator;\n\n    if (computedProps.onColumnFilterValueChange) {\n      computedProps.onColumnFilterValueChange(columnFilterValue);\n    }\n\n    var computedFilterValue = computedProps.computedFilterValue;\n    var newFilterValue = (computedFilterValue || []).map(function (oldFilterValue) {\n      if (oldFilterValue.name === columnFilterValue.columnId) {\n        var emptyValue = getColumnFilterEmptyValue(columnFilterValue.columnId);\n\n        if (columnFilterValue.filterValue.type === 'date' || columnFilterValue.filterValue.type === 'number') {\n          if (isBinaryOperator(oldFilterValue.operator) && !isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: emptyValue\n            });\n          }\n\n          if (!isBinaryOperator(oldFilterValue.operator) && isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: columnFilterValue.filterValue && columnFilterValue.filterValue.value != null && columnFilterValue.filterValue.value.start != null ? columnFilterValue.filterValue.value : {\n                start: emptyValue,\n                end: emptyValue\n              }\n            });\n          }\n        }\n\n        return columnFilterValue.filterValue;\n      }\n\n      return oldFilterValue;\n    }).filter(function (f) {\n      return !!f;\n    });\n    setFilterValue(newFilterValue);\n  }, [setFilterValue]);\n  var getColumnFilterValue = (0, _react.useCallback)(function (column) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return null;\n    }\n\n    var col = computedProps.getColumnBy(column);\n\n    if (!col) {\n      return null;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return null;\n    }\n\n    return computedProps.computedFilterValueMap[col.id];\n  }, []);\n  var setColumnFilterValue = (0, _react.useCallback)(function (column, value, operator) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return null;\n    }\n\n    var filterValue = getColumnFilterValue(column);\n\n    if (!filterValue) {\n      return;\n    }\n\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      value: value\n    });\n\n    if (operator) {\n      newFilterValue.operator = operator;\n    }\n\n    var col = computedProps.getColumnBy(column);\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    var headerCell = headerCells[col.computedVisibleIndex];\n\n    if (!headerCell || !headerCell.filter) {\n      return;\n    }\n\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: col.id,\n      columnIndex: col.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    headerCell.filter.setValue(value);\n  }, []);\n  var getColumnFilterEmptyValue = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var col = computedProps.getColumnBy(idNameOrIndex);\n\n    if (!col) {\n      return;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n\n    var filterValue = computedProps.computedFilterValueMap[col.id];\n\n    if (!filterValue) {\n      return;\n    }\n\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterType.emptyValue;\n  }, []);\n  var clearColumnFilter = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var col = computedProps.getColumnBy(idNameOrIndex);\n\n    if (!col) {\n      return;\n    }\n\n    computedProps.setColumnFilterValue(idNameOrIndex, getColumnFilterEmptyValue(idNameOrIndex));\n  }, []);\n  var isFiltered = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return false;\n    }\n\n    return (computedProps.computedFilterValue || []).reduce(function (result, filterValue) {\n      if (result) {\n        return true;\n      }\n\n      var col = computedProps.getColumnBy(filterValue.name);\n\n      if (col && isColumnFiltered(col)) {\n        return true;\n      }\n\n      return false;\n    }, false);\n  }, []);\n  var computedFiltered = isFiltered();\n  return {\n    clearColumnFilter: clearColumnFilter,\n    computedOnColumnFilterValueChange: computedOnColumnFilterValueChange,\n    computedFilterValueMap: computedFilterValueMap,\n    computedFilterValue: computedFilterValue,\n    computedFiltered: computedFiltered,\n    computedFilterable: isFilterable({\n      enableFiltering: enableFiltering,\n      filterValue: computedFilterValue\n    }),\n    setEnableFiltering: setEnableFiltering,\n    setFilterValue: setFilterValue,\n    getMenuAvailableHeight: getMenuAvailableHeight,\n    showColumnFilterContextMenu: showColumnFilterContextMenu,\n    hideColumnFilterContextMenu: hideColumnFilterContextMenu,\n    shouldShowFilteringMenuItems: shouldShowFilteringMenuItems,\n    renderColumnFilterContextMenu: renderColumnFilterContextMenu,\n    columnFilterContextMenuProps: columnFilterContextMenuProps,\n    columnFilterContextMenuAlignToRef: columnFilterContextMenuAlignToRef,\n    clearAllFilters: clearAllFilters,\n    getColumnFilterValue: getColumnFilterValue,\n    setColumnFilterValue: setColumnFilterValue,\n    isColumnFiltered: isColumnFiltered\n  };\n};\n\nvar _default = useFilters;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/plugins/filters/useFilters/index.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","renderColumnFilterContextMenu","_toConsumableArray2","_slicedToArray2","_defineProperty2","_react","_useProperty5","_getFilterValueForColumns","_batchUpdate","_mapColumns","_ua","_Menu","_renderGridMenu","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","emptyArray","COLUMN_MENU_ALIGN_POSITIONS","COLUMN_MENU_ALIGN_POSITIONS_RTL","computedProps","computedPropsRef","cellProps","columnFilterContextMenuProps","filterValue","computedFilterValueMap","id","columnOperators","initialProps","filterTypes","type","operators","selected","operator","showEnableButton","active","filterType","isFiltered","computedFiltered","items","activationItems","label","i18n","itemId","disabled","onClick","newFilterValue","current","computedOnColumnFilterValueChange","columnId","columnIndex","computedVisibleIndex","hideColumnFilterContextMenu","emptyValue","clearColumnFilter","clearAllFilters","map","name","concat","onSelectionChange","filterTypeDescription","operatorDescriptor","op","valueOnOperatorSelect","undefined","rtl","menuProps","autoFocus","theme","updatePositionOnScroll","updateMenuPositionOnScroll","nativeScroll","IS_MS_BROWSER","enableSelection","maxHeight","columnFilterContextMenuConstrainTo","getMenuAvailableHeight","style","zIndex","position","columnFilterContextMenuPosition","onDismiss","constrainTo","alignPositions","columnFilterContextMenuAlignPositions","alignTo","columnFilterContextMenuAlignToRef","result","grid","props","createElement","assign","renderGridMenu","useFilterValue","_ref","columnsMap","enableFiltering","_useProperty","_useProperty2","doSetFilterValue","useMemo","setFilterValue","useCallback","queue","commit","setLoadDataTrigger","loadDataTrigger","isFilterable","_ref2","Array","isArray","useFilters","_useProperty3","_useProperty4","setEnableFiltering","isColumnFiltered","col","column","getColumnBy","getColumnFilterValue","columns","showWarnings","_useFilterValue","_useFilterValue2","computedFilterValue","filtersHeight","computedFilterable","filterNode","getDOMNode","querySelector","offsetHeight","size","height","allFiltersValue","headerCells","getColumnLayout","getHeaderCells","allColumns","headerCell","setValue","useRef","columnFilterContextMenuConstrainToRef","_useState","useState","_useState2","setColumnFilterContextMenuProps","showColumnFilterContextMenu","hideColumnContextMenu","shouldShowFilteringMenuItems","showFilteringMenuItems","reduce","acc","columnFilterValue","isBinaryOperator","onColumnFilterValueChange","oldFilterValue","getColumnFilterEmptyValue","start","end","f","setColumnFilterValue","idNameOrIndex","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.renderColumnFilterContextMenu = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _useProperty5 = _interopRequireDefault(require(\"../../../hooks/useProperty\"));\n\nvar _getFilterValueForColumns = _interopRequireDefault(require(\"../../../hooks/useDataSource/getFilterValueForColumns\"));\n\nvar _batchUpdate = _interopRequireDefault(require(\"../../../utils/batchUpdate\"));\n\nvar _mapColumns = _interopRequireDefault(require(\"../../../mapColumns\"));\n\nvar _ua = require(\"../../../common/ua\");\n\nvar _Menu = _interopRequireDefault(require(\"../../../packages/Menu\"));\n\nvar _renderGridMenu = _interopRequireDefault(require(\"../../../renderGridMenu\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar emptyArray = [];\nvar COLUMN_MENU_ALIGN_POSITIONS = ['tl-bl', 'tr-br', 'tl-tr', 'tr-tl', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\nvar COLUMN_MENU_ALIGN_POSITIONS_RTL = ['tr-br', 'tl-bl', 'tr-tl', 'tl-tr', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\n\nvar renderColumnFilterContextMenu = function renderColumnFilterContextMenu(computedProps, computedPropsRef) {\n  if (!computedProps) {\n    return null;\n  }\n\n  var cellProps = computedProps.columnFilterContextMenuProps;\n\n  if (!cellProps) {\n    return null;\n  }\n\n  var filterValue = computedProps.computedFilterValueMap ? computedProps.computedFilterValueMap[cellProps.id] : null;\n\n  if (!filterValue) {\n    return null;\n  }\n\n  var columnOperators = computedProps.initialProps.filterTypes[filterValue.type].operators || emptyArray;\n  var selected = {\n    operator: filterValue.operator\n  };\n  var showEnableButton = filterValue.active === false;\n  var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n  var isFiltered = computedProps.computedFiltered;\n\n  var items = function () {\n    var activationItems = ['-', {\n      label: computedProps.i18n('enable', 'Enable'),\n      itemId: 'enableFilter',\n      disabled: !showEnableButton,\n      onClick: function onClick() {\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: true\n        });\n\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          columnIndex: cellProps.computedVisibleIndex,\n          cellProps: cellProps,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('disable', 'Disable'),\n      disabled: showEnableButton,\n      itemId: 'disableFilter',\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: false\n        });\n\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          cellProps: cellProps,\n          columnIndex: cellProps.computedVisibleIndex,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, '-', {\n      label: computedProps.i18n('clear', 'Clear'),\n      itemId: 'clearFilter',\n      disabled: filterValue.value === filterType.emptyValue,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.clearColumnFilter(cellProps.id);\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('clearAll', 'Clear All'),\n      itemId: 'clearAllFilters',\n      disabled: !isFiltered,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n\n        if (!computedProps) {\n          return;\n        }\n\n        computedProps.clearAllFilters();\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }];\n    var items = columnOperators.map(function (operator) {\n      return {\n        label: computedProps.i18n(operator.label, operator.label) || computedProps.i18n(operator.name, operator.name),\n        name: 'operator',\n        itemId: \"operator-\".concat(operator.name),\n        value: operator.name\n      };\n    });\n    items.push.apply(items, activationItems);\n    return items;\n  }();\n\n  var onSelectionChange = function onSelectionChange(selected) {\n    var operator = selected.operator;\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var filterTypes = computedProps.initialProps.filterTypes;\n    var filterTypeDescription = filterTypes[filterType.type] || {\n      operators: []\n    };\n    var operatorDescriptor = filterTypeDescription.operators.filter(function (op) {\n      return op.name === operator;\n    })[0];\n\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      operator: operator\n    });\n\n    if (operatorDescriptor && operatorDescriptor.valueOnOperatorSelect !== undefined) {\n      newFilterValue.value = operatorDescriptor.valueOnOperatorSelect;\n    }\n\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: cellProps.id,\n      cellProps: cellProps,\n      columnIndex: cellProps.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    computedProps.hideColumnFilterContextMenu();\n  };\n\n  var rtl = computedProps.rtl;\n  var menuProps = {\n    autoFocus: true,\n    items: items,\n    theme: computedProps.theme,\n    updatePositionOnScroll: computedProps.updateMenuPositionOnScroll,\n    nativeScroll: !_ua.IS_MS_BROWSER,\n    enableSelection: true,\n    maxHeight: computedProps.columnFilterContextMenuConstrainTo ? null : computedProps.getMenuAvailableHeight(),\n    style: {\n      zIndex: 10000,\n      position: computedProps.columnFilterContextMenuPosition || 'absolute'\n    },\n    selected: selected,\n    onSelectionChange: onSelectionChange,\n    onDismiss: computedProps.hideColumnFilterContextMenu,\n    constrainTo: computedProps.columnFilterContextMenuConstrainTo,\n    alignPositions: computedProps.columnFilterContextMenuAlignPositions || rtl ? COLUMN_MENU_ALIGN_POSITIONS_RTL : COLUMN_MENU_ALIGN_POSITIONS,\n    alignTo: computedProps.columnFilterContextMenuAlignToRef.current\n  };\n  var result;\n\n  if (computedProps.initialProps.renderColumnFilterContextMenu) {\n    result = computedProps.initialProps.renderColumnFilterContextMenu(menuProps, {\n      cellProps: cellProps,\n      grid: computedPropsRef,\n      props: computedProps\n    });\n  }\n\n  if (result === undefined) {\n    result = _react.default.createElement(_Menu.default, Object.assign({}, menuProps));\n  }\n\n  if (computedProps.initialProps.renderGridMenu) {\n    return computedProps.initialProps.renderGridMenu(result, computedProps);\n  }\n\n  return (0, _renderGridMenu.default)(result, computedProps);\n};\n\nexports.renderColumnFilterContextMenu = renderColumnFilterContextMenu;\n\nvar useFilterValue = function useFilterValue(props, _ref, computedPropsRef) {\n  var columnsMap = _ref.columnsMap,\n      enableFiltering = _ref.enableFiltering;\n\n  var _useProperty = (0, _useProperty5.default)(props, 'filterValue'),\n      _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n      filterValue = _useProperty2[0],\n      doSetFilterValue = _useProperty2[1];\n\n  filterValue = (0, _react.useMemo)(function () {\n    return (0, _getFilterValueForColumns.default)(filterValue || [], columnsMap);\n  }, [filterValue || [], columnsMap]);\n\n  if (!filterValue.length) {\n    filterValue = null;\n  }\n\n  var setFilterValue = (0, _react.useCallback)(function (filterValue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    filterValue = (0, _getFilterValueForColumns.default)(filterValue, computedProps.columnsMap);\n    var queue = (0, _batchUpdate.default)();\n    queue.commit(function () {\n      computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n        return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['filterValue']);\n      });\n      doSetFilterValue(filterValue);\n    });\n  }, [doSetFilterValue]);\n  return [filterValue, setFilterValue];\n};\n\nvar isFilterable = function isFilterable(_ref2) {\n  var enableFiltering = _ref2.enableFiltering,\n      filterValue = _ref2.filterValue;\n\n  if (enableFiltering !== undefined) {\n    return enableFiltering;\n  }\n\n  if (!Array.isArray(filterValue) || !filterValue.length) {\n    return false;\n  }\n\n  return true;\n};\n\nvar useFilters = function useFilters(props, computedProps, computedPropsRef) {\n  var _useProperty3 = (0, _useProperty5.default)(props, 'enableFiltering'),\n      _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n      enableFiltering = _useProperty4[0],\n      setEnableFiltering = _useProperty4[1];\n\n  var isColumnFiltered = (0, _react.useCallback)(function (col) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return false;\n    }\n\n    var column = computedProps.getColumnBy(col);\n    var filterValue = computedProps.getColumnFilterValue(col.id);\n\n    if (!filterValue) {\n      return false;\n    }\n\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterValue.value !== filterType.emptyValue;\n  }, []);\n  var columnsMap = (0, _react.useMemo)(function () {\n    return (0, _mapColumns.default)(props.columns, {\n      showWarnings: false\n    });\n  }, [props.columns]);\n\n  var _useFilterValue = useFilterValue(props, {\n    enableFiltering: enableFiltering,\n    columnsMap: columnsMap\n  }, computedPropsRef),\n      _useFilterValue2 = (0, _slicedToArray2.default)(_useFilterValue, 2),\n      computedFilterValue = _useFilterValue2[0],\n      setFilterValue = _useFilterValue2[1];\n\n  var getMenuAvailableHeight = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return undefined;\n    }\n\n    var filtersHeight = 0;\n\n    if (computedProps.computedFilterable) {\n      var filterNode = computedProps.getDOMNode().querySelector('.InovuaReactDataGrid__column-header__filter-wrapper');\n\n      if (filterNode) {\n        filtersHeight = filterNode.offsetHeight;\n      }\n    }\n\n    return computedProps.size ? computedProps.size.height - 5 + filtersHeight : undefined;\n  }, []);\n  var clearAllFilters = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n\n    var allFiltersValue = [];\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    computedProps.allColumns.forEach(function (column) {\n      var filterValue = computedProps.computedFilterValueMap[column.id];\n\n      if (!filterValue) {\n        return;\n      }\n\n      var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n      var headerCell = headerCells[column.computedVisibleIndex];\n\n      var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n        value: filterType.emptyValue\n      });\n\n      if (headerCell && headerCell.filter) {\n        headerCell.filter.setValue(newFilterValue.value);\n      }\n\n      allFiltersValue.push(newFilterValue);\n    });\n    setFilterValue(allFiltersValue);\n  }, [setFilterValue]);\n  var columnFilterContextMenuAlignToRef = (0, _react.useRef)(null);\n  var columnFilterContextMenuConstrainToRef = (0, _react.useRef)(null);\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      columnFilterContextMenuProps = _useState2[0],\n      setColumnFilterContextMenuProps = _useState2[1];\n\n  var showColumnFilterContextMenu = (0, _react.useCallback)(function (alignTo, cellProps) {\n    var computedProps = computedPropsRef.current;\n\n    if (columnFilterContextMenuProps || !computedProps) {\n      return;\n    }\n\n    columnFilterContextMenuAlignToRef.current = alignTo;\n    columnFilterContextMenuConstrainToRef.current = computedProps.columnFilterContextMenuConstrainTo || computedProps.getDOMNode();\n\n    if (computedProps.hideColumnContextMenu) {\n      computedProps.hideColumnContextMenu();\n    }\n\n    setColumnFilterContextMenuProps(cellProps);\n  }, [setColumnFilterContextMenuProps]);\n  var hideColumnFilterContextMenu = (0, _react.useCallback)(function () {\n    if (columnFilterContextMenuProps) {\n      setColumnFilterContextMenuProps(null);\n    }\n  }, [columnFilterContextMenuProps]);\n  var shouldShowFilteringMenuItems = (0, _react.useCallback)(function () {\n    if (props.showFilteringMenuItems) {\n      return true;\n    }\n\n    if (computedFilterValue) {\n      return true;\n    }\n\n    if (enableFiltering) {\n      return true;\n    }\n\n    return false;\n  }, [computedFilterValue, enableFiltering, props.showFilteringMenuItems]);\n  var computedFilterValueMap = (0, _react.useMemo)(function () {\n    return computedFilterValue ? computedFilterValue.reduce(function (acc, columnFilterValue) {\n      acc[columnFilterValue.name] = columnFilterValue;\n      return acc;\n    }, {}) : null;\n  }, [computedFilterValue]);\n  var computedOnColumnFilterValueChange = (0, _react.useCallback)(function (columnFilterValue) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var isBinaryOperator = computedProps.isBinaryOperator;\n\n    if (computedProps.onColumnFilterValueChange) {\n      computedProps.onColumnFilterValueChange(columnFilterValue);\n    }\n\n    var computedFilterValue = computedProps.computedFilterValue;\n    var newFilterValue = (computedFilterValue || []).map(function (oldFilterValue) {\n      if (oldFilterValue.name === columnFilterValue.columnId) {\n        var emptyValue = getColumnFilterEmptyValue(columnFilterValue.columnId);\n\n        if (columnFilterValue.filterValue.type === 'date' || columnFilterValue.filterValue.type === 'number') {\n          if (isBinaryOperator(oldFilterValue.operator) && !isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: emptyValue\n            });\n          }\n\n          if (!isBinaryOperator(oldFilterValue.operator) && isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: columnFilterValue.filterValue && columnFilterValue.filterValue.value != null && columnFilterValue.filterValue.value.start != null ? columnFilterValue.filterValue.value : {\n                start: emptyValue,\n                end: emptyValue\n              }\n            });\n          }\n        }\n\n        return columnFilterValue.filterValue;\n      }\n\n      return oldFilterValue;\n    }).filter(function (f) {\n      return !!f;\n    });\n    setFilterValue(newFilterValue);\n  }, [setFilterValue]);\n  var getColumnFilterValue = (0, _react.useCallback)(function (column) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return null;\n    }\n\n    var col = computedProps.getColumnBy(column);\n\n    if (!col) {\n      return null;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return null;\n    }\n\n    return computedProps.computedFilterValueMap[col.id];\n  }, []);\n  var setColumnFilterValue = (0, _react.useCallback)(function (column, value, operator) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return null;\n    }\n\n    var filterValue = getColumnFilterValue(column);\n\n    if (!filterValue) {\n      return;\n    }\n\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      value: value\n    });\n\n    if (operator) {\n      newFilterValue.operator = operator;\n    }\n\n    var col = computedProps.getColumnBy(column);\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    var headerCell = headerCells[col.computedVisibleIndex];\n\n    if (!headerCell || !headerCell.filter) {\n      return;\n    }\n\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: col.id,\n      columnIndex: col.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    headerCell.filter.setValue(value);\n  }, []);\n  var getColumnFilterEmptyValue = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var col = computedProps.getColumnBy(idNameOrIndex);\n\n    if (!col) {\n      return;\n    }\n\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n\n    var filterValue = computedProps.computedFilterValueMap[col.id];\n\n    if (!filterValue) {\n      return;\n    }\n\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterType.emptyValue;\n  }, []);\n  var clearColumnFilter = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return;\n    }\n\n    var col = computedProps.getColumnBy(idNameOrIndex);\n\n    if (!col) {\n      return;\n    }\n\n    computedProps.setColumnFilterValue(idNameOrIndex, getColumnFilterEmptyValue(idNameOrIndex));\n  }, []);\n  var isFiltered = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n\n    if (!computedProps) {\n      return false;\n    }\n\n    return (computedProps.computedFilterValue || []).reduce(function (result, filterValue) {\n      if (result) {\n        return true;\n      }\n\n      var col = computedProps.getColumnBy(filterValue.name);\n\n      if (col && isColumnFiltered(col)) {\n        return true;\n      }\n\n      return false;\n    }, false);\n  }, []);\n  var computedFiltered = isFiltered();\n  return {\n    clearColumnFilter: clearColumnFilter,\n    computedOnColumnFilterValueChange: computedOnColumnFilterValueChange,\n    computedFilterValueMap: computedFilterValueMap,\n    computedFilterValue: computedFilterValue,\n    computedFiltered: computedFiltered,\n    computedFilterable: isFilterable({\n      enableFiltering: enableFiltering,\n      filterValue: computedFilterValue\n    }),\n    setEnableFiltering: setEnableFiltering,\n    setFilterValue: setFilterValue,\n    getMenuAvailableHeight: getMenuAvailableHeight,\n    showColumnFilterContextMenu: showColumnFilterContextMenu,\n    hideColumnFilterContextMenu: hideColumnFilterContextMenu,\n    shouldShowFilteringMenuItems: shouldShowFilteringMenuItems,\n    renderColumnFilterContextMenu: renderColumnFilterContextMenu,\n    columnFilterContextMenuProps: columnFilterContextMenuProps,\n    columnFilterContextMenuAlignToRef: columnFilterContextMenuAlignToRef,\n    clearAllFilters: clearAllFilters,\n    getColumnFilterValue: getColumnFilterValue,\n    setColumnFilterValue: setColumnFilterValue,\n    isColumnFiltered: isColumnFiltered\n  };\n};\n\nvar _default = useFilters;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}