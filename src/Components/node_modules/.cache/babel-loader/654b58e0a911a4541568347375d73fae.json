{"ast":null,"code":"/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"filterTypes\", {\n  enumerable: true,\n  get: function get() {\n    return _filterTypes.default;\n  }\n});\nexports.default = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _src = _interopRequireDefault(require(\"./packages/react-notify-resize/src\"));\n\nvar _uglified = _interopRequireDefault(require(\"./packages/uglified\"));\n\nvar _useProperty13 = _interopRequireDefault(require(\"./hooks/useProperty\"));\n\nvar _getScrollbarWidth = _interopRequireDefault(require(\"./packages/getScrollbarWidth\"));\n\nvar _clamp = _interopRequireDefault(require(\"./utils/clamp\"));\n\nvar _isMobile = _interopRequireDefault(require(\"./packages/isMobile\"));\n\nvar _Layout = _interopRequireDefault(require(\"./Layout\"));\n\nvar _LoadMask = _interopRequireDefault(require(\"./LoadMask\"));\n\nvar _filterTypes = _interopRequireDefault(require(\"./filterTypes\"));\n\nvar _useColumns = _interopRequireDefault(require(\"./hooks/useColumns\"));\n\nvar _useSize3 = _interopRequireDefault(require(\"./hooks/useSize\"));\n\nvar _useNamedState5 = _interopRequireDefault(require(\"./hooks/useNamedState\"));\n\nvar _useHeader = _interopRequireDefault(require(\"./hooks/useHeader\"));\n\nvar _useEditable = _interopRequireDefault(require(\"./hooks/useEditable\"));\n\nvar _useDataSource = _interopRequireDefault(require(\"./hooks/useDataSource\"));\n\nvar _useScrollProps = _interopRequireDefault(require(\"./hooks/useScrollProps\"));\n\nvar _useSelection = _interopRequireDefault(require(\"./hooks/useSelection\"));\n\nvar _useRow2 = _interopRequireDefault(require(\"./hooks/useRow\"));\n\nvar _RowHeightManager = _interopRequireDefault(require(\"./packages/react-virtual-list-pro/src/RowHeightManager\"));\n\nvar _ua = require(\"./common/ua\");\n\nvar _prepareClassName = _interopRequireDefault(require(\"./utils/prepareClassName\"));\n\nvar _context = require(\"./context\");\n\nvar _Cover = _interopRequireDefault(require(\"./Cover\"));\n\nvar _useActiveIndex = _interopRequireDefault(require(\"./hooks/useActiveIndex\"));\n\nvar _batchUpdate = _interopRequireDefault(require(\"./utils/batchUpdate\"));\n\nvar _empty = _interopRequireDefault(require(\"./plugins/empty\"));\n\nvar _ActiveRowIndicator = _interopRequireDefault(require(\"./ActiveRowIndicator\"));\n\nvar _warn = require(\"./warn\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2.default)(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar GRID_ID = 0;\nvar DEFAULT_I18N = {\n  pageText: 'Page ',\n  ofText: ' of ',\n  perPageText: 'Results per page',\n  showingText: 'Showing ',\n  clearAll: 'Clear all',\n  clear: 'Clear',\n  showFilteringRow: 'Show filtering row',\n  hideFilteringRow: 'Hide filtering row',\n  enable: 'Enable',\n  disable: 'Disable',\n  sortAsc: 'Sort ascending',\n  sortDesc: 'Sort descending',\n  unsort: 'Unsort',\n  group: 'Group',\n  ungroup: 'Ungroup',\n  lockStart: 'Lock start',\n  lockEnd: 'Lock end',\n  unlock: 'Unlock',\n  columns: 'Columns',\n  contains: 'Contains',\n  startsWith: 'Starts with',\n  endsWith: 'Ends with',\n  notContains: 'Does not contain',\n  inlist: 'In list',\n  notinlist: 'Not in list',\n  neq: 'Does not equal',\n  inrange: 'In range',\n  notinrange: 'Not in range',\n  eq: 'Equals',\n  notEmpty: 'Not empty',\n  empty: 'Empty',\n  lt: 'Less than',\n  lte: 'Less than or equal',\n  gt: 'Greater than',\n  gte: 'Greater than or equal',\n  before: 'Before',\n  beforeOrOn: 'Before or on',\n  afterOrOn: 'After or on',\n  after: 'After',\n  start: 'Start',\n  end: 'End',\n  dragHeaderToGroup: 'Drag header to group',\n  noRecords: 'No records available'\n};\n\nvar renderLoadMask = function renderLoadMask(props) {\n  var loadMaskProps = {\n    visible: props.computedLoading,\n    livePagination: props.computedLivePagination,\n    loadingText: props.loadingText || 'Loading',\n    zIndex: 10000,\n    theme: props.theme\n  };\n  var loadMask;\n\n  if (props.renderLoadMask) {\n    loadMask = props.renderLoadMask(loadMaskProps);\n  }\n\n  if (loadMask !== undefined) {\n    return loadMask;\n  }\n\n  return _react.default.createElement(_LoadMask.default, Object.assign({}, loadMaskProps));\n};\n\nvar reducePlugins = function reducePlugins(acc, plugin) {\n  if (!plugin.name || typeof plugin.hook !== 'function') {\n    return acc;\n  }\n\n  acc[plugin.name] = plugin;\n  return acc;\n};\n\nvar GridFactory = function GridFactory() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      plugins = _ref.plugins;\n\n  var edition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'community';\n  plugins = plugins || [];\n  var maybeAddColumns;\n  var defaultSize = {\n    width: 0,\n    height: 0\n  };\n  var emptyCoverHandle = {\n    setActive: function setActive() {},\n    setCursor: function setCursor() {}\n  };\n  plugins = [].concat((0, _toConsumableArray2.default)(_empty.default), (0, _toConsumableArray2.default)(plugins));\n  var pluginsMap = plugins.reduce(reducePlugins, {});\n\n  var Grid = _react.default.memo(function (props) {\n    var _useState = (0, _react.useState)(false),\n        _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n        computedFocused = _useState2[0],\n        computedSetFocused = _useState2[1];\n\n    var computedPropsRef = (0, _react.useRef)(null);\n    var warnRef = (0, _react.useMemo)(function () {\n      return {};\n    }, []);\n    var context = (0, _react.useContext)(props.context);\n    (0, _react.useEffect)(function () {\n      if (computedFocused && props.activateRowOnFocus) {\n        var _computedProps = computedPropsRef.current;\n\n        if (!_computedProps) {\n          return;\n        }\n\n        var count = _computedProps.count;\n\n        if (!count) {\n          return;\n        }\n\n        var _activeItem = _computedProps.getActiveItem();\n\n        if (!_activeItem) {\n          var index = _computedProps.getFirstVisibleIndex();\n\n          _computedProps.setActiveIndex(index);\n        }\n      }\n    }, [computedFocused]);\n    var bodyRef = (0, _react.useRef)(null);\n    var domRef = (0, _react.useRef)(null);\n    var portalRef = (0, _react.useRef)(null);\n\n    var getDOMNode = function getDOMNode() {\n      return domRef.current;\n    };\n\n    var getBodyDOMNode = function getBodyDOMNode() {\n      var _bodyRef$current;\n\n      return bodyRef === null || bodyRef === void 0 ? void 0 : (_bodyRef$current = bodyRef.current) === null || _bodyRef$current === void 0 ? void 0 : _bodyRef$current.getDOMNode();\n    };\n\n    var getVirtualList = function getVirtualList() {\n      return bodyRef.current != null ? bodyRef.current.getVirtualList() : null;\n    };\n\n    var getColumnLayout = function getColumnLayout() {\n      return bodyRef.current != null ? bodyRef.current.columnLayout : null;\n    };\n\n    var _useProperty = (0, _useProperty13.default)(props, 'loading'),\n        _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n        computedLoading = _useProperty2[0],\n        doSetLoading = _useProperty2[1];\n\n    var loadingTimeoutIdRef = (0, _react.useRef)();\n\n    var setLoading = function setLoading(loading) {\n      var computedProps = computedPropsRef.current;\n      var isLoading = loading instanceof Function ? loading(computedProps ? computedProps.computedLoading : false) : loading;\n\n      if (!computedProps) {\n        doSetLoading(isLoading);\n        return;\n      }\n\n      if (loadingTimeoutIdRef.current) {\n        clearTimeout(loadingTimeoutIdRef.current);\n      }\n\n      if (computedProps.computedLivePagination && !isLoading && computedProps.livePaginationLoadMaskHideDelay) {\n        loadingTimeoutIdRef.current = setTimeout(function () {\n          doSetLoading(isLoading);\n          loadingTimeoutIdRef.current = null;\n        }, computedProps.livePaginationLoadMaskHideDelay);\n      } else {\n        doSetLoading(isLoading);\n      }\n    };\n\n    var _useNamedState = (0, _useNamedState5.default)({}, props.context, 'columnSizes'),\n        _useNamedState2 = (0, _slicedToArray2.default)(_useNamedState, 2),\n        columnSizes = _useNamedState2[0],\n        setColumnSizes = _useNamedState2[1];\n\n    var _useNamedState3 = (0, _useNamedState5.default)({}, props.context, 'columnFlexes'),\n        _useNamedState4 = (0, _slicedToArray2.default)(_useNamedState3, 2),\n        columnFlexes = _useNamedState4[0],\n        setColumnFlexes = _useNamedState4[1];\n\n    var _useState3 = (0, _react.useState)({}),\n        _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n        lockedColumnsState = _useState4[0],\n        setLockedColumnsState = _useState4[1];\n\n    var _useState5 = (0, _react.useState)({\n      vertical: false,\n      horizontal: false\n    }),\n        _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n        scrollbars = _useState6[0],\n        setScrollbars = _useState6[1];\n\n    var _useProperty3 = (0, _useProperty13.default)(props, 'reservedViewportWidth', 0),\n        _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n        reservedViewportWidth = _useProperty4[0],\n        setReservedViewportWidth = _useProperty4[1];\n\n    var _useSize = (0, _useSize3.default)(defaultSize),\n        _useSize2 = (0, _slicedToArray2.default)(_useSize, 2),\n        size = _useSize2[0],\n        setSize = _useSize2[1];\n\n    var _useState7 = (0, _react.useState)(0),\n        _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n        viewportAvailableWidth = _useState8[0],\n        setViewportAvailableWidth = _useState8[1];\n\n    var onResize = function onResize(size) {\n      (0, _batchUpdate.default)().commit(function () {\n        if (_ua.IS_MS_BROWSER || _ua.IS_FF) {\n          size.width -= 2;\n        }\n\n        setSize(size);\n        updateViewportAvailableWidth(size.width);\n\n        if (props.rowHeight) {\n          setMaxVisibleRows(Math.ceil(size.height / props.rowHeight));\n        }\n      });\n    };\n\n    var updateViewportAvailableWidth = function updateViewportAvailableWidth(newViewportAvailableWidth) {\n      var scrolls = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scrollbars;\n\n      if (props.nativeScroll && scrolls.vertical) {\n        newViewportAvailableWidth -= (0, _getScrollbarWidth.default)();\n      }\n\n      setViewportAvailableWidth(Math.round(newViewportAvailableWidth));\n    };\n\n    var _useState9 = (0, _react.useState)({\n      virtualListBorderLeft: 0,\n      virtualListBorderRight: 0,\n      virtualListExtraWidth: 0\n    }),\n        _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n        _useState10$ = _useState10[0],\n        virtualListBorderLeft = _useState10$.virtualListBorderLeft,\n        virtualListBorderRight = _useState10$.virtualListBorderRight,\n        virtualListExtraWidth = _useState10$.virtualListExtraWidth,\n        setVirtualListState = _useState10[1];\n\n    var onScrollbarsChange = function onScrollbarsChange(scrollbars) {\n      var onChange = function onChange() {\n        var computedStyle = global.getComputedStyle(getVirtualList().getDOMNode());\n        var virtualListBorderLeft = parseInt(computedStyle.borderLeftWidth, 10);\n        var virtualListBorderRight = parseInt(computedStyle.borderRightWidth, 10);\n        var virtualListExtraWidth = virtualListBorderLeft + virtualListBorderRight;\n        (0, _batchUpdate.default)().commit(function () {\n          setScrollbars(scrollbars);\n\n          if (size.width) {\n            updateViewportAvailableWidth(size.width, scrollbars);\n          }\n\n          setVirtualListState({\n            virtualListBorderLeft: virtualListBorderLeft,\n            virtualListBorderRight: virtualListBorderRight,\n            virtualListExtraWidth: virtualListExtraWidth\n          });\n        });\n      };\n\n      if (!bodyRef.current) {\n        requestAnimationFrame(onChange);\n      } else {\n        onChange();\n      }\n    };\n\n    var _useProperty5 = (0, _useProperty13.default)(props, 'showCellBorders'),\n        _useProperty6 = (0, _slicedToArray2.default)(_useProperty5, 2),\n        computedShowCellBorders = _useProperty6[0],\n        setShowCellBorders = _useProperty6[1];\n\n    var showHorizontalCellBorders = computedShowCellBorders === true || computedShowCellBorders === 'horizontal';\n    var showVerticalCellBorders = computedShowCellBorders === true || computedShowCellBorders === 'vertical';\n\n    var _useState11 = (0, _react.useState)(false),\n        _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n        listenOnCellEnter = _useState12[0],\n        updateListenOnCellEnter = _useState12[1];\n\n    var _useState13 = (0, _react.useState)(null),\n        _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n        selectionFixedCell = _useState14[0],\n        setSelectionFixedCell = _useState14[1];\n\n    var setListenOnCellEnter = function setListenOnCellEnter(value, callback) {\n      if (value) {\n        global.addEventListener('mouseup', callback);\n      } else {\n        global.removeEventListener('mouseup', callback);\n      }\n\n      updateListenOnCellEnter(value);\n    };\n\n    var renderCallbacks = (0, _react.useRef)([]);\n\n    var onNextRender = function onNextRender(fn) {\n      renderCallbacks.current.push(fn);\n    };\n\n    (0, _react.useEffect)(function () {\n      renderCallbacks.current.forEach(function (fn) {\n        return fn();\n      });\n      renderCallbacks.current.length = 0;\n    });\n\n    var _useState15 = (0, _react.useState)(''),\n        _useState16 = (0, _slicedToArray2.default)(_useState15, 2),\n        lastCellInRange = _useState16[0],\n        setLastCellInRange = _useState16[1];\n\n    var _useState17 = (0, _react.useState)(null),\n        _useState18 = (0, _slicedToArray2.default)(_useState17, 2),\n        lastSelectedCell = _useState18[0],\n        setLastSelectedCell = _useState18[1];\n\n    var renderInPortal = (0, _react.useMemo)(function () {\n      return props.renderInPortal || function (el) {\n        return portalRef.current ? (0, _reactDom.createPortal)(el, portalRef.current) : null;\n      };\n    }, [props.renderInPortal]);\n\n    var cProps = _objectSpread(_objectSpread({}, props), {}, {\n      initialProps: props,\n      selectionFixedCell: selectionFixedCell,\n      setSelectionFixedCell: setSelectionFixedCell,\n      bodyRef: bodyRef,\n      domRef: domRef,\n      portalRef: portalRef,\n      renderInPortal: renderInPortal,\n      listenOnCellEnter: listenOnCellEnter,\n      setListenOnCellEnter: setListenOnCellEnter,\n      lastCellInRange: lastCellInRange,\n      setLastCellInRange: setLastCellInRange,\n      setLastSelectedCell: setLastSelectedCell,\n      lastSelectedCell: lastSelectedCell,\n      onScrollbarsChange: onScrollbarsChange,\n      virtualListBorderLeft: virtualListBorderLeft,\n      virtualListBorderRight: virtualListBorderRight,\n      virtualListExtraWidth: virtualListExtraWidth,\n      scrollbars: scrollbars,\n      reservedViewportWidth: reservedViewportWidth,\n      setReservedViewportWidth: setReservedViewportWidth,\n      getColumnLayout: getColumnLayout,\n      getDOMNode: getDOMNode,\n      computedLoading: computedLoading,\n      computedFocused: computedFocused,\n      computedSetFocused: computedSetFocused,\n      columnFlexes: columnFlexes,\n      columnSizes: columnSizes,\n      setColumnFlexes: setColumnFlexes,\n      setColumnSizes: setColumnSizes,\n      lockedColumnsState: lockedColumnsState,\n      setLockedColumnsState: setLockedColumnsState,\n      setLoading: setLoading,\n      isLoading: function isLoading() {\n        return computedProps.computedLoading;\n      },\n      size: size,\n      setSize: setSize,\n      viewportAvailableWidth: viewportAvailableWidth,\n      availableWidth: viewportAvailableWidth,\n      maxAvailableWidthForColumns: viewportAvailableWidth - reservedViewportWidth,\n      showHorizontalCellBorders: showHorizontalCellBorders,\n      showVerticalCellBorders: showVerticalCellBorders,\n      shareSpaceOnResize: props.shareSpaceOnResize || false,\n      onNextRender: onNextRender\n    });\n\n    cProps.i18n = function (key, defaultLabel) {\n      return props.i18n[key] || DEFAULT_I18N[key] || defaultLabel;\n    };\n\n    Object.assign(cProps, pluginsMap['sortable-columns'].hook(props, cProps, computedPropsRef));\n\n    if (pluginsMap['group-and-pivot'] && pluginsMap['group-and-pivot'].hook) {\n      Object.assign(cProps, pluginsMap['group-and-pivot'].hook(props, cProps, computedPropsRef));\n    }\n\n    if (pluginsMap.tree && pluginsMap.tree.hook) {\n      Object.assign(cProps, pluginsMap.tree.hook(props, cProps, computedPropsRef));\n    }\n\n    if (pluginsMap.filters && pluginsMap.filters.hook) {\n      Object.assign(cProps, pluginsMap.filters.hook(props, cProps, computedPropsRef));\n    }\n\n    Object.assign(cProps, (0, _useEditable.default)(props, cProps, computedPropsRef));\n    cProps.maybeAddColumns = maybeAddColumns;\n    var columnInfo = (0, _useColumns.default)(props, cProps, computedPropsRef);\n    Object.assign(cProps, columnInfo);\n    cProps.wasMountedRef = (0, _react.useRef)(false);\n    cProps.wasUnmountedRef = (0, _react.useRef)(false);\n    var dataInfo = (0, _useDataSource.default)(props, cProps, computedPropsRef);\n    Object.assign(cProps, pluginsMap['live-pagination'].hook(props, cProps, computedPropsRef));\n    var rowHeightManager = (0, _react.useMemo)(function () {\n      return new _RowHeightManager.default(props.rowHeight || props.minRowHeight, {}, {\n        cache: !!props.rowHeight\n      });\n    }, []);\n    var i18nFn = (0, _react.useCallback)(function (key, defaultLabel) {\n      if (!props.i18n) {\n        return defaultLabel;\n      }\n\n      return props.i18n[key] || DEFAULT_I18N[key] || defaultLabel;\n    }, [props.i18n]);\n    var getItemId = (0, _react.useCallback)(function (item) {\n      if (item.__group && Array.isArray(item.keyPath)) {\n        return item.keyPath.join(props.groupPathSeparator);\n      }\n\n      return item[props.idProperty];\n    }, []);\n\n    var getItemIndexBy = function getItemIndexBy(fn) {\n      var data = computedProps.data;\n\n      if (!data || typeof fn != 'function') {\n        return -1;\n      }\n\n      if (data.findIndex) {\n        return data.findIndex(fn);\n      }\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        if (fn(data[i]) === true) {\n          return i;\n        }\n      }\n\n      return -1;\n    };\n\n    var getItemAt = function getItemAt(index) {\n      return computedPropsRef.current ? computedPropsRef.current.data[index] : undefined;\n    };\n\n    var getItemIdAt = function getItemIdAt(index) {\n      return getItemId(getItemAt(index));\n    };\n\n    var isRowExpandedById = function isRowExpandedById() {\n      return false;\n    };\n\n    var isCellVisible = function isCellVisible(_ref2) {\n      var rowIndex = _ref2.rowIndex,\n          columnIndex = _ref2.columnIndex;\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return false;\n      }\n\n      var column = computedProps.visibleColumns[columnIndex];\n\n      if (!computedProps.rowHeightManager) {\n        throw 'You need fixed row height for this method to work';\n      }\n\n      var columnStart = column.computedOffset;\n      var columnEnd = columnStart + column.computedWidth;\n      var rowStart = computedProps.rowHeightManager.getRowOffset(rowIndex);\n      var rowEnd = rowStart + computedProps.rowHeightManager.getRowHeight(rowIndex);\n      var virtualList = getVirtualList();\n      var visibleTop = virtualList.scrollTop;\n      var visibleBottom = visibleTop + computedProps.size.height;\n      var visibleLeft = virtualList.scrollLeft;\n      var visibleRight = visibleLeft + computedProps.size.width;\n      var leftDiff = columnStart - visibleLeft;\n      var rightDiff = visibleRight - columnEnd;\n      var topDiff = rowStart - visibleTop;\n      var bottomDiff = visibleBottom - rowEnd;\n\n      if (topDiff >= 0 && bottomDiff >= 0 && leftDiff >= 0 && rightDiff >= 0) {\n        return true;\n      }\n\n      return {\n        topDiff: topDiff,\n        bottomDiff: bottomDiff,\n        leftDiff: leftDiff,\n        rightDiff: rightDiff\n      };\n    };\n\n    var setScrollTop = function setScrollTop(scrollTop) {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        virtualList.scrollTop = scrollTop;\n      }\n    };\n\n    var incrementScrollTop = function incrementScrollTop(increment) {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        virtualList.scrollTop += increment;\n      }\n    };\n\n    var getScrollTop = function getScrollTop() {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        return virtualList.scrollTop || 0;\n      }\n\n      return 0;\n    };\n\n    var getScrollLeft = function getScrollLeft() {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        return virtualList.scrollLeft || 0;\n      }\n\n      return 0;\n    };\n\n    var getScrollLeftMax = function getScrollLeftMax() {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        return virtualList.scrollLeftMax || 0;\n      }\n\n      return 0;\n    };\n\n    var setScrollLeft = function setScrollLeft(scrollLeft) {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        virtualList.scrollLeft = scrollLeft;\n      }\n    };\n\n    var incrementScrollLeft = function incrementScrollLeft(increment) {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        virtualList.scrollLeft += increment;\n      }\n    };\n\n    var scrollToId = function scrollToId(id, config, callback) {\n      var index = computedProps.getRowIndexById(id);\n      scrollToIndex(index, config, callback);\n    };\n\n    var scrollToIndex = function scrollToIndex(index, config, callback) {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      index = (0, _clamp.default)(index, 0, computedProps.data.length - 1);\n      config = config || {};\n      var top = config.top;\n      var force = config.force;\n      var direction = config.direction;\n      var duration = config.duration;\n      var offset = config.offset;\n      top = !!top;\n      force = !!force;\n      direction = direction || (top ? 'top' : 'bottom');\n      getVirtualList().scrollToIndex(index, {\n        direction: direction,\n        force: force,\n        duration: duration,\n        offset: offset\n      }, callback);\n    };\n\n    var scrollToCell = function scrollToCell(_ref3) {\n      var rowIndex = _ref3.rowIndex,\n          columnIndex = _ref3.columnIndex;\n\n      var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          offset = _ref4.offset,\n          left = _ref4.left,\n          right = _ref4.right,\n          top = _ref4.top;\n\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      if (offset === undefined) {\n        offset = (computedProps.rowHeight || 50) / 2;\n      }\n\n      var columnDirection = left === true ? 'left' : left === false || right === true ? 'right' : undefined;\n      var col = computedProps.visibleColumns[columnIndex];\n\n      var scrollToRow = function scrollToRow() {\n        computedProps.scrollToIndex((0, _clamp.default)(rowIndex + (top ? -0 : 0), 0, computedProps.count - 1), {\n          top: top,\n          offset: 0\n        });\n      };\n\n      if (!col) {\n        return;\n      }\n\n      if (col.computedLocked) {\n        scrollToRow();\n        return;\n      }\n\n      computedProps.scrollToColumn(columnIndex, {\n        offset: offset,\n        direction: columnDirection\n      }, function () {\n        scrollToRow();\n      });\n    };\n\n    var smoothScrollTo = (0, _react.useCallback)(function (value, config) {\n      var virtualList = getVirtualList();\n      virtualList.smoothScrollTo(value, config);\n    }, []);\n    var scrollToColumn = (0, _react.useCallback)(function (index, config, callback) {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      if (!computedProps.size.width) {\n        return requestAnimationFrame(function () {\n          scrollToColumn(index, config, callback);\n        });\n      }\n\n      config = config || {};\n      var _config = config,\n          direction = _config.direction,\n          force = _config.force,\n          duration = _config.duration,\n          offset = _config.offset;\n\n      if (offset === undefined) {\n        offset = (computedProps.rowHeight || 50) / 2;\n      }\n\n      var col = computedProps.getColumnBy(index);\n\n      if (col.computedLocked) {\n        if (callback) {\n          callback();\n        }\n\n        return;\n      }\n\n      var virtualList = getVirtualList();\n      var scrollLeft = virtualList.scrollLeft;\n      var scrollWidth = computedProps.size.width;\n\n      if (direction) {\n        if (direction != 'left' && direction != 'right') {\n          direction = null;\n        }\n      }\n\n      if (force && !direction) {\n        force = false;\n      }\n\n      if (typeof callback != 'function') {\n        callback = function callback() {};\n      }\n\n      var columnOffset = direction === 'left' || !direction ? col.computedOffset : col.computedOffset + col.computedWidth;\n      var leftDiff = columnOffset - scrollLeft - (computedProps.totalLockedStartWidth || 0);\n      var rightDiff = scrollLeft + scrollWidth - columnOffset - (computedProps.totalLockedEndWidth || 0);\n      var toLeft = leftDiff < 0;\n      var toRight = rightDiff < 0;\n      var visible = !toLeft && !toRight;\n\n      if (!visible) {\n        if (!direction) {\n          direction = leftDiff < 0 ? 'left' : 'right';\n          force = true;\n        }\n      }\n\n      if (!visible || direction && force) {\n        var newScrollLeft;\n\n        if (direction == 'left' || leftDiff < 0) {\n          newScrollLeft = scrollLeft + leftDiff - offset;\n        } else if (direction == 'right' || rightDiff < 0) {\n          newScrollLeft = scrollLeft - rightDiff + offset;\n        }\n\n        if (newScrollLeft != null) {\n          if (duration) {\n            virtualList.smoothScrollTo(newScrollLeft, {\n              duration: duration,\n              orientation: 'horizontal'\n            }, callback);\n            return;\n          }\n\n          virtualList.scrollLeft = newScrollLeft;\n        }\n      }\n\n      callback();\n    }, []);\n\n    var scrollToIndexIfNeeded = function scrollToIndexIfNeeded(index, config, callback) {\n      var needed = !isRowFullyVisible(index);\n\n      if (needed) {\n        scrollToIndex(index, config, callback);\n      }\n\n      return needed;\n    };\n\n    var isRowFullyVisible = function isRowFullyVisible(rowIndex) {\n      var list = getVirtualList();\n\n      if (!list) {\n        return false;\n      }\n\n      return list.isRowVisible(rowIndex);\n    };\n\n    var getRenderRange = function getRenderRange() {\n      return bodyRef.current != null ? bodyRef.current.getRenderRange() : {\n        from: 0,\n        to: 0\n      };\n    };\n\n    var isRowRendered = function isRowRendered(index) {\n      var _getRenderRange = getRenderRange(),\n          from = _getRenderRange.from,\n          to = _getRenderRange.to;\n\n      return index >= from && index < to;\n    };\n\n    var focus = function focus() {\n      var virtualList = getVirtualList();\n\n      if (!virtualList) {\n        return;\n      }\n\n      var scrollContainer = virtualList.scrollContainer;\n\n      if (!scrollContainer) {\n        return;\n      }\n\n      scrollContainer.focus();\n    };\n\n    var blur = function blur() {\n      var virtualList = getVirtualList();\n\n      if (!virtualList) {\n        return;\n      }\n\n      var scrollContainer = virtualList.scrollContainer;\n\n      if (!scrollContainer) {\n        return;\n      }\n\n      scrollContainer.blur();\n    };\n\n    var computedProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, cProps), {}, {\n      gridId: (0, _react.useMemo)(function () {\n        return ++GRID_ID;\n      }, []),\n      isRowFullyVisible: isRowFullyVisible,\n      bodyRef: bodyRef,\n      getMenuPortalContainer: getDOMNode,\n      scrollToIndexIfNeeded: scrollToIndexIfNeeded,\n      scrollToIndex: scrollToIndex,\n      scrollToId: scrollToId,\n      scrollToColumn: scrollToColumn,\n      scrollToCell: scrollToCell,\n      setScrollTop: setScrollTop,\n      setScrollLeft: setScrollLeft,\n      smoothScrollTo: smoothScrollTo,\n      incrementScrollLeft: incrementScrollLeft,\n      incrementScrollTop: incrementScrollTop,\n      getScrollTop: getScrollTop,\n      getScrollLeft: getScrollLeft,\n      getScrollLeftMax: getScrollLeftMax,\n      isCellVisible: isCellVisible,\n      naturalRowHeight: props.rowHeight == null,\n      isRowRendered: isRowRendered,\n      getRenderRange: getRenderRange,\n      computedShowCellBorders: computedShowCellBorders,\n      setShowCellBorders: setShowCellBorders,\n      groupCounts: [],\n      computedLoading: computedLoading,\n      setLoading: setLoading\n    }, dataInfo), columnInfo), {}, {\n      rowHeightManager: rowHeightManager,\n      isRowExpandedById: isRowExpandedById,\n      getItemId: getItemId,\n      getRowId: getItemIdAt,\n      getItemIndexBy: getItemIndexBy,\n      getItemAt: getItemAt,\n      getItemIdAt: getItemIdAt,\n      focus: focus,\n      blur: blur,\n      computedShowHeaderBorderRight: columnInfo.totalComputedWidth < viewportAvailableWidth || props.nativeScroll && (0, _getScrollbarWidth.default)() && scrollbars.vertical,\n      i18n: i18nFn,\n      totalColumnCount: columnInfo.allColumns.length,\n      totalComputedWidth: columnInfo.totalComputedWidth,\n      minRowWidth: columnInfo.totalComputedWidth,\n      columnResizeHandleWidth: (0, _clamp.default)(props.columnResizeHandleWidth, 2, 25)\n    });\n\n    computedProps.rtlOffset = props.rtl ? Math.min(computedProps.size.width - computedProps.totalComputedWidth, 0) : 0;\n    computedPropsRef.current = computedProps;\n    var menusRef = (0, _react.useRef)([]);\n    computedProps.menusRef = menusRef;\n\n    computedProps.updateMenuPositions = function () {\n      menusRef.current.forEach(function (menu) {\n        if (menu && menu.updatePosition) {\n          menu.updatePosition();\n        }\n      });\n    };\n\n    computedProps.onScroll = function () {\n      if (computedProps.initialProps.onScroll) {\n        computedProps.initialProps.onScroll();\n      }\n\n      if (computedProps.updateMenuPositionOnScroll) {\n        computedProps.updateMenuPositions();\n      }\n    };\n\n    if (pluginsMap['row-details'] && pluginsMap['row-details'].hook) {\n      Object.assign(computedProps, pluginsMap['row-details'].hook(props, computedProps, computedPropsRef));\n    }\n\n    computedProps.useCellSelection = pluginsMap['cell-selection'].hook;\n    Object.assign(computedProps, (0, _useSelection.default)(props, computedProps, computedPropsRef));\n    Object.assign(computedProps, (0, _useActiveIndex.default)(props, computedProps, computedPropsRef));\n    Object.assign(computedProps, (0, _useHeader.default)(props, computedProps));\n    computedProps.scrollProps = (0, _useScrollProps.default)(props, computedProps);\n\n    var _useState19 = (0, _react.useState)(0),\n        _useState20 = (0, _slicedToArray2.default)(_useState19, 2),\n        maxVisibleRows = _useState20[0],\n        setMaxVisibleRows = _useState20[1];\n\n    var _useProperty7 = (0, _useProperty13.default)(props, 'showZebraRows'),\n        _useProperty8 = (0, _slicedToArray2.default)(_useProperty7, 2),\n        computedShowZebraRows = _useProperty8[0],\n        setShowZebraRows = _useProperty8[1];\n\n    var _useProperty9 = (0, _useProperty13.default)(props, 'showHoverRows'),\n        _useProperty10 = (0, _slicedToArray2.default)(_useProperty9, 2),\n        computedShowHoverRows = _useProperty10[0],\n        setShowHoverRows = _useProperty10[1];\n\n    var _useProperty11 = (0, _useProperty13.default)(props, 'showEmptyRows'),\n        _useProperty12 = (0, _slicedToArray2.default)(_useProperty11, 2),\n        computedShowEmptyRows = _useProperty12[0],\n        setShowEmptyRows = _useProperty12[1];\n\n    computedProps.getVirtualList = getVirtualList;\n    computedProps.computedShowZebraRows = computedShowZebraRows;\n    computedProps.computedShowHoverRows = computedShowHoverRows;\n    computedProps.computedShowEmptyRows = computedShowEmptyRows;\n    computedProps.setShowZebraRows = setShowZebraRows;\n    computedProps.setShowHoverRows = setShowHoverRows;\n    computedProps.setShowEmptyRows = setShowEmptyRows;\n    computedProps.maxVisibleRows = maxVisibleRows;\n    var className = (0, _prepareClassName.default)(computedProps);\n\n    var _useRow = (0, _useRow2.default)(props, computedProps, computedPropsRef),\n        onKeyDown = _useRow.computedOnKeyDown,\n        onFocus = _useRow.computedOnFocus,\n        useRowProps = (0, _objectWithoutProperties2.default)(_useRow, [\"computedOnKeyDown\", \"computedOnFocus\"]);\n\n    if (pluginsMap['locked-rows'] && pluginsMap['locked-rows'].hook) {\n      Object.assign(computedProps, pluginsMap['locked-rows'].hook(props, computedProps, computedPropsRef));\n    }\n\n    if (pluginsMap['locked-columns'] && pluginsMap['locked-columns'].hook) {\n      Object.assign(computedProps, pluginsMap['locked-columns'].hook(props, computedProps, computedPropsRef));\n    } else if (computedProps.lockedEndColumns && computedProps.lockedEndColumns.length || computedProps.lockedStartColumns && computedProps.lockedStartColumns.length) {\n      (0, _warn.communityFeatureWarn)(\"Locked columns\", warnRef);\n    }\n\n    if (pluginsMap['footer-rows'] && pluginsMap['footer-rows'].hook) {\n      Object.assign(computedProps, pluginsMap['footer-rows'].hook(props, computedProps, computedPropsRef));\n    }\n\n    if ((props.renderRowDetails || props.expandedRows || props.defaultExpandedRows) && !pluginsMap['row-details']) {\n      (0, _warn.communityFeatureWarn)(\"Row Details and Master Details\", warnRef);\n    }\n\n    if (props.lockedRows && !pluginsMap['locked-rows']) {\n      (0, _warn.communityFeatureWarn)(\"Locked rows\", warnRef);\n    }\n\n    if (props.footerRows && !pluginsMap['footer-rows']) {\n      (0, _warn.communityFeatureWarn)(\"Footer rows\", warnRef);\n    }\n\n    Object.assign(computedProps, useRowProps);\n    Object.assign(computedProps, pluginsMap['menus'].hook(props, computedProps, computedPropsRef));\n    var computedWillReceiveFocusRef = (0, _react.useRef)(false);\n\n    computedProps.getState = function () {\n      return context.state;\n    };\n\n    computedProps.setStateProperty = function (name, value) {\n      context.state[name] = value;\n    };\n\n    computedProps.computedWillReceiveFocusRef = computedWillReceiveFocusRef;\n    delete computedProps.style;\n\n    var getScrollingElement = function getScrollingElement() {\n      var scrollingElement = getVirtualList().getScrollingElement();\n\n      if (!scrollingElement.scrollerNode) {\n        scrollingElement = scrollingElement.scroller;\n      }\n\n      return scrollingElement.scrollerNode;\n    };\n\n    computedProps.getScrollingElement = getScrollingElement;\n\n    var onGridScrollIntoView = function onGridScrollIntoView(event) {\n      var gridNode = getBodyDOMNode();\n      var eventTarget = event.target;\n\n      if (event.target != gridNode) {\n        return;\n      }\n\n      var scrollLeft = gridNode.scrollLeft,\n          scrollTop = gridNode.scrollTop;\n\n      if (scrollLeft) {\n        gridNode.scrollLeft = computedProps.rtl ? getScrollLeftMax() : 0;\n        requestAnimationFrame(function () {\n          if (computedProps.wasUnmountedRef.current) {\n            return;\n          }\n\n          incrementScrollLeft(scrollLeft);\n        });\n      }\n\n      if (scrollTop && eventTarget) {\n        eventTarget.scrollTop = 0;\n        global.requestAnimationFrame(function () {\n          if (computedProps.wasUnmountedRef.current) {\n            return;\n          }\n\n          incrementScrollTop(scrollTop);\n        });\n      }\n    };\n\n    var setupPassiveScrollListener = function setupPassiveScrollListener(node) {\n      node.addEventListener('scroll', onGridScrollIntoView, {\n        passive: true\n      });\n    };\n\n    var removePassiveScrollListener = function removePassiveScrollListener(node) {\n      if (node) {\n        node.removeEventListener('scroll', onGridScrollIntoView, {\n          passive: true\n        });\n      }\n    };\n\n    (0, _react.useEffect)(function () {\n      computedProps.wasMountedRef.current = true;\n\n      if (props.onDidMount) {\n        props.onDidMount(computedPropsRef);\n      }\n\n      var initialScrollLeft = props.initialScrollLeft,\n          initialScrollTop = props.initialScrollTop;\n\n      if (props.skipLoadOnMount) {\n        if (initialScrollTop) {\n          setScrollTop(initialScrollTop);\n        }\n\n        if (initialScrollLeft) {\n          setScrollLeft(initialScrollLeft);\n        }\n      }\n\n      var bodyNode = getBodyDOMNode();\n      setupPassiveScrollListener(bodyNode);\n      return function () {\n        removePassiveScrollListener(bodyNode);\n\n        if (props.onWillUnmount) {\n          props.onWillUnmount(computedPropsRef);\n        }\n\n        computedProps.wasUnmountedRef.current = true;\n      };\n    }, []);\n    (0, _react.useEffect)(function () {\n      if (props.handle) {\n        props.handle(computedPropsRef);\n      }\n\n      return function () {\n        if (props.handle) {\n          props.handle(null);\n        }\n      };\n    }, [props.handle]);\n    (0, _react.useEffect)(function () {\n      if (props.onReady && size.width) {\n        props.onReady(computedPropsRef);\n      }\n    }, [size.width !== 0]);\n    computedProps.cellNavigationRef = (0, _react.useRef)(null);\n    Object.assign(computedProps, pluginsMap['row-index-column'].hook(props, computedProps, computedPropsRef));\n    computedProps.coverHandleRef = (0, _react.useRef)(emptyCoverHandle);\n    computedProps.rowResizeIndexRef = (0, _react.useRef)(null);\n\n    var coverHandle = function coverHandle(_ref5) {\n      var setActive = _ref5.setActive,\n          setCursor = _ref5.setCursor;\n      computedPropsRef.current.coverHandleRef.current = {\n        setActive: setActive,\n        setCursor: setCursor\n      };\n    };\n\n    var activeItem = getItemAt(computedProps.computedActiveIndex);\n    var activeRowHeight = computedProps.computedRowHeights && activeItem ? computedProps.computedRowHeights[getItemId(activeItem)] : computedProps.rowHeight;\n    computedProps.activeRowHeight = activeRowHeight || computedProps.rowHeight;\n\n    computedProps.renderActiveRowIndicator = function (handle) {\n      return _react.default.createElement(_ActiveRowIndicator.default, {\n        handle: handle,\n        rtl: computedProps.rtl,\n        rtlOffset: computedProps.rtlOffset,\n        getDOMNode: computedProps.getDOMNode,\n        dataSourceCount: computedProps.data.length,\n        width: computedProps.minRowWidth || 0,\n        computedRowHeights: computedProps.computedRowHeights,\n        computedExpandedRows: computedProps.computedExpandedRows,\n        computedExpandedNodes: computedProps.computedExpandedNodes,\n        activeRowHeight: computedProps.activeRowHeight,\n        activeIndex: computedProps.computedActiveIndex,\n        activeRowRef: computedProps.activeRowRef\n      });\n    };\n\n    computedProps.computedLicenseValid = false;\n\n    if (pluginsMap.license && pluginsMap.license.hook) {\n      Object.assign(computedProps, pluginsMap.license.hook(props, computedProps, computedPropsRef));\n    }\n\n    if (edition !== 'enterprise') {\n      if (props.rowIndexColumn) {\n        (0, _warn.communityFeatureWarn)('Row resize (row index column)', warnRef);\n      }\n\n      if (props.livePagination) {\n        (0, _warn.communityFeatureWarn)('Live pagination', warnRef);\n      }\n\n      if (props.onRowReorder != null || props.rowReorderColumn != null) {\n        (0, _warn.communityFeatureWarn)('Row reorder', warnRef);\n      }\n    }\n\n    delete computedProps.renderLockedStartCells;\n    delete computedProps.renderLockedEndCells;\n\n    if (pluginsMap['locked-columns']) {\n      computedProps.renderLockedStartCells = pluginsMap['locked-columns'].renderLockedStartCells;\n      computedProps.renderLockedEndCells = pluginsMap['locked-columns'].renderLockedEndCells;\n    }\n\n    Object.defineProperty(computedProps, 'scrollTop', {\n      get: function get() {\n        return getScrollTop();\n      },\n      set: function set(newValue) {\n        setScrollTop(newValue);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    Object.defineProperty(computedProps, 'scrollLeft', {\n      get: function get() {\n        return getScrollLeft();\n      },\n      set: function set(newValue) {\n        setScrollLeft(newValue);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    computedProps.edition = edition;\n    return _react.default.createElement(\"div\", {\n      style: props.style,\n      className: className,\n      onKeyDown: onKeyDown,\n      onFocus: onFocus,\n      onBlur: props.onBlur,\n      ref: domRef\n    }, _react.default.createElement(_context.Provider, {\n      value: computedProps\n    }, pluginsMap['row-index-column'].renderRowResizeIndicator(computedProps, computedPropsRef), _react.default.createElement(_Layout.default, {\n      Footer: pluginsMap['footer-rows'] ? pluginsMap['footer-rows'].Footer : null,\n      ref: bodyRef,\n      renderInPortal: renderInPortal\n    }), _react.default.createElement(_Cover.default, {\n      handle: coverHandle\n    })), computedProps.computedLicenseValid === false && edition === 'enterprise' ? pluginsMap['license'].renderLicenseNotice(computedProps, computedPropsRef) : null, _react.default.createElement(_src.default, {\n      onResize: onResize,\n      notifyOnMount: true\n    }), renderLoadMask(computedProps), typeof pluginsMap['menus'].renderColumnContextMenu === 'function' ? pluginsMap['menus'].renderColumnContextMenu(computedProps, computedPropsRef) : null, typeof pluginsMap['menus'].renderRowContextMenu === 'function' ? pluginsMap['menus'].renderRowContextMenu(computedProps, computedPropsRef) : null, typeof pluginsMap['filters'].renderColumnFilterContextMenu === 'function' ? pluginsMap['filters'].renderColumnFilterContextMenu(computedProps, computedPropsRef) : null, _react.default.createElement(\"div\", {\n      ref: portalRef,\n      className: \"InovuaReactDataGrid__portal-host\"\n    }));\n  });\n\n  var defaultProps = {\n    idProperty: 'id',\n    rowHeight: 40,\n    minRowHeight: 20,\n    nativeScroll: false,\n    autoCheckboxColumn: false,\n    activateRowOnFocus: true,\n    checkboxOnlyRowSelect: false,\n    checkboxSelectEnableShiftKey: false,\n    renderScroller: function renderScroller(domProps) {\n      domProps.tabIndex = 0;\n    },\n    enableKeyboardNavigation: true,\n    scrollTopOnFilter: true,\n    scrollTopOnSort: true,\n    scrollTopOnGroupBy: true,\n    defaultShowHeader: true,\n    defaultShowEmptyRows: false,\n    defaultShowHoverRows: true,\n    defaultShowZebraRows: true,\n    defaultShowCellBorders: true,\n    cellSelectionByIndex: false,\n    columnResizeHandleWidth: _isMobile.default ? 15 : 5,\n    columnResizeProxyWidth: 5,\n    virtualizeColumnsThreshold: 15,\n    shareSpaceOnResize: false,\n    resizable: true,\n    virtualized: true,\n    allowUnsort: true,\n    rtl: false,\n    theme: 'default-light',\n    filterTypes: _filterTypes.default,\n    keyPageStep: 10,\n    expandGroupTitle: true,\n    allowGroupSplitOnReorder: true,\n    defaultCollapsedGroups: {},\n    groupPathSeparator: '/',\n    nodePathSeparator: '/',\n    groupNestingSize: 22,\n    treeNestingSize: 22,\n    columnMinWidth: 40,\n    columnReorderScrollByAmount: 20,\n    rowReorderScrollByAmount: 20,\n    reorderProxySize: 3,\n    columnMaxWidth: null,\n    editStartEvent: 'dblclick',\n    hideGroupByColumns: true,\n    defaultColumnOrder: undefined,\n    columnUserSelect: false,\n    columnHeaderUserSelect: false,\n    stickyGroupRows: false,\n    showWarnings: !_uglified.default,\n    toggleRowSelectOnClick: false,\n    toggleCellSelectOnClick: true,\n    clearNodeCacheOnDataSourceChange: true,\n    clearDataSourceCacheOnChange: true,\n    preventDefaultTextSelectionOnShiftMouseDown: true,\n    preventRowSelectionOnClickWithMouseMove: true,\n    showColumnMenuSortOptions: true,\n    showColumnMenuLockOptions: true,\n    showColumnMenuFilterOptions: true,\n    showColumnMenuGroupOptions: true,\n    autoFocusOnEditComplete: true,\n    showPivotSummaryColumns: true,\n    showColumnMenuToolOnHover: !_isMobile.default,\n    columnFilterContextMenuConstrainTo: true,\n    columnFilterContextMenuPosition: 'absolute',\n    generateIdFromPath: true,\n    collapseChildrenOnAsyncNodeCollapse: true,\n    collapseChildrenRecursive: true,\n    selectNodesRecursive: true,\n    isExpandKeyPressed: function isExpandKeyPressed(_ref6) {\n      var event = _ref6.event;\n      return event.key === 'ArrowRight' && event.altKey;\n    },\n    isCollapseKeyPressed: function isCollapseKeyPressed(_ref7) {\n      var event = _ref7.event;\n      return event.key === 'ArrowLeft' && event.altKey;\n    },\n    isStartEditKeyPressed: function isStartEditKeyPressed(_ref8) {\n      var event = _ref8.event;\n      return event.key === 'e' && event.ctrlKey;\n    },\n    rowExpandHeight: 80,\n    growExpandHeightWithDetails: true,\n    livePaginationLoadNextDelay: true,\n    livePaginationLoadMaskHideDelay: 50,\n    checkResizeDelay: 0,\n    multiRowExpand: true,\n    useNativeFlex: false,\n    updateMenuPositionOnScroll: true,\n    useRowHeightForLockedRows: true,\n    nodesProperty: 'nodes',\n    rowDetailsWidth: 'max-viewport-width',\n    contain: 'style layout',\n    rowContain: 'style layout',\n    groupToString: function groupToString(obj) {\n      var type = (0, _typeof2.default)(obj);\n      return type == 'string' || type === 'number' || type === 'boolean' ? \"\".concat(obj) : JSON.stringify(obj);\n    },\n    scrollProps: {\n      autoHide: true,\n      scrollThumbMargin: 4,\n      scrollThumbWidth: 6,\n      scrollThumbOverWidth: 8\n    },\n    detailsGridCacheKey: true,\n    sortFunctions: {\n      date: function date(v1, v2, column) {\n        if (window.moment && column.dateFormat) {\n          return window.moment(v1, column.dateFormat) - window.moment(v2, column.dateFormat);\n        }\n\n        return v1 - v2;\n      }\n    },\n    i18n: DEFAULT_I18N,\n    emptyText: 'noRecords',\n    isBinaryOperator: function isBinaryOperator(operator) {\n      return operator === 'inrange' || operator === 'notinrange';\n    }\n  };\n  var maybeAddCols = [];\n  plugins.forEach(function (plugin) {\n    if (!plugin.name) {\n      return;\n    }\n\n    if (typeof plugin.defaultProps === 'function') {\n      var result = plugin.defaultProps(Grid.defaultProps);\n\n      if (result != null) {\n        Grid.defaultProps = _objectSpread(_objectSpread({}, Grid.defaultProps), result);\n      }\n    }\n\n    if (typeof plugin.maybeAddColumns === 'function') {\n      maybeAddCols.push(plugin.maybeAddColumns);\n    }\n  });\n\n  if (maybeAddCols.length) {\n    maybeAddColumns = function maybeAddColumns(columns, props) {\n      var result = columns;\n      maybeAddCols.forEach(function (fn) {\n        result = fn(result, props);\n      });\n      return result;\n    };\n  }\n\n  var TheGrid = function TheGrid(props) {\n    var contextValue = (0, _react.useMemo)(function () {\n      return {\n        state: props.initialState || {}\n      };\n    }, []);\n    var Context = (0, _react.useMemo)(function () {\n      return _react.default.createContext(contextValue);\n    }, []);\n    return _react.default.createElement(Context.Provider, {\n      value: contextValue\n    }, _react.default.createElement(Grid, Object.assign({}, props, {\n      context: Context\n    })));\n  };\n\n  TheGrid.defaultProps = defaultProps;\n  return TheGrid;\n};\n\nvar _default = GridFactory;\nexports.default = _default;","map":{"version":3,"sources":["/Users/kathiavargas/node_modules/@inovua/reactdatagrid-community/factory.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","enumerable","get","_filterTypes","default","_typeof2","_objectWithoutProperties2","_defineProperty2","_slicedToArray2","_toConsumableArray2","_react","_reactDom","_src","_uglified","_useProperty13","_getScrollbarWidth","_clamp","_isMobile","_Layout","_LoadMask","_useColumns","_useSize3","_useNamedState5","_useHeader","_useEditable","_useDataSource","_useScrollProps","_useSelection","_useRow2","_RowHeightManager","_ua","_prepareClassName","_context","_Cover","_useActiveIndex","_batchUpdate","_empty","_ActiveRowIndicator","_warn","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","GRID_ID","DEFAULT_I18N","pageText","ofText","perPageText","showingText","clearAll","clear","showFilteringRow","hideFilteringRow","enable","disable","sortAsc","sortDesc","unsort","group","ungroup","lockStart","lockEnd","unlock","columns","contains","startsWith","endsWith","notContains","inlist","notinlist","neq","inrange","notinrange","eq","notEmpty","empty","lt","lte","gt","gte","before","beforeOrOn","afterOrOn","after","start","end","dragHeaderToGroup","noRecords","renderLoadMask","props","loadMaskProps","visible","computedLoading","livePagination","computedLivePagination","loadingText","zIndex","theme","loadMask","undefined","createElement","assign","reducePlugins","acc","plugin","name","hook","GridFactory","_ref","plugins","edition","maybeAddColumns","defaultSize","width","height","emptyCoverHandle","setActive","setCursor","concat","pluginsMap","reduce","Grid","memo","_useState","useState","_useState2","computedFocused","computedSetFocused","computedPropsRef","useRef","warnRef","useMemo","context","useContext","useEffect","activateRowOnFocus","_computedProps","current","count","_activeItem","getActiveItem","index","getFirstVisibleIndex","setActiveIndex","bodyRef","domRef","portalRef","getDOMNode","getBodyDOMNode","_bodyRef$current","getVirtualList","getColumnLayout","columnLayout","_useProperty","_useProperty2","doSetLoading","loadingTimeoutIdRef","setLoading","loading","computedProps","isLoading","Function","clearTimeout","livePaginationLoadMaskHideDelay","setTimeout","_useNamedState","_useNamedState2","columnSizes","setColumnSizes","_useNamedState3","_useNamedState4","columnFlexes","setColumnFlexes","_useState3","_useState4","lockedColumnsState","setLockedColumnsState","_useState5","vertical","horizontal","_useState6","scrollbars","setScrollbars","_useProperty3","_useProperty4","reservedViewportWidth","setReservedViewportWidth","_useSize","_useSize2","size","setSize","_useState7","_useState8","viewportAvailableWidth","setViewportAvailableWidth","onResize","commit","IS_MS_BROWSER","IS_FF","updateViewportAvailableWidth","rowHeight","setMaxVisibleRows","Math","ceil","newViewportAvailableWidth","scrolls","nativeScroll","round","_useState9","virtualListBorderLeft","virtualListBorderRight","virtualListExtraWidth","_useState10","_useState10$","setVirtualListState","onScrollbarsChange","onChange","computedStyle","global","getComputedStyle","parseInt","borderLeftWidth","borderRightWidth","requestAnimationFrame","_useProperty5","_useProperty6","computedShowCellBorders","setShowCellBorders","showHorizontalCellBorders","showVerticalCellBorders","_useState11","_useState12","listenOnCellEnter","updateListenOnCellEnter","_useState13","_useState14","selectionFixedCell","setSelectionFixedCell","setListenOnCellEnter","callback","addEventListener","removeEventListener","renderCallbacks","onNextRender","fn","_useState15","_useState16","lastCellInRange","setLastCellInRange","_useState17","_useState18","lastSelectedCell","setLastSelectedCell","renderInPortal","el","createPortal","cProps","initialProps","availableWidth","maxAvailableWidthForColumns","shareSpaceOnResize","i18n","defaultLabel","tree","filters","columnInfo","wasMountedRef","wasUnmountedRef","dataInfo","rowHeightManager","minRowHeight","cache","i18nFn","useCallback","getItemId","item","__group","Array","isArray","keyPath","join","groupPathSeparator","idProperty","getItemIndexBy","data","findIndex","len","getItemAt","getItemIdAt","isRowExpandedById","isCellVisible","_ref2","rowIndex","columnIndex","column","visibleColumns","columnStart","computedOffset","columnEnd","computedWidth","rowStart","getRowOffset","rowEnd","getRowHeight","virtualList","visibleTop","scrollTop","visibleBottom","visibleLeft","scrollLeft","visibleRight","leftDiff","rightDiff","topDiff","bottomDiff","setScrollTop","incrementScrollTop","increment","getScrollTop","getScrollLeft","getScrollLeftMax","scrollLeftMax","setScrollLeft","incrementScrollLeft","scrollToId","id","config","getRowIndexById","scrollToIndex","top","force","direction","duration","offset","scrollToCell","_ref3","_ref4","left","right","columnDirection","col","scrollToRow","computedLocked","scrollToColumn","smoothScrollTo","_config","getColumnBy","scrollWidth","columnOffset","totalLockedStartWidth","totalLockedEndWidth","toLeft","toRight","newScrollLeft","orientation","scrollToIndexIfNeeded","needed","isRowFullyVisible","list","isRowVisible","getRenderRange","from","to","isRowRendered","_getRenderRange","focus","scrollContainer","blur","gridId","getMenuPortalContainer","naturalRowHeight","groupCounts","getRowId","computedShowHeaderBorderRight","totalComputedWidth","totalColumnCount","allColumns","minRowWidth","columnResizeHandleWidth","rtlOffset","rtl","min","menusRef","updateMenuPositions","menu","updatePosition","onScroll","updateMenuPositionOnScroll","useCellSelection","scrollProps","_useState19","_useState20","maxVisibleRows","_useProperty7","_useProperty8","computedShowZebraRows","setShowZebraRows","_useProperty9","_useProperty10","computedShowHoverRows","setShowHoverRows","_useProperty11","_useProperty12","computedShowEmptyRows","setShowEmptyRows","className","_useRow","onKeyDown","computedOnKeyDown","onFocus","computedOnFocus","useRowProps","lockedEndColumns","lockedStartColumns","communityFeatureWarn","renderRowDetails","expandedRows","defaultExpandedRows","lockedRows","footerRows","computedWillReceiveFocusRef","getState","state","setStateProperty","style","getScrollingElement","scrollingElement","scrollerNode","scroller","onGridScrollIntoView","event","gridNode","eventTarget","setupPassiveScrollListener","node","passive","removePassiveScrollListener","onDidMount","initialScrollLeft","initialScrollTop","skipLoadOnMount","bodyNode","onWillUnmount","handle","onReady","cellNavigationRef","coverHandleRef","rowResizeIndexRef","coverHandle","_ref5","activeItem","computedActiveIndex","activeRowHeight","computedRowHeights","renderActiveRowIndicator","dataSourceCount","computedExpandedRows","computedExpandedNodes","activeIndex","activeRowRef","computedLicenseValid","license","rowIndexColumn","onRowReorder","rowReorderColumn","renderLockedStartCells","renderLockedEndCells","set","newValue","configurable","onBlur","ref","Provider","renderRowResizeIndicator","Footer","renderLicenseNotice","notifyOnMount","renderColumnContextMenu","renderRowContextMenu","renderColumnFilterContextMenu","defaultProps","autoCheckboxColumn","checkboxOnlyRowSelect","checkboxSelectEnableShiftKey","renderScroller","domProps","tabIndex","enableKeyboardNavigation","scrollTopOnFilter","scrollTopOnSort","scrollTopOnGroupBy","defaultShowHeader","defaultShowEmptyRows","defaultShowHoverRows","defaultShowZebraRows","defaultShowCellBorders","cellSelectionByIndex","columnResizeProxyWidth","virtualizeColumnsThreshold","resizable","virtualized","allowUnsort","filterTypes","keyPageStep","expandGroupTitle","allowGroupSplitOnReorder","defaultCollapsedGroups","nodePathSeparator","groupNestingSize","treeNestingSize","columnMinWidth","columnReorderScrollByAmount","rowReorderScrollByAmount","reorderProxySize","columnMaxWidth","editStartEvent","hideGroupByColumns","defaultColumnOrder","columnUserSelect","columnHeaderUserSelect","stickyGroupRows","showWarnings","toggleRowSelectOnClick","toggleCellSelectOnClick","clearNodeCacheOnDataSourceChange","clearDataSourceCacheOnChange","preventDefaultTextSelectionOnShiftMouseDown","preventRowSelectionOnClickWithMouseMove","showColumnMenuSortOptions","showColumnMenuLockOptions","showColumnMenuFilterOptions","showColumnMenuGroupOptions","autoFocusOnEditComplete","showPivotSummaryColumns","showColumnMenuToolOnHover","columnFilterContextMenuConstrainTo","columnFilterContextMenuPosition","generateIdFromPath","collapseChildrenOnAsyncNodeCollapse","collapseChildrenRecursive","selectNodesRecursive","isExpandKeyPressed","_ref6","altKey","isCollapseKeyPressed","_ref7","isStartEditKeyPressed","_ref8","ctrlKey","rowExpandHeight","growExpandHeightWithDetails","livePaginationLoadNextDelay","checkResizeDelay","multiRowExpand","useNativeFlex","useRowHeightForLockedRows","nodesProperty","rowDetailsWidth","contain","rowContain","groupToString","obj","type","JSON","stringify","autoHide","scrollThumbMargin","scrollThumbWidth","scrollThumbOverWidth","detailsGridCacheKey","sortFunctions","date","v1","v2","window","moment","dateFormat","emptyText","isBinaryOperator","operator","maybeAddCols","result","TheGrid","contextValue","initialState","Context","createContext","_default"],"mappings":"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","sourcesContent":["/** \n * Copyright (c) INOVUA SOFTWARE TECHNOLOGIES.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"filterTypes\", {\n  enumerable: true,\n  get: function get() {\n    return _filterTypes.default;\n  }\n});\nexports.default = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _src = _interopRequireDefault(require(\"./packages/react-notify-resize/src\"));\n\nvar _uglified = _interopRequireDefault(require(\"./packages/uglified\"));\n\nvar _useProperty13 = _interopRequireDefault(require(\"./hooks/useProperty\"));\n\nvar _getScrollbarWidth = _interopRequireDefault(require(\"./packages/getScrollbarWidth\"));\n\nvar _clamp = _interopRequireDefault(require(\"./utils/clamp\"));\n\nvar _isMobile = _interopRequireDefault(require(\"./packages/isMobile\"));\n\nvar _Layout = _interopRequireDefault(require(\"./Layout\"));\n\nvar _LoadMask = _interopRequireDefault(require(\"./LoadMask\"));\n\nvar _filterTypes = _interopRequireDefault(require(\"./filterTypes\"));\n\nvar _useColumns = _interopRequireDefault(require(\"./hooks/useColumns\"));\n\nvar _useSize3 = _interopRequireDefault(require(\"./hooks/useSize\"));\n\nvar _useNamedState5 = _interopRequireDefault(require(\"./hooks/useNamedState\"));\n\nvar _useHeader = _interopRequireDefault(require(\"./hooks/useHeader\"));\n\nvar _useEditable = _interopRequireDefault(require(\"./hooks/useEditable\"));\n\nvar _useDataSource = _interopRequireDefault(require(\"./hooks/useDataSource\"));\n\nvar _useScrollProps = _interopRequireDefault(require(\"./hooks/useScrollProps\"));\n\nvar _useSelection = _interopRequireDefault(require(\"./hooks/useSelection\"));\n\nvar _useRow2 = _interopRequireDefault(require(\"./hooks/useRow\"));\n\nvar _RowHeightManager = _interopRequireDefault(require(\"./packages/react-virtual-list-pro/src/RowHeightManager\"));\n\nvar _ua = require(\"./common/ua\");\n\nvar _prepareClassName = _interopRequireDefault(require(\"./utils/prepareClassName\"));\n\nvar _context = require(\"./context\");\n\nvar _Cover = _interopRequireDefault(require(\"./Cover\"));\n\nvar _useActiveIndex = _interopRequireDefault(require(\"./hooks/useActiveIndex\"));\n\nvar _batchUpdate = _interopRequireDefault(require(\"./utils/batchUpdate\"));\n\nvar _empty = _interopRequireDefault(require(\"./plugins/empty\"));\n\nvar _ActiveRowIndicator = _interopRequireDefault(require(\"./ActiveRowIndicator\"));\n\nvar _warn = require(\"./warn\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar GRID_ID = 0;\nvar DEFAULT_I18N = {\n  pageText: 'Page ',\n  ofText: ' of ',\n  perPageText: 'Results per page',\n  showingText: 'Showing ',\n  clearAll: 'Clear all',\n  clear: 'Clear',\n  showFilteringRow: 'Show filtering row',\n  hideFilteringRow: 'Hide filtering row',\n  enable: 'Enable',\n  disable: 'Disable',\n  sortAsc: 'Sort ascending',\n  sortDesc: 'Sort descending',\n  unsort: 'Unsort',\n  group: 'Group',\n  ungroup: 'Ungroup',\n  lockStart: 'Lock start',\n  lockEnd: 'Lock end',\n  unlock: 'Unlock',\n  columns: 'Columns',\n  contains: 'Contains',\n  startsWith: 'Starts with',\n  endsWith: 'Ends with',\n  notContains: 'Does not contain',\n  inlist: 'In list',\n  notinlist: 'Not in list',\n  neq: 'Does not equal',\n  inrange: 'In range',\n  notinrange: 'Not in range',\n  eq: 'Equals',\n  notEmpty: 'Not empty',\n  empty: 'Empty',\n  lt: 'Less than',\n  lte: 'Less than or equal',\n  gt: 'Greater than',\n  gte: 'Greater than or equal',\n  before: 'Before',\n  beforeOrOn: 'Before or on',\n  afterOrOn: 'After or on',\n  after: 'After',\n  start: 'Start',\n  end: 'End',\n  dragHeaderToGroup: 'Drag header to group',\n  noRecords: 'No records available'\n};\n\nvar renderLoadMask = function renderLoadMask(props) {\n  var loadMaskProps = {\n    visible: props.computedLoading,\n    livePagination: props.computedLivePagination,\n    loadingText: props.loadingText || 'Loading',\n    zIndex: 10000,\n    theme: props.theme\n  };\n  var loadMask;\n\n  if (props.renderLoadMask) {\n    loadMask = props.renderLoadMask(loadMaskProps);\n  }\n\n  if (loadMask !== undefined) {\n    return loadMask;\n  }\n\n  return _react.default.createElement(_LoadMask.default, Object.assign({}, loadMaskProps));\n};\n\nvar reducePlugins = function reducePlugins(acc, plugin) {\n  if (!plugin.name || typeof plugin.hook !== 'function') {\n    return acc;\n  }\n\n  acc[plugin.name] = plugin;\n  return acc;\n};\n\nvar GridFactory = function GridFactory() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      plugins = _ref.plugins;\n\n  var edition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'community';\n  plugins = plugins || [];\n  var maybeAddColumns;\n  var defaultSize = {\n    width: 0,\n    height: 0\n  };\n  var emptyCoverHandle = {\n    setActive: function setActive() {},\n    setCursor: function setCursor() {}\n  };\n  plugins = [].concat((0, _toConsumableArray2.default)(_empty.default), (0, _toConsumableArray2.default)(plugins));\n  var pluginsMap = plugins.reduce(reducePlugins, {});\n\n  var Grid = _react.default.memo(function (props) {\n    var _useState = (0, _react.useState)(false),\n        _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n        computedFocused = _useState2[0],\n        computedSetFocused = _useState2[1];\n\n    var computedPropsRef = (0, _react.useRef)(null);\n    var warnRef = (0, _react.useMemo)(function () {\n      return {};\n    }, []);\n    var context = (0, _react.useContext)(props.context);\n    (0, _react.useEffect)(function () {\n      if (computedFocused && props.activateRowOnFocus) {\n        var _computedProps = computedPropsRef.current;\n\n        if (!_computedProps) {\n          return;\n        }\n\n        var count = _computedProps.count;\n\n        if (!count) {\n          return;\n        }\n\n        var _activeItem = _computedProps.getActiveItem();\n\n        if (!_activeItem) {\n          var index = _computedProps.getFirstVisibleIndex();\n\n          _computedProps.setActiveIndex(index);\n        }\n      }\n    }, [computedFocused]);\n    var bodyRef = (0, _react.useRef)(null);\n    var domRef = (0, _react.useRef)(null);\n    var portalRef = (0, _react.useRef)(null);\n\n    var getDOMNode = function getDOMNode() {\n      return domRef.current;\n    };\n\n    var getBodyDOMNode = function getBodyDOMNode() {\n      var _bodyRef$current;\n\n      return bodyRef === null || bodyRef === void 0 ? void 0 : (_bodyRef$current = bodyRef.current) === null || _bodyRef$current === void 0 ? void 0 : _bodyRef$current.getDOMNode();\n    };\n\n    var getVirtualList = function getVirtualList() {\n      return bodyRef.current != null ? bodyRef.current.getVirtualList() : null;\n    };\n\n    var getColumnLayout = function getColumnLayout() {\n      return bodyRef.current != null ? bodyRef.current.columnLayout : null;\n    };\n\n    var _useProperty = (0, _useProperty13.default)(props, 'loading'),\n        _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n        computedLoading = _useProperty2[0],\n        doSetLoading = _useProperty2[1];\n\n    var loadingTimeoutIdRef = (0, _react.useRef)();\n\n    var setLoading = function setLoading(loading) {\n      var computedProps = computedPropsRef.current;\n      var isLoading = loading instanceof Function ? loading(computedProps ? computedProps.computedLoading : false) : loading;\n\n      if (!computedProps) {\n        doSetLoading(isLoading);\n        return;\n      }\n\n      if (loadingTimeoutIdRef.current) {\n        clearTimeout(loadingTimeoutIdRef.current);\n      }\n\n      if (computedProps.computedLivePagination && !isLoading && computedProps.livePaginationLoadMaskHideDelay) {\n        loadingTimeoutIdRef.current = setTimeout(function () {\n          doSetLoading(isLoading);\n          loadingTimeoutIdRef.current = null;\n        }, computedProps.livePaginationLoadMaskHideDelay);\n      } else {\n        doSetLoading(isLoading);\n      }\n    };\n\n    var _useNamedState = (0, _useNamedState5.default)({}, props.context, 'columnSizes'),\n        _useNamedState2 = (0, _slicedToArray2.default)(_useNamedState, 2),\n        columnSizes = _useNamedState2[0],\n        setColumnSizes = _useNamedState2[1];\n\n    var _useNamedState3 = (0, _useNamedState5.default)({}, props.context, 'columnFlexes'),\n        _useNamedState4 = (0, _slicedToArray2.default)(_useNamedState3, 2),\n        columnFlexes = _useNamedState4[0],\n        setColumnFlexes = _useNamedState4[1];\n\n    var _useState3 = (0, _react.useState)({}),\n        _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n        lockedColumnsState = _useState4[0],\n        setLockedColumnsState = _useState4[1];\n\n    var _useState5 = (0, _react.useState)({\n      vertical: false,\n      horizontal: false\n    }),\n        _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n        scrollbars = _useState6[0],\n        setScrollbars = _useState6[1];\n\n    var _useProperty3 = (0, _useProperty13.default)(props, 'reservedViewportWidth', 0),\n        _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n        reservedViewportWidth = _useProperty4[0],\n        setReservedViewportWidth = _useProperty4[1];\n\n    var _useSize = (0, _useSize3.default)(defaultSize),\n        _useSize2 = (0, _slicedToArray2.default)(_useSize, 2),\n        size = _useSize2[0],\n        setSize = _useSize2[1];\n\n    var _useState7 = (0, _react.useState)(0),\n        _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n        viewportAvailableWidth = _useState8[0],\n        setViewportAvailableWidth = _useState8[1];\n\n    var onResize = function onResize(size) {\n      (0, _batchUpdate.default)().commit(function () {\n        if (_ua.IS_MS_BROWSER || _ua.IS_FF) {\n          size.width -= 2;\n        }\n\n        setSize(size);\n        updateViewportAvailableWidth(size.width);\n\n        if (props.rowHeight) {\n          setMaxVisibleRows(Math.ceil(size.height / props.rowHeight));\n        }\n      });\n    };\n\n    var updateViewportAvailableWidth = function updateViewportAvailableWidth(newViewportAvailableWidth) {\n      var scrolls = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : scrollbars;\n\n      if (props.nativeScroll && scrolls.vertical) {\n        newViewportAvailableWidth -= (0, _getScrollbarWidth.default)();\n      }\n\n      setViewportAvailableWidth(Math.round(newViewportAvailableWidth));\n    };\n\n    var _useState9 = (0, _react.useState)({\n      virtualListBorderLeft: 0,\n      virtualListBorderRight: 0,\n      virtualListExtraWidth: 0\n    }),\n        _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n        _useState10$ = _useState10[0],\n        virtualListBorderLeft = _useState10$.virtualListBorderLeft,\n        virtualListBorderRight = _useState10$.virtualListBorderRight,\n        virtualListExtraWidth = _useState10$.virtualListExtraWidth,\n        setVirtualListState = _useState10[1];\n\n    var onScrollbarsChange = function onScrollbarsChange(scrollbars) {\n      var onChange = function onChange() {\n        var computedStyle = global.getComputedStyle(getVirtualList().getDOMNode());\n        var virtualListBorderLeft = parseInt(computedStyle.borderLeftWidth, 10);\n        var virtualListBorderRight = parseInt(computedStyle.borderRightWidth, 10);\n        var virtualListExtraWidth = virtualListBorderLeft + virtualListBorderRight;\n        (0, _batchUpdate.default)().commit(function () {\n          setScrollbars(scrollbars);\n\n          if (size.width) {\n            updateViewportAvailableWidth(size.width, scrollbars);\n          }\n\n          setVirtualListState({\n            virtualListBorderLeft: virtualListBorderLeft,\n            virtualListBorderRight: virtualListBorderRight,\n            virtualListExtraWidth: virtualListExtraWidth\n          });\n        });\n      };\n\n      if (!bodyRef.current) {\n        requestAnimationFrame(onChange);\n      } else {\n        onChange();\n      }\n    };\n\n    var _useProperty5 = (0, _useProperty13.default)(props, 'showCellBorders'),\n        _useProperty6 = (0, _slicedToArray2.default)(_useProperty5, 2),\n        computedShowCellBorders = _useProperty6[0],\n        setShowCellBorders = _useProperty6[1];\n\n    var showHorizontalCellBorders = computedShowCellBorders === true || computedShowCellBorders === 'horizontal';\n    var showVerticalCellBorders = computedShowCellBorders === true || computedShowCellBorders === 'vertical';\n\n    var _useState11 = (0, _react.useState)(false),\n        _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n        listenOnCellEnter = _useState12[0],\n        updateListenOnCellEnter = _useState12[1];\n\n    var _useState13 = (0, _react.useState)(null),\n        _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n        selectionFixedCell = _useState14[0],\n        setSelectionFixedCell = _useState14[1];\n\n    var setListenOnCellEnter = function setListenOnCellEnter(value, callback) {\n      if (value) {\n        global.addEventListener('mouseup', callback);\n      } else {\n        global.removeEventListener('mouseup', callback);\n      }\n\n      updateListenOnCellEnter(value);\n    };\n\n    var renderCallbacks = (0, _react.useRef)([]);\n\n    var onNextRender = function onNextRender(fn) {\n      renderCallbacks.current.push(fn);\n    };\n\n    (0, _react.useEffect)(function () {\n      renderCallbacks.current.forEach(function (fn) {\n        return fn();\n      });\n      renderCallbacks.current.length = 0;\n    });\n\n    var _useState15 = (0, _react.useState)(''),\n        _useState16 = (0, _slicedToArray2.default)(_useState15, 2),\n        lastCellInRange = _useState16[0],\n        setLastCellInRange = _useState16[1];\n\n    var _useState17 = (0, _react.useState)(null),\n        _useState18 = (0, _slicedToArray2.default)(_useState17, 2),\n        lastSelectedCell = _useState18[0],\n        setLastSelectedCell = _useState18[1];\n\n    var renderInPortal = (0, _react.useMemo)(function () {\n      return props.renderInPortal || function (el) {\n        return portalRef.current ? (0, _reactDom.createPortal)(el, portalRef.current) : null;\n      };\n    }, [props.renderInPortal]);\n\n    var cProps = _objectSpread(_objectSpread({}, props), {}, {\n      initialProps: props,\n      selectionFixedCell: selectionFixedCell,\n      setSelectionFixedCell: setSelectionFixedCell,\n      bodyRef: bodyRef,\n      domRef: domRef,\n      portalRef: portalRef,\n      renderInPortal: renderInPortal,\n      listenOnCellEnter: listenOnCellEnter,\n      setListenOnCellEnter: setListenOnCellEnter,\n      lastCellInRange: lastCellInRange,\n      setLastCellInRange: setLastCellInRange,\n      setLastSelectedCell: setLastSelectedCell,\n      lastSelectedCell: lastSelectedCell,\n      onScrollbarsChange: onScrollbarsChange,\n      virtualListBorderLeft: virtualListBorderLeft,\n      virtualListBorderRight: virtualListBorderRight,\n      virtualListExtraWidth: virtualListExtraWidth,\n      scrollbars: scrollbars,\n      reservedViewportWidth: reservedViewportWidth,\n      setReservedViewportWidth: setReservedViewportWidth,\n      getColumnLayout: getColumnLayout,\n      getDOMNode: getDOMNode,\n      computedLoading: computedLoading,\n      computedFocused: computedFocused,\n      computedSetFocused: computedSetFocused,\n      columnFlexes: columnFlexes,\n      columnSizes: columnSizes,\n      setColumnFlexes: setColumnFlexes,\n      setColumnSizes: setColumnSizes,\n      lockedColumnsState: lockedColumnsState,\n      setLockedColumnsState: setLockedColumnsState,\n      setLoading: setLoading,\n      isLoading: function isLoading() {\n        return computedProps.computedLoading;\n      },\n      size: size,\n      setSize: setSize,\n      viewportAvailableWidth: viewportAvailableWidth,\n      availableWidth: viewportAvailableWidth,\n      maxAvailableWidthForColumns: viewportAvailableWidth - reservedViewportWidth,\n      showHorizontalCellBorders: showHorizontalCellBorders,\n      showVerticalCellBorders: showVerticalCellBorders,\n      shareSpaceOnResize: props.shareSpaceOnResize || false,\n      onNextRender: onNextRender\n    });\n\n    cProps.i18n = function (key, defaultLabel) {\n      return props.i18n[key] || DEFAULT_I18N[key] || defaultLabel;\n    };\n\n    Object.assign(cProps, pluginsMap['sortable-columns'].hook(props, cProps, computedPropsRef));\n\n    if (pluginsMap['group-and-pivot'] && pluginsMap['group-and-pivot'].hook) {\n      Object.assign(cProps, pluginsMap['group-and-pivot'].hook(props, cProps, computedPropsRef));\n    }\n\n    if (pluginsMap.tree && pluginsMap.tree.hook) {\n      Object.assign(cProps, pluginsMap.tree.hook(props, cProps, computedPropsRef));\n    }\n\n    if (pluginsMap.filters && pluginsMap.filters.hook) {\n      Object.assign(cProps, pluginsMap.filters.hook(props, cProps, computedPropsRef));\n    }\n\n    Object.assign(cProps, (0, _useEditable.default)(props, cProps, computedPropsRef));\n    cProps.maybeAddColumns = maybeAddColumns;\n    var columnInfo = (0, _useColumns.default)(props, cProps, computedPropsRef);\n    Object.assign(cProps, columnInfo);\n    cProps.wasMountedRef = (0, _react.useRef)(false);\n    cProps.wasUnmountedRef = (0, _react.useRef)(false);\n    var dataInfo = (0, _useDataSource.default)(props, cProps, computedPropsRef);\n    Object.assign(cProps, pluginsMap['live-pagination'].hook(props, cProps, computedPropsRef));\n    var rowHeightManager = (0, _react.useMemo)(function () {\n      return new _RowHeightManager.default(props.rowHeight || props.minRowHeight, {}, {\n        cache: !!props.rowHeight\n      });\n    }, []);\n    var i18nFn = (0, _react.useCallback)(function (key, defaultLabel) {\n      if (!props.i18n) {\n        return defaultLabel;\n      }\n\n      return props.i18n[key] || DEFAULT_I18N[key] || defaultLabel;\n    }, [props.i18n]);\n    var getItemId = (0, _react.useCallback)(function (item) {\n      if (item.__group && Array.isArray(item.keyPath)) {\n        return item.keyPath.join(props.groupPathSeparator);\n      }\n\n      return item[props.idProperty];\n    }, []);\n\n    var getItemIndexBy = function getItemIndexBy(fn) {\n      var data = computedProps.data;\n\n      if (!data || typeof fn != 'function') {\n        return -1;\n      }\n\n      if (data.findIndex) {\n        return data.findIndex(fn);\n      }\n\n      for (var i = 0, len = data.length; i < len; i++) {\n        if (fn(data[i]) === true) {\n          return i;\n        }\n      }\n\n      return -1;\n    };\n\n    var getItemAt = function getItemAt(index) {\n      return computedPropsRef.current ? computedPropsRef.current.data[index] : undefined;\n    };\n\n    var getItemIdAt = function getItemIdAt(index) {\n      return getItemId(getItemAt(index));\n    };\n\n    var isRowExpandedById = function isRowExpandedById() {\n      return false;\n    };\n\n    var isCellVisible = function isCellVisible(_ref2) {\n      var rowIndex = _ref2.rowIndex,\n          columnIndex = _ref2.columnIndex;\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return false;\n      }\n\n      var column = computedProps.visibleColumns[columnIndex];\n\n      if (!computedProps.rowHeightManager) {\n        throw 'You need fixed row height for this method to work';\n      }\n\n      var columnStart = column.computedOffset;\n      var columnEnd = columnStart + column.computedWidth;\n      var rowStart = computedProps.rowHeightManager.getRowOffset(rowIndex);\n      var rowEnd = rowStart + computedProps.rowHeightManager.getRowHeight(rowIndex);\n      var virtualList = getVirtualList();\n      var visibleTop = virtualList.scrollTop;\n      var visibleBottom = visibleTop + computedProps.size.height;\n      var visibleLeft = virtualList.scrollLeft;\n      var visibleRight = visibleLeft + computedProps.size.width;\n      var leftDiff = columnStart - visibleLeft;\n      var rightDiff = visibleRight - columnEnd;\n      var topDiff = rowStart - visibleTop;\n      var bottomDiff = visibleBottom - rowEnd;\n\n      if (topDiff >= 0 && bottomDiff >= 0 && leftDiff >= 0 && rightDiff >= 0) {\n        return true;\n      }\n\n      return {\n        topDiff: topDiff,\n        bottomDiff: bottomDiff,\n        leftDiff: leftDiff,\n        rightDiff: rightDiff\n      };\n    };\n\n    var setScrollTop = function setScrollTop(scrollTop) {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        virtualList.scrollTop = scrollTop;\n      }\n    };\n\n    var incrementScrollTop = function incrementScrollTop(increment) {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        virtualList.scrollTop += increment;\n      }\n    };\n\n    var getScrollTop = function getScrollTop() {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        return virtualList.scrollTop || 0;\n      }\n\n      return 0;\n    };\n\n    var getScrollLeft = function getScrollLeft() {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        return virtualList.scrollLeft || 0;\n      }\n\n      return 0;\n    };\n\n    var getScrollLeftMax = function getScrollLeftMax() {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        return virtualList.scrollLeftMax || 0;\n      }\n\n      return 0;\n    };\n\n    var setScrollLeft = function setScrollLeft(scrollLeft) {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        virtualList.scrollLeft = scrollLeft;\n      }\n    };\n\n    var incrementScrollLeft = function incrementScrollLeft(increment) {\n      var virtualList = getVirtualList();\n\n      if (virtualList) {\n        virtualList.scrollLeft += increment;\n      }\n    };\n\n    var scrollToId = function scrollToId(id, config, callback) {\n      var index = computedProps.getRowIndexById(id);\n      scrollToIndex(index, config, callback);\n    };\n\n    var scrollToIndex = function scrollToIndex(index, config, callback) {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      index = (0, _clamp.default)(index, 0, computedProps.data.length - 1);\n      config = config || {};\n      var top = config.top;\n      var force = config.force;\n      var direction = config.direction;\n      var duration = config.duration;\n      var offset = config.offset;\n      top = !!top;\n      force = !!force;\n      direction = direction || (top ? 'top' : 'bottom');\n      getVirtualList().scrollToIndex(index, {\n        direction: direction,\n        force: force,\n        duration: duration,\n        offset: offset\n      }, callback);\n    };\n\n    var scrollToCell = function scrollToCell(_ref3) {\n      var rowIndex = _ref3.rowIndex,\n          columnIndex = _ref3.columnIndex;\n\n      var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          offset = _ref4.offset,\n          left = _ref4.left,\n          right = _ref4.right,\n          top = _ref4.top;\n\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      if (offset === undefined) {\n        offset = (computedProps.rowHeight || 50) / 2;\n      }\n\n      var columnDirection = left === true ? 'left' : left === false || right === true ? 'right' : undefined;\n      var col = computedProps.visibleColumns[columnIndex];\n\n      var scrollToRow = function scrollToRow() {\n        computedProps.scrollToIndex((0, _clamp.default)(rowIndex + (top ? -0 : 0), 0, computedProps.count - 1), {\n          top: top,\n          offset: 0\n        });\n      };\n\n      if (!col) {\n        return;\n      }\n\n      if (col.computedLocked) {\n        scrollToRow();\n        return;\n      }\n\n      computedProps.scrollToColumn(columnIndex, {\n        offset: offset,\n        direction: columnDirection\n      }, function () {\n        scrollToRow();\n      });\n    };\n\n    var smoothScrollTo = (0, _react.useCallback)(function (value, config) {\n      var virtualList = getVirtualList();\n      virtualList.smoothScrollTo(value, config);\n    }, []);\n    var scrollToColumn = (0, _react.useCallback)(function (index, config, callback) {\n      var computedProps = computedPropsRef.current;\n\n      if (!computedProps) {\n        return;\n      }\n\n      if (!computedProps.size.width) {\n        return requestAnimationFrame(function () {\n          scrollToColumn(index, config, callback);\n        });\n      }\n\n      config = config || {};\n      var _config = config,\n          direction = _config.direction,\n          force = _config.force,\n          duration = _config.duration,\n          offset = _config.offset;\n\n      if (offset === undefined) {\n        offset = (computedProps.rowHeight || 50) / 2;\n      }\n\n      var col = computedProps.getColumnBy(index);\n\n      if (col.computedLocked) {\n        if (callback) {\n          callback();\n        }\n\n        return;\n      }\n\n      var virtualList = getVirtualList();\n      var scrollLeft = virtualList.scrollLeft;\n      var scrollWidth = computedProps.size.width;\n\n      if (direction) {\n        if (direction != 'left' && direction != 'right') {\n          direction = null;\n        }\n      }\n\n      if (force && !direction) {\n        force = false;\n      }\n\n      if (typeof callback != 'function') {\n        callback = function callback() {};\n      }\n\n      var columnOffset = direction === 'left' || !direction ? col.computedOffset : col.computedOffset + col.computedWidth;\n      var leftDiff = columnOffset - scrollLeft - (computedProps.totalLockedStartWidth || 0);\n      var rightDiff = scrollLeft + scrollWidth - columnOffset - (computedProps.totalLockedEndWidth || 0);\n      var toLeft = leftDiff < 0;\n      var toRight = rightDiff < 0;\n      var visible = !toLeft && !toRight;\n\n      if (!visible) {\n        if (!direction) {\n          direction = leftDiff < 0 ? 'left' : 'right';\n          force = true;\n        }\n      }\n\n      if (!visible || direction && force) {\n        var newScrollLeft;\n\n        if (direction == 'left' || leftDiff < 0) {\n          newScrollLeft = scrollLeft + leftDiff - offset;\n        } else if (direction == 'right' || rightDiff < 0) {\n          newScrollLeft = scrollLeft - rightDiff + offset;\n        }\n\n        if (newScrollLeft != null) {\n          if (duration) {\n            virtualList.smoothScrollTo(newScrollLeft, {\n              duration: duration,\n              orientation: 'horizontal'\n            }, callback);\n            return;\n          }\n\n          virtualList.scrollLeft = newScrollLeft;\n        }\n      }\n\n      callback();\n    }, []);\n\n    var scrollToIndexIfNeeded = function scrollToIndexIfNeeded(index, config, callback) {\n      var needed = !isRowFullyVisible(index);\n\n      if (needed) {\n        scrollToIndex(index, config, callback);\n      }\n\n      return needed;\n    };\n\n    var isRowFullyVisible = function isRowFullyVisible(rowIndex) {\n      var list = getVirtualList();\n\n      if (!list) {\n        return false;\n      }\n\n      return list.isRowVisible(rowIndex);\n    };\n\n    var getRenderRange = function getRenderRange() {\n      return bodyRef.current != null ? bodyRef.current.getRenderRange() : {\n        from: 0,\n        to: 0\n      };\n    };\n\n    var isRowRendered = function isRowRendered(index) {\n      var _getRenderRange = getRenderRange(),\n          from = _getRenderRange.from,\n          to = _getRenderRange.to;\n\n      return index >= from && index < to;\n    };\n\n    var focus = function focus() {\n      var virtualList = getVirtualList();\n\n      if (!virtualList) {\n        return;\n      }\n\n      var scrollContainer = virtualList.scrollContainer;\n\n      if (!scrollContainer) {\n        return;\n      }\n\n      scrollContainer.focus();\n    };\n\n    var blur = function blur() {\n      var virtualList = getVirtualList();\n\n      if (!virtualList) {\n        return;\n      }\n\n      var scrollContainer = virtualList.scrollContainer;\n\n      if (!scrollContainer) {\n        return;\n      }\n\n      scrollContainer.blur();\n    };\n\n    var computedProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, cProps), {}, {\n      gridId: (0, _react.useMemo)(function () {\n        return ++GRID_ID;\n      }, []),\n      isRowFullyVisible: isRowFullyVisible,\n      bodyRef: bodyRef,\n      getMenuPortalContainer: getDOMNode,\n      scrollToIndexIfNeeded: scrollToIndexIfNeeded,\n      scrollToIndex: scrollToIndex,\n      scrollToId: scrollToId,\n      scrollToColumn: scrollToColumn,\n      scrollToCell: scrollToCell,\n      setScrollTop: setScrollTop,\n      setScrollLeft: setScrollLeft,\n      smoothScrollTo: smoothScrollTo,\n      incrementScrollLeft: incrementScrollLeft,\n      incrementScrollTop: incrementScrollTop,\n      getScrollTop: getScrollTop,\n      getScrollLeft: getScrollLeft,\n      getScrollLeftMax: getScrollLeftMax,\n      isCellVisible: isCellVisible,\n      naturalRowHeight: props.rowHeight == null,\n      isRowRendered: isRowRendered,\n      getRenderRange: getRenderRange,\n      computedShowCellBorders: computedShowCellBorders,\n      setShowCellBorders: setShowCellBorders,\n      groupCounts: [],\n      computedLoading: computedLoading,\n      setLoading: setLoading\n    }, dataInfo), columnInfo), {}, {\n      rowHeightManager: rowHeightManager,\n      isRowExpandedById: isRowExpandedById,\n      getItemId: getItemId,\n      getRowId: getItemIdAt,\n      getItemIndexBy: getItemIndexBy,\n      getItemAt: getItemAt,\n      getItemIdAt: getItemIdAt,\n      focus: focus,\n      blur: blur,\n      computedShowHeaderBorderRight: columnInfo.totalComputedWidth < viewportAvailableWidth || props.nativeScroll && (0, _getScrollbarWidth.default)() && scrollbars.vertical,\n      i18n: i18nFn,\n      totalColumnCount: columnInfo.allColumns.length,\n      totalComputedWidth: columnInfo.totalComputedWidth,\n      minRowWidth: columnInfo.totalComputedWidth,\n      columnResizeHandleWidth: (0, _clamp.default)(props.columnResizeHandleWidth, 2, 25)\n    });\n\n    computedProps.rtlOffset = props.rtl ? Math.min(computedProps.size.width - computedProps.totalComputedWidth, 0) : 0;\n    computedPropsRef.current = computedProps;\n    var menusRef = (0, _react.useRef)([]);\n    computedProps.menusRef = menusRef;\n\n    computedProps.updateMenuPositions = function () {\n      menusRef.current.forEach(function (menu) {\n        if (menu && menu.updatePosition) {\n          menu.updatePosition();\n        }\n      });\n    };\n\n    computedProps.onScroll = function () {\n      if (computedProps.initialProps.onScroll) {\n        computedProps.initialProps.onScroll();\n      }\n\n      if (computedProps.updateMenuPositionOnScroll) {\n        computedProps.updateMenuPositions();\n      }\n    };\n\n    if (pluginsMap['row-details'] && pluginsMap['row-details'].hook) {\n      Object.assign(computedProps, pluginsMap['row-details'].hook(props, computedProps, computedPropsRef));\n    }\n\n    computedProps.useCellSelection = pluginsMap['cell-selection'].hook;\n    Object.assign(computedProps, (0, _useSelection.default)(props, computedProps, computedPropsRef));\n    Object.assign(computedProps, (0, _useActiveIndex.default)(props, computedProps, computedPropsRef));\n    Object.assign(computedProps, (0, _useHeader.default)(props, computedProps));\n    computedProps.scrollProps = (0, _useScrollProps.default)(props, computedProps);\n\n    var _useState19 = (0, _react.useState)(0),\n        _useState20 = (0, _slicedToArray2.default)(_useState19, 2),\n        maxVisibleRows = _useState20[0],\n        setMaxVisibleRows = _useState20[1];\n\n    var _useProperty7 = (0, _useProperty13.default)(props, 'showZebraRows'),\n        _useProperty8 = (0, _slicedToArray2.default)(_useProperty7, 2),\n        computedShowZebraRows = _useProperty8[0],\n        setShowZebraRows = _useProperty8[1];\n\n    var _useProperty9 = (0, _useProperty13.default)(props, 'showHoverRows'),\n        _useProperty10 = (0, _slicedToArray2.default)(_useProperty9, 2),\n        computedShowHoverRows = _useProperty10[0],\n        setShowHoverRows = _useProperty10[1];\n\n    var _useProperty11 = (0, _useProperty13.default)(props, 'showEmptyRows'),\n        _useProperty12 = (0, _slicedToArray2.default)(_useProperty11, 2),\n        computedShowEmptyRows = _useProperty12[0],\n        setShowEmptyRows = _useProperty12[1];\n\n    computedProps.getVirtualList = getVirtualList;\n    computedProps.computedShowZebraRows = computedShowZebraRows;\n    computedProps.computedShowHoverRows = computedShowHoverRows;\n    computedProps.computedShowEmptyRows = computedShowEmptyRows;\n    computedProps.setShowZebraRows = setShowZebraRows;\n    computedProps.setShowHoverRows = setShowHoverRows;\n    computedProps.setShowEmptyRows = setShowEmptyRows;\n    computedProps.maxVisibleRows = maxVisibleRows;\n    var className = (0, _prepareClassName.default)(computedProps);\n\n    var _useRow = (0, _useRow2.default)(props, computedProps, computedPropsRef),\n        onKeyDown = _useRow.computedOnKeyDown,\n        onFocus = _useRow.computedOnFocus,\n        useRowProps = (0, _objectWithoutProperties2.default)(_useRow, [\"computedOnKeyDown\", \"computedOnFocus\"]);\n\n    if (pluginsMap['locked-rows'] && pluginsMap['locked-rows'].hook) {\n      Object.assign(computedProps, pluginsMap['locked-rows'].hook(props, computedProps, computedPropsRef));\n    }\n\n    if (pluginsMap['locked-columns'] && pluginsMap['locked-columns'].hook) {\n      Object.assign(computedProps, pluginsMap['locked-columns'].hook(props, computedProps, computedPropsRef));\n    } else if (computedProps.lockedEndColumns && computedProps.lockedEndColumns.length || computedProps.lockedStartColumns && computedProps.lockedStartColumns.length) {\n      (0, _warn.communityFeatureWarn)(\"Locked columns\", warnRef);\n    }\n\n    if (pluginsMap['footer-rows'] && pluginsMap['footer-rows'].hook) {\n      Object.assign(computedProps, pluginsMap['footer-rows'].hook(props, computedProps, computedPropsRef));\n    }\n\n    if ((props.renderRowDetails || props.expandedRows || props.defaultExpandedRows) && !pluginsMap['row-details']) {\n      (0, _warn.communityFeatureWarn)(\"Row Details and Master Details\", warnRef);\n    }\n\n    if (props.lockedRows && !pluginsMap['locked-rows']) {\n      (0, _warn.communityFeatureWarn)(\"Locked rows\", warnRef);\n    }\n\n    if (props.footerRows && !pluginsMap['footer-rows']) {\n      (0, _warn.communityFeatureWarn)(\"Footer rows\", warnRef);\n    }\n\n    Object.assign(computedProps, useRowProps);\n    Object.assign(computedProps, pluginsMap['menus'].hook(props, computedProps, computedPropsRef));\n    var computedWillReceiveFocusRef = (0, _react.useRef)(false);\n\n    computedProps.getState = function () {\n      return context.state;\n    };\n\n    computedProps.setStateProperty = function (name, value) {\n      context.state[name] = value;\n    };\n\n    computedProps.computedWillReceiveFocusRef = computedWillReceiveFocusRef;\n    delete computedProps.style;\n\n    var getScrollingElement = function getScrollingElement() {\n      var scrollingElement = getVirtualList().getScrollingElement();\n\n      if (!scrollingElement.scrollerNode) {\n        scrollingElement = scrollingElement.scroller;\n      }\n\n      return scrollingElement.scrollerNode;\n    };\n\n    computedProps.getScrollingElement = getScrollingElement;\n\n    var onGridScrollIntoView = function onGridScrollIntoView(event) {\n      var gridNode = getBodyDOMNode();\n      var eventTarget = event.target;\n\n      if (event.target != gridNode) {\n        return;\n      }\n\n      var scrollLeft = gridNode.scrollLeft,\n          scrollTop = gridNode.scrollTop;\n\n      if (scrollLeft) {\n        gridNode.scrollLeft = computedProps.rtl ? getScrollLeftMax() : 0;\n        requestAnimationFrame(function () {\n          if (computedProps.wasUnmountedRef.current) {\n            return;\n          }\n\n          incrementScrollLeft(scrollLeft);\n        });\n      }\n\n      if (scrollTop && eventTarget) {\n        eventTarget.scrollTop = 0;\n        global.requestAnimationFrame(function () {\n          if (computedProps.wasUnmountedRef.current) {\n            return;\n          }\n\n          incrementScrollTop(scrollTop);\n        });\n      }\n    };\n\n    var setupPassiveScrollListener = function setupPassiveScrollListener(node) {\n      node.addEventListener('scroll', onGridScrollIntoView, {\n        passive: true\n      });\n    };\n\n    var removePassiveScrollListener = function removePassiveScrollListener(node) {\n      if (node) {\n        node.removeEventListener('scroll', onGridScrollIntoView, {\n          passive: true\n        });\n      }\n    };\n\n    (0, _react.useEffect)(function () {\n      computedProps.wasMountedRef.current = true;\n\n      if (props.onDidMount) {\n        props.onDidMount(computedPropsRef);\n      }\n\n      var initialScrollLeft = props.initialScrollLeft,\n          initialScrollTop = props.initialScrollTop;\n\n      if (props.skipLoadOnMount) {\n        if (initialScrollTop) {\n          setScrollTop(initialScrollTop);\n        }\n\n        if (initialScrollLeft) {\n          setScrollLeft(initialScrollLeft);\n        }\n      }\n\n      var bodyNode = getBodyDOMNode();\n      setupPassiveScrollListener(bodyNode);\n      return function () {\n        removePassiveScrollListener(bodyNode);\n\n        if (props.onWillUnmount) {\n          props.onWillUnmount(computedPropsRef);\n        }\n\n        computedProps.wasUnmountedRef.current = true;\n      };\n    }, []);\n    (0, _react.useEffect)(function () {\n      if (props.handle) {\n        props.handle(computedPropsRef);\n      }\n\n      return function () {\n        if (props.handle) {\n          props.handle(null);\n        }\n      };\n    }, [props.handle]);\n    (0, _react.useEffect)(function () {\n      if (props.onReady && size.width) {\n        props.onReady(computedPropsRef);\n      }\n    }, [size.width !== 0]);\n    computedProps.cellNavigationRef = (0, _react.useRef)(null);\n    Object.assign(computedProps, pluginsMap['row-index-column'].hook(props, computedProps, computedPropsRef));\n    computedProps.coverHandleRef = (0, _react.useRef)(emptyCoverHandle);\n    computedProps.rowResizeIndexRef = (0, _react.useRef)(null);\n\n    var coverHandle = function coverHandle(_ref5) {\n      var setActive = _ref5.setActive,\n          setCursor = _ref5.setCursor;\n      computedPropsRef.current.coverHandleRef.current = {\n        setActive: setActive,\n        setCursor: setCursor\n      };\n    };\n\n    var activeItem = getItemAt(computedProps.computedActiveIndex);\n    var activeRowHeight = computedProps.computedRowHeights && activeItem ? computedProps.computedRowHeights[getItemId(activeItem)] : computedProps.rowHeight;\n    computedProps.activeRowHeight = activeRowHeight || computedProps.rowHeight;\n\n    computedProps.renderActiveRowIndicator = function (handle) {\n      return _react.default.createElement(_ActiveRowIndicator.default, {\n        handle: handle,\n        rtl: computedProps.rtl,\n        rtlOffset: computedProps.rtlOffset,\n        getDOMNode: computedProps.getDOMNode,\n        dataSourceCount: computedProps.data.length,\n        width: computedProps.minRowWidth || 0,\n        computedRowHeights: computedProps.computedRowHeights,\n        computedExpandedRows: computedProps.computedExpandedRows,\n        computedExpandedNodes: computedProps.computedExpandedNodes,\n        activeRowHeight: computedProps.activeRowHeight,\n        activeIndex: computedProps.computedActiveIndex,\n        activeRowRef: computedProps.activeRowRef\n      });\n    };\n\n    computedProps.computedLicenseValid = false;\n\n    if (pluginsMap.license && pluginsMap.license.hook) {\n      Object.assign(computedProps, pluginsMap.license.hook(props, computedProps, computedPropsRef));\n    }\n\n    if (edition !== 'enterprise') {\n      if (props.rowIndexColumn) {\n        (0, _warn.communityFeatureWarn)('Row resize (row index column)', warnRef);\n      }\n\n      if (props.livePagination) {\n        (0, _warn.communityFeatureWarn)('Live pagination', warnRef);\n      }\n\n      if (props.onRowReorder != null || props.rowReorderColumn != null) {\n        (0, _warn.communityFeatureWarn)('Row reorder', warnRef);\n      }\n    }\n\n    delete computedProps.renderLockedStartCells;\n    delete computedProps.renderLockedEndCells;\n\n    if (pluginsMap['locked-columns']) {\n      computedProps.renderLockedStartCells = pluginsMap['locked-columns'].renderLockedStartCells;\n      computedProps.renderLockedEndCells = pluginsMap['locked-columns'].renderLockedEndCells;\n    }\n\n    Object.defineProperty(computedProps, 'scrollTop', {\n      get: function get() {\n        return getScrollTop();\n      },\n      set: function set(newValue) {\n        setScrollTop(newValue);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    Object.defineProperty(computedProps, 'scrollLeft', {\n      get: function get() {\n        return getScrollLeft();\n      },\n      set: function set(newValue) {\n        setScrollLeft(newValue);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    computedProps.edition = edition;\n    return _react.default.createElement(\"div\", {\n      style: props.style,\n      className: className,\n      onKeyDown: onKeyDown,\n      onFocus: onFocus,\n      onBlur: props.onBlur,\n      ref: domRef\n    }, _react.default.createElement(_context.Provider, {\n      value: computedProps\n    }, pluginsMap['row-index-column'].renderRowResizeIndicator(computedProps, computedPropsRef), _react.default.createElement(_Layout.default, {\n      Footer: pluginsMap['footer-rows'] ? pluginsMap['footer-rows'].Footer : null,\n      ref: bodyRef,\n      renderInPortal: renderInPortal\n    }), _react.default.createElement(_Cover.default, {\n      handle: coverHandle\n    })), computedProps.computedLicenseValid === false && edition === 'enterprise' ? pluginsMap['license'].renderLicenseNotice(computedProps, computedPropsRef) : null, _react.default.createElement(_src.default, {\n      onResize: onResize,\n      notifyOnMount: true\n    }), renderLoadMask(computedProps), typeof pluginsMap['menus'].renderColumnContextMenu === 'function' ? pluginsMap['menus'].renderColumnContextMenu(computedProps, computedPropsRef) : null, typeof pluginsMap['menus'].renderRowContextMenu === 'function' ? pluginsMap['menus'].renderRowContextMenu(computedProps, computedPropsRef) : null, typeof pluginsMap['filters'].renderColumnFilterContextMenu === 'function' ? pluginsMap['filters'].renderColumnFilterContextMenu(computedProps, computedPropsRef) : null, _react.default.createElement(\"div\", {\n      ref: portalRef,\n      className: \"InovuaReactDataGrid__portal-host\"\n    }));\n  });\n\n  var defaultProps = {\n    idProperty: 'id',\n    rowHeight: 40,\n    minRowHeight: 20,\n    nativeScroll: false,\n    autoCheckboxColumn: false,\n    activateRowOnFocus: true,\n    checkboxOnlyRowSelect: false,\n    checkboxSelectEnableShiftKey: false,\n    renderScroller: function renderScroller(domProps) {\n      domProps.tabIndex = 0;\n    },\n    enableKeyboardNavigation: true,\n    scrollTopOnFilter: true,\n    scrollTopOnSort: true,\n    scrollTopOnGroupBy: true,\n    defaultShowHeader: true,\n    defaultShowEmptyRows: false,\n    defaultShowHoverRows: true,\n    defaultShowZebraRows: true,\n    defaultShowCellBorders: true,\n    cellSelectionByIndex: false,\n    columnResizeHandleWidth: _isMobile.default ? 15 : 5,\n    columnResizeProxyWidth: 5,\n    virtualizeColumnsThreshold: 15,\n    shareSpaceOnResize: false,\n    resizable: true,\n    virtualized: true,\n    allowUnsort: true,\n    rtl: false,\n    theme: 'default-light',\n    filterTypes: _filterTypes.default,\n    keyPageStep: 10,\n    expandGroupTitle: true,\n    allowGroupSplitOnReorder: true,\n    defaultCollapsedGroups: {},\n    groupPathSeparator: '/',\n    nodePathSeparator: '/',\n    groupNestingSize: 22,\n    treeNestingSize: 22,\n    columnMinWidth: 40,\n    columnReorderScrollByAmount: 20,\n    rowReorderScrollByAmount: 20,\n    reorderProxySize: 3,\n    columnMaxWidth: null,\n    editStartEvent: 'dblclick',\n    hideGroupByColumns: true,\n    defaultColumnOrder: undefined,\n    columnUserSelect: false,\n    columnHeaderUserSelect: false,\n    stickyGroupRows: false,\n    showWarnings: !_uglified.default,\n    toggleRowSelectOnClick: false,\n    toggleCellSelectOnClick: true,\n    clearNodeCacheOnDataSourceChange: true,\n    clearDataSourceCacheOnChange: true,\n    preventDefaultTextSelectionOnShiftMouseDown: true,\n    preventRowSelectionOnClickWithMouseMove: true,\n    showColumnMenuSortOptions: true,\n    showColumnMenuLockOptions: true,\n    showColumnMenuFilterOptions: true,\n    showColumnMenuGroupOptions: true,\n    autoFocusOnEditComplete: true,\n    showPivotSummaryColumns: true,\n    showColumnMenuToolOnHover: !_isMobile.default,\n    columnFilterContextMenuConstrainTo: true,\n    columnFilterContextMenuPosition: 'absolute',\n    generateIdFromPath: true,\n    collapseChildrenOnAsyncNodeCollapse: true,\n    collapseChildrenRecursive: true,\n    selectNodesRecursive: true,\n    isExpandKeyPressed: function isExpandKeyPressed(_ref6) {\n      var event = _ref6.event;\n      return event.key === 'ArrowRight' && event.altKey;\n    },\n    isCollapseKeyPressed: function isCollapseKeyPressed(_ref7) {\n      var event = _ref7.event;\n      return event.key === 'ArrowLeft' && event.altKey;\n    },\n    isStartEditKeyPressed: function isStartEditKeyPressed(_ref8) {\n      var event = _ref8.event;\n      return event.key === 'e' && event.ctrlKey;\n    },\n    rowExpandHeight: 80,\n    growExpandHeightWithDetails: true,\n    livePaginationLoadNextDelay: true,\n    livePaginationLoadMaskHideDelay: 50,\n    checkResizeDelay: 0,\n    multiRowExpand: true,\n    useNativeFlex: false,\n    updateMenuPositionOnScroll: true,\n    useRowHeightForLockedRows: true,\n    nodesProperty: 'nodes',\n    rowDetailsWidth: 'max-viewport-width',\n    contain: 'style layout',\n    rowContain: 'style layout',\n    groupToString: function groupToString(obj) {\n      var type = (0, _typeof2.default)(obj);\n      return type == 'string' || type === 'number' || type === 'boolean' ? \"\".concat(obj) : JSON.stringify(obj);\n    },\n    scrollProps: {\n      autoHide: true,\n      scrollThumbMargin: 4,\n      scrollThumbWidth: 6,\n      scrollThumbOverWidth: 8\n    },\n    detailsGridCacheKey: true,\n    sortFunctions: {\n      date: function date(v1, v2, column) {\n        if (window.moment && column.dateFormat) {\n          return window.moment(v1, column.dateFormat) - window.moment(v2, column.dateFormat);\n        }\n\n        return v1 - v2;\n      }\n    },\n    i18n: DEFAULT_I18N,\n    emptyText: 'noRecords',\n    isBinaryOperator: function isBinaryOperator(operator) {\n      return operator === 'inrange' || operator === 'notinrange';\n    }\n  };\n  var maybeAddCols = [];\n  plugins.forEach(function (plugin) {\n    if (!plugin.name) {\n      return;\n    }\n\n    if (typeof plugin.defaultProps === 'function') {\n      var result = plugin.defaultProps(Grid.defaultProps);\n\n      if (result != null) {\n        Grid.defaultProps = _objectSpread(_objectSpread({}, Grid.defaultProps), result);\n      }\n    }\n\n    if (typeof plugin.maybeAddColumns === 'function') {\n      maybeAddCols.push(plugin.maybeAddColumns);\n    }\n  });\n\n  if (maybeAddCols.length) {\n    maybeAddColumns = function maybeAddColumns(columns, props) {\n      var result = columns;\n      maybeAddCols.forEach(function (fn) {\n        result = fn(result, props);\n      });\n      return result;\n    };\n  }\n\n  var TheGrid = function TheGrid(props) {\n    var contextValue = (0, _react.useMemo)(function () {\n      return {\n        state: props.initialState || {}\n      };\n    }, []);\n    var Context = (0, _react.useMemo)(function () {\n      return _react.default.createContext(contextValue);\n    }, []);\n    return _react.default.createElement(Context.Provider, {\n      value: contextValue\n    }, _react.default.createElement(Grid, Object.assign({}, props, {\n      context: Context\n    })));\n  };\n\n  TheGrid.defaultProps = defaultProps;\n  return TheGrid;\n};\n\nvar _default = GridFactory;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}